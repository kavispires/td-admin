import{r as h,W as R,X as T,Y as W,Z as B,j as r,L as C,B as x,I as N,T as k,D as O,P as M}from"./index-IdPNWoIA.js";import{D as A}from"./DataLoadingWrapper-Ch7gITbQ.js";import{F as z}from"./FullScreenModal-D4J4BL2m.js";import{u as F}from"./useCardWidth-BvvDwNJ5.js";import{u as G}from"./useLoadWordLibrary-D7qdvJoz.js";import{u as b}from"./useQueryParams-DGhPKHGQ.js";import{l as m,P as J}from"./useBaseUrl-DjlPP39F.js";import{I as y}from"./ImageCard-B5JJASJ7.js";import{u as q,a as K}from"./hooks-C-KwrTW6.js";import{R as g}from"./RelationshipCountTag-BjMMUdvH.js";import{u as $}from"./useWindowSize-BWeYQ8sv.js";import{F as u}from"./index-ZnkpdGSt.js";import{T as L}from"./index-CWr1g8OB.js";import{I as S}from"./index-BdT5DDDg.js";import{a as H}from"./FilterEntries-CyKTUyXf.js";import{R as Q}from"./ResponseState-C6kTBXZB.js";import{D as U}from"./DownloadButton-4fgxXpYm.js";import{S as X}from"./SaveButton-BCIdkMt5.js";import{S as w}from"./SiderContent-Dmz6UsoL.js";import"./index-Dxa4tw87.js";import"./index-CyPnQVqW.js";import"./PlusOutlined-9DCgaAy3.js";import"./useMutation-C19tV37G.js";import"./index-Bp_ut9CP.js";import"./constants-B6u4zE9X.js";import"./Item-DFZhjtxG.js";import"./gapSize-U1swVQyS.js";import"./Input-DErVaEmv.js";import"./index-B2c0zKQZ.js";import"./index-gsdKC-Cu.js";import"./index-CMeCFo_f.js";import"./index-fvaD2JJj.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-BeXDflC8.js";var Y=W?window:null,E=function(e){return!!e.addEventListener},I=function(e){return!!e.on},Z=function(e,o,s,t){s===void 0&&(s=Y),h.useEffect(function(){if(o&&s)return E(s)?R(s,e,o,t):I(s)&&s.on(e,o,t),function(){E(s)?T(s,e,o,t):I(s)&&s.off(e,o,t)}},[e,o,s,JSON.stringify(t)])},_=function(e){return typeof e=="function"?e:typeof e=="string"?function(o){return o.key===e}:e?function(){return!0}:function(){return!1}},P=function(e,o,s,t){o===void 0&&(o=B),s===void 0&&(s={}),t===void 0&&(t=[e]);var d=s.event,c=d===void 0?"keydown":d,l=s.target,a=s.options,i=h.useMemo(function(){var n=_(e),j=function(p){if(n(p))return o(p)};return j},t);Z(c,i,l,a)};function V({query:e}){const{width:o}=$(),[s]=F(1,{minWidth:o/3}),{data:t,setDirty:d}=e,{cardAId:c,cardA:l,cardBId:a,cardB:i,relate:n,unrelate:j}=q(t,d),{addParam:p,is:D}=b(),v=D("open");return P("1",()=>{v&&j()}),P("2",()=>{v&&n()}),r.jsxs(C.Content,{className:"dev-content py-4",children:[r.jsx(x,{block:!0,onClick:()=>p("open","true"),children:"Open Modal"}),r.jsx(rr,{}),r.jsx(z,{actions:[r.jsx(x,{block:!0,onClick:j,size:"large",children:"Unrelated"},"1"),r.jsx(x,{block:!0,onClick:n,size:"large",type:"primary",children:"Related"},"2")],onClose:()=>p("open","false"),open:v,title:`Card A: ${c} vs Card B: ${a}`,children:r.jsx(N.PreviewGroup,{children:r.jsxs(u,{className:"center",justify:"center",wrap:"wrap",children:[r.jsxs(u,{vertical:!0,children:[r.jsx(y,{id:c,width:s}),r.jsxs(u,{children:[r.jsx(g,{card:l}),r.jsx(L,{children:c})]})]}),r.jsxs(u,{vertical:!0,children:[r.jsx(y,{id:a,width:s}),r.jsxs(u,{children:[r.jsx(g,{card:i}),r.jsx(L,{children:a})]})]})]})})})]})}const f={};function rr(){const{data:e,isLoading:o}=G(3,"pt",!0),[s,t]=h.useState(""),[d,c]=h.useState([]),l=()=>{!m.isEmpty(e)&&m.isEmpty(f)&&e.forEach(i=>{i.split("").forEach(n=>{f[n.toLowerCase()]?f[n.toLowerCase()].push(i):f[n.toLowerCase()]=[i]})});const a=s.split("").map(i=>m.sample(f[i.toLowerCase()])).filter(Boolean);c(a)};return r.jsxs(r.Fragment,{children:[r.jsx(k.Title,{className:"center",level:3,children:"Passcode Words"}),r.jsxs(u,{children:[r.jsx(S,{onChange:a=>t(a.target.value)}),r.jsx(x,{disabled:o||s.length===0,onClick:l,children:"Get"})]}),r.jsx(S.TextArea,{className:"mt-4",value:JSON.stringify(d)})]})}function er({query:e}){const{data:o,isDirty:s,isSaving:t,save:d,isLoading:c,isError:l}=e,{queryParams:a,addParam:i}=b();return r.jsxs(J,{children:[r.jsx(w,{children:r.jsxs(u,{gap:6,vertical:!0,children:[r.jsx(X,{dirt:JSON.stringify(o),isDirty:s,isSaving:t,onSave:()=>d({})}),r.jsx(U,{block:!0,data:o,disabled:m.isEmpty(o),fileName:"imageCardsRelationships.json",loading:t})]})}),r.jsx(Q,{hasResponseData:!m.isEmpty(o),isDirty:s,isError:l,isLoading:c||t}),r.jsxs(w,{children:[r.jsx(x,{block:!0,onClick:()=>i("open","true"),children:"Open Modal"}),r.jsx(O,{}),r.jsx(H,{label:"Cycle Threshold",onChange:n=>i("cycle",n),options:[1,3,5,10],value:a.get("cycle")||3})]})]})}function Or(){const e=K();return r.jsx(M,{subtitle:"Comparator",title:"Image Cards",children:r.jsx(A,{error:e.error,hasResponseData:!m.isEmpty(e.data),isLoading:e.isLoading,children:r.jsxs(C,{hasSider:!0,children:[r.jsx(er,{query:e}),r.jsx(C.Content,{className:"content",children:r.jsx(V,{query:e})})]})})})}export{Or as default};
