import{r as S,d as ke,_ as qe,j as r,T as _,F as w,b as U,av as qr,aw as Nr,ax as V,ay as Ar,ak as Mr,i as Dr,B as te,az as Er,I as Br,D as se,c as Fr,P as Hr,L as De}from"./index-DS1ivUKl.js";import{D as zr}from"./DataLoadingWrapper-D0kZen2e.js";import{l as A,c as Ee,P as Wr}from"./useBaseUrl-Dtc237x-.js";import{u as Lr}from"./useCardWidth-Chhwp1-j.js";import{u as F}from"./useQueryParams-C4ld1yVa.js";import{s as Q,a as $r}from"./index-jHRjb98a.js";import{S as Oe}from"./SuspectImageCard-C1Pw-pOA.js";import{D as br}from"./index-DQ986HFN.js";import{S as re}from"./index-Dmez0dR5.js";import{R as Be}from"./index-BD6ZCjPB.js";import{S as ae}from"./index-tTAXUxAi.js";import{u as Gr}from"./useCopyToClipboardFunction-ChjIZLGV.js";import{T as J}from"./index-C4eO-uQR.js";import{S as Kr,c as Ur,a as le}from"./FilterEntries-BH6rTU5G.js";import{R as Vr}from"./AppstoreOutlined-D3gjfJwL.js";import{S as Fe}from"./index-CsVi_JXz.js";import{a as Yr,R as Qr}from"./WomanOutlined-Dh78-f0S.js";import{R as Jr,a as Xr}from"./ColumnWidthOutlined-PxRti5Js.js";import{F as Zr}from"./Table-D2N6HiJJ.js";import{S as et}from"./SiderContent-BMu-46Kz.js";import{D as rt}from"./DownloadButton-DSUlqZ8B.js";import{F as tt}from"./FirestoreConsoleLink-Da8VD0Et.js";import{S as at}from"./SaveButton-DKXe5G67.js";import{S as nt}from"./SuspectsStyleVariantSelector-D7hGbUhz.js";import{u as it}from"./useResourceFirestoreData-BuYtrZEL.js";import"./constants-B83rpArh.js";import"./Item-Dbh73dpn.js";import"./ImageCard-BdcJJwGg.js";import"./index-Bt4KH6Ul.js";import"./index-CqMvr226.js";import"./scrollTo-DA_KzeKe.js";import"./Pagination-mWZn-0pL.js";import"./useMutation-lfyQutYx.js";import"./index-BkLRNpbd.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-BAI77UKw.js";import"./useGetFirestoreDoc-CKlWy8X1.js";import"./useTDResource-FMei0BaR.js";import"./useUpdateFirestoreDoc-DzIYrdOz.js";var ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"},st=function(o,i){return S.createElement(ke,qe({},o,{ref:i,icon:ot}))},He=S.forwardRef(st),lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M910.5 553.2l-109-370.8c-6.8-20.4-23.1-34.1-44.9-34.1s-39.5 12.3-46.3 32.7l-72.2 215.4H386.2L314 181.1c-6.8-20.4-24.5-32.7-46.3-32.7s-39.5 13.6-44.9 34.1L113.9 553.2c-4.1 13.6 1.4 28.6 12.3 36.8l385.4 289 386.7-289c10.8-8.1 16.3-23.1 12.2-36.8z"}}]},name:"gitlab",theme:"filled"},ct=function(o,i){return S.createElement(ke,qe({},o,{ref:i,icon:lt}))},ut=S.forwardRef(ct),dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.3 338.4a447.57 447.57 0 00-96.1-143.3 443.09 443.09 0 00-143-96.3A443.91 443.91 0 00512 64h-2c-60.5.3-119 12.3-174.1 35.9a444.08 444.08 0 00-141.7 96.5 445 445 0 00-95 142.8A449.89 449.89 0 0065 514.1c.3 69.4 16.9 138.3 47.9 199.9v152c0 25.4 20.6 46 45.9 46h151.8a447.72 447.72 0 00199.5 48h2.1c59.8 0 117.7-11.6 172.3-34.3A443.2 443.2 0 00827 830.5c41.2-40.9 73.6-88.7 96.3-142 23.5-55.2 35.5-113.9 35.8-174.5.2-60.9-11.6-120-34.8-175.6zM312.4 560c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.4 48-47.9 48zm199.6 0c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.5 48-47.9 48zm199.6 0c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.5 48-47.9 48z"}}]},name:"message",theme:"filled"},pt=function(o,i){return S.createElement(ke,qe({},o,{ref:i,icon:dt}))},ft=S.forwardRef(pt);const ht=["18-21","21-30","30-40","40-50","50-60","60-70","70-80","80-90"].map(e=>({label:e,value:e})),mt=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Non-binary",value:"non-binary"},{label:"Other",value:"other"}],gt=[{label:"Caucasian",value:"caucasian"},{label:"Black",value:"black"},{label:"Asian",value:"asian"},{label:"Latino",value:"latino"},{label:"Indigenous",value:"indigenous"},{label:"Indian",value:"indian"},{label:"Middle Eastern",value:"middle-eastern"},{label:"Mixed",value:"mixed"},{persona:"Other",value:"other"}];function xt({data:e,addEntryToUpdate:o}){const{removeParam:i,queryParams:n}=F(),a=n.get("suspectId"),t=e[a??""],[l,u]=S.useState(t?.name.pt||""),[f,p]=S.useState(t?.name.en||""),[g,y]=S.useState(t?.persona.pt||""),[x,v]=S.useState(t?.persona.en||"");S.useEffect(()=>{t&&(u(t.name.pt),p(t.name.en),y(t.persona.pt),v(t.persona.en))},[t?.id]);const C=()=>{t&&l!==t.name.pt&&o(t.id,{...t,name:{...t.name,pt:l}})},m=()=>{t&&f!==t.name.en&&o(t.id,{...t,name:{...t.name,en:f}})},q=()=>{t&&g!==t.persona.pt&&o(t.id,{...t,persona:{...t.persona,pt:g}})},d=()=>{t&&x!==t.persona.en&&o(t.id,{...t,persona:{...t.persona,en:x}})},s=(c,h,b)=>{const j=e[c];j&&j[h]!==b&&o(c,{...j,[h]:b})};return t?r.jsx(br,{onClose:()=>i("suspectId"),open:!!t,placement:"right",title:t.name.pt,width:400,children:r.jsxs("div",{className:"suspect__drawer",children:[r.jsxs("div",{className:"grid",style:{gridTemplateColumns:"1fr 1.25fr",height:"100%",overflowY:"auto"},children:[r.jsxs("div",{children:[r.jsx("div",{style:{top:64,position:"fixed"},children:r.jsx(Oe,{cardId:t.id,cardWidth:100})}),r.jsxs("div",{style:{marginTop:156},children:[r.jsx(_.Text,{strong:!0,children:"Prompt"}),r.jsx(_.Paragraph,{code:!0,editable:{onChange:c=>s(t.id,"prompt",c)},children:t.prompt})]})]}),r.jsxs(w,{gap:4,vertical:!0,children:[r.jsx(U,{onBlur:C,onChange:c=>u(c.target.value),placeholder:"Name in PT",prefix:r.jsx("span",{children:"ðŸ‡§ðŸ‡·"}),size:"small",value:l}),r.jsx(U,{onBlur:m,onChange:c=>p(c.target.value),placeholder:"Name in EN",prefix:r.jsx("span",{children:"ðŸ‡ºðŸ‡¸"}),size:"small",value:f}),r.jsx(U,{onBlur:q,onChange:c=>y(c.target.value),placeholder:"Persona in PT",prefix:r.jsx("span",{children:"ðŸ‡§ðŸ‡·"}),size:"small",value:g}),r.jsx(U,{onBlur:d,onChange:c=>v(c.target.value),placeholder:"Persona in EN",prefix:r.jsx("span",{children:"ðŸ‡ºðŸ‡¸"}),size:"small",value:x}),r.jsx("div",{children:r.jsx(re,{onChange:c=>s(t.id,"age",c),options:ht,placeholder:"Select Age",size:"small",style:{width:80},value:t.age})}),r.jsx("div",{children:r.jsx(re,{onChange:c=>s(t.id,"gender",c),options:mt,size:"small",style:{width:120},value:t.gender})}),r.jsx("div",{children:r.jsx(re,{onChange:c=>s(t.id,"ethnicity",c),options:gt,size:"small",style:{width:150},value:t.ethnicity})}),r.jsxs("div",{children:[r.jsx(_.Text,{strong:!0,children:"Animal"}),r.jsx(_.Paragraph,{code:!0,editable:{onChange:c=>s(t.id,"animal",c)},children:t.animal})]})]})]}),r.jsxs("div",{className:"grid grid-2",children:[r.jsxs(w,{vertical:!0,children:[r.jsx(_.Text,{strong:!0,children:"Build"}),r.jsx(Be.Group,{onChange:c=>s(t.id,"build",c.target.value),options:bt,size:"small",style:{display:"flex",flexDirection:"column",gap:3},value:t.build})]}),r.jsxs(w,{vertical:!0,children:[r.jsx(_.Text,{strong:!0,children:"Height"}),r.jsx(Be.Group,{onChange:c=>s(t.id,"height",c.target.value),options:yt,size:"small",style:{display:"flex",flexDirection:"column",gap:3},value:t.height})]})]}),r.jsx(vt,{addEntryToUpdate:o,suspect:t})]})}):null}function vt({suspect:e,addEntryToUpdate:o}){const i=e.features??[],n=a=>{const t=i.includes(a)?i.filter(l=>l!==a):[...i,a];o(e.id,{...e,features:t})};return r.jsx("div",{className:"grid grid-2",children:Ne.map(a=>r.jsxs("div",{className:"my-4",children:[r.jsx(_.Text,{strong:!0,children:a.title}),a.features.map(t=>r.jsxs(w,{className:"my-2",gap:4,children:[r.jsx(ae,{checked:i.includes(t.id),onChange:()=>n(t.id),size:"small"})," ",t.label]},t.id))]},a.title))})}const bt=["thin","average","muscular","large"],yt=["short","medium","tall"],Ne=[{title:"Hair Length",features:[{id:"shortHair",label:"Short Hair"},{id:"longHair",label:"Long Hair"},{id:"mediumHair",label:"Medium Hair"},{id:"bald",label:"Bald"}]},{title:"Hair Color",features:[{id:"blackHair",label:"Black Hair"},{id:"brownHair",label:"Brown Hair"},{id:"blondeHair",label:"Blonde Hair"},{id:"redHair",label:"Red Hair"},{id:"greyHair",label:"Grey Hair"},{id:"coloredHair",label:"Colored Hair"}]},{title:"Face",features:[{id:"beard",label:"Beard"},{id:"mustache",label:"Mustache"},{id:"goatee",label:"Goatee"},{id:"lipstick",label:"Lipstick"}]},{title:"Specific",features:[{id:"showTeeth",label:"Showing Teeth"},{id:"avoidingCamera",label:"Avoiding Camera"},{id:"hairyChest",label:"Exposed Hairy Chest"},{id:"shirtless",label:"Shirtless"},{id:"noHairInfo",label:"No Hair Info"}]},{title:"Accessories",features:[{id:"noAccessories",label:"No Accessories"},{id:"glasses",label:"Glasses"},{id:"piercings",label:"Piercings"},{id:"earrings",label:"Earrings"},{id:"necklace",label:"Necklace"},{id:"hat",label:"Hat"},{id:"scarf",label:"Scarf"},{id:"hoodie",label:"Hoodie"},{id:"tie",label:"Tie"},{id:"headscarf",label:"Headscarf/Bandana"},{id:"bow",label:"Bow"},{id:"wearingFlowers",label:"Wearing Flowers"},{id:"hairTie",label:"Hair Tie"}]},{title:"Clothing",features:[{id:"whiteShirt",label:"White Shirt"},{id:"blackClothes",label:"Black Clothes"},{id:"blueClothes",label:"Blue Clothes"},{id:"redClothes",label:"Red Clothes"},{id:"greenClothes",label:"Green Clothes"},{id:"yellowClothes",label:"Yellow Clothes"},{id:"purpleClothes",label:"Purple Clothes"},{id:"pinkClothes",label:"Pink Clothes"},{id:"orangeClothes",label:"Orange Clothes"},{id:"brownClothes",label:"Brown Clothes"},{id:"patternedShirt",label:"Patterned Shirt"},{id:"wearingStripes",label:"Wearing Stripes"},{id:"buttonShirt",label:"Button Shirt"}]}],yr=A.orderBy(Ne.reduce((e,o)=>(o.features.forEach(i=>{e.push({value:i.id,label:`${o.title}: ${i.label}`})}),e),[]),["label"],["asc"]);console.log("flatFeatures",yr.map(e=>e.value));function jt(){const{addParam:e,queryParams:o}=F();return r.jsxs(w,{align:"center",className:"my-2",gap:8,children:[r.jsx(_.Text,{children:"Feature Highlight:"})," ",r.jsx(re,{allowClear:!0,onChange:i=>e("activeFeature",i),options:yr,size:"small",style:{width:275},value:o.get("activeFeature")||void 0})]})}var z={},ce={exports:{}},ue={exports:{}},ze;function ne(){return ze||(ze=1,function(e){function o(i){"@babel/helpers - typeof";return e.exports=o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,o(i)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(ue)),ue.exports}var We;function ie(){return We||(We=1,function(e){var o=ne().default;function i(a){if(typeof WeakMap!="function")return null;var t=new WeakMap,l=new WeakMap;return(i=function(f){return f?l:t})(a)}function n(a,t){if(!t&&a&&a.__esModule)return a;if(a===null||o(a)!="object"&&typeof a!="function")return{default:a};var l=i(t);if(l&&l.has(a))return l.get(a);var u={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in a)if(p!=="default"&&{}.hasOwnProperty.call(a,p)){var g=f?Object.getOwnPropertyDescriptor(a,p):null;g&&(g.get||g.set)?Object.defineProperty(u,p,g):u[p]=a[p]}return u.default=a,l&&l.set(a,u),u}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(ce)),ce.exports}var de={exports:{}},Le;function Y(){return Le||(Le=1,function(e){function o(i){return i&&i.__esModule?i:{default:i}}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(de)),de.exports}var pe={exports:{}},$e;function jr(){return $e||($e=1,function(e){function o(){return e.exports=o=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)({}).hasOwnProperty.call(a,t)&&(i[t]=a[t])}return i},e.exports.__esModule=!0,e.exports.default=e.exports,o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(pe)),pe.exports}var X={},Ge;function Ct(){if(Ge)return X;Ge=1,Object.defineProperty(X,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482.88 128c-84.35 0-156.58 52.8-185.68 126.98-60.89 8.13-115.3 43.63-146.6 97.84-42.16 73-32.55 161.88 17.14 224.16-23.38 56.75-19.85 121.6 11.42 175.78 42.18 73.02 124.1 109.15 202.94 97.23C419.58 898.63 477.51 928 540.12 928c84.35 0 156.58-52.8 185.68-126.98 60.89-8.13 115.3-43.62 146.6-97.84 42.16-73 32.55-161.88-17.14-224.16 23.38-56.75 19.85-121.6-11.42-175.78-42.18-73.02-124.1-109.15-202.94-97.23C603.42 157.38 545.49 128 482.88 128m0 61.54c35.6 0 68.97 13.99 94.22 37.74-1.93 1.03-3.92 1.84-5.83 2.94l-136.68 78.91a46.11 46.11 0 00-23.09 39.78l-.84 183.6-65.72-38.34V327.4c0-76 61.9-137.86 137.94-137.86m197.7 75.9c44.19 3.14 86.16 27.44 109.92 68.57 17.8 30.8 22.38 66.7 14.43 100.42-1.88-1.17-3.6-2.49-5.53-3.6l-136.73-78.91a46.23 46.23 0 00-46-.06l-159.47 91.1.36-76.02 144.5-83.41a137.19 137.19 0 0178.53-18.09m-396.92 55.4c-.07 2.2-.3 4.35-.3 6.56v157.75a46.19 46.19 0 0022.91 39.9l158.68 92.5-66.02 37.67-144.55-83.35c-65.86-38-88.47-122.53-50.45-188.34 17.78-30.78 46.55-52.69 79.73-62.68m340.4 79.93l144.54 83.35c65.86 38 88.47 122.53 50.45 188.34-17.78 30.78-46.55 52.69-79.73 62.68.07-2.19.3-4.34.3-6.55V570.85a46.19 46.19 0 00-22.9-39.9l-158.69-92.5zM511.8 464.84l54.54 31.79-.3 63.22-54.84 31.31-54.54-31.85.3-63.16zm100.54 58.65l65.72 38.35V728.6c0 76-61.9 137.86-137.94 137.86-35.6 0-68.97-13.99-94.22-37.74 1.93-1.03 3.92-1.84 5.83-2.94l136.68-78.9a46.11 46.11 0 0023.09-39.8zm-46.54 89.55l-.36 76.02-144.5 83.41c-65.85 38-150.42 15.34-188.44-50.48-17.8-30.8-22.38-66.7-14.43-100.42 1.88 1.17 3.6 2.5 5.53 3.6l136.74 78.91a46.23 46.23 0 0046 .06z"}}]},name:"open-a-i",theme:"outlined"};return X.default=e,X}var W={},fe={exports:{}},he={exports:{}},Ke;function _t(){return Ke||(Ke=1,function(e){function o(i){if(Array.isArray(i))return i}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(he)),he.exports}var me={exports:{}},Ue;function St(){return Ue||(Ue=1,function(e){function o(i,n){var a=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(a!=null){var t,l,u,f,p=[],g=!0,y=!1;try{if(u=(a=a.call(i)).next,n===0){if(Object(a)!==a)return;g=!1}else for(;!(g=(t=u.call(a)).done)&&(p.push(t.value),p.length!==n);g=!0);}catch(x){y=!0,l=x}finally{try{if(!g&&a.return!=null&&(f=a.return(),Object(f)!==f))return}finally{if(y)throw l}}return p}}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(me)),me.exports}var ge={exports:{}},xe={exports:{}},Ve;function Pt(){return Ve||(Ve=1,function(e){function o(i,n){(n==null||n>i.length)&&(n=i.length);for(var a=0,t=Array(n);a<n;a++)t[a]=i[a];return t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(xe)),xe.exports}var Ye;function wt(){return Ye||(Ye=1,function(e){var o=Pt();function i(n,a){if(n){if(typeof n=="string")return o(n,a);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(n,a):void 0}}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(ge)),ge.exports}var ve={exports:{}},Qe;function Tt(){return Qe||(Qe=1,function(e){function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(ve)),ve.exports}var Je;function Cr(){return Je||(Je=1,function(e){var o=_t(),i=St(),n=wt(),a=Tt();function t(l,u){return o(l)||i(l,u)||n(l,u)||a()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(fe)),fe.exports}var be={exports:{}},ye={exports:{}},je={exports:{}},Xe;function Ot(){return Xe||(Xe=1,function(e){var o=ne().default;function i(n,a){if(o(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var l=t.call(n,a||"default");if(o(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(je)),je.exports}var Ze;function Rt(){return Ze||(Ze=1,function(e){var o=ne().default,i=Ot();function n(a){var t=i(a,"string");return o(t)=="symbol"?t:t+""}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(ye)),ye.exports}var er;function _r(){return er||(er=1,function(e){var o=Rt();function i(n,a,t){return(a=o(a))in n?Object.defineProperty(n,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[a]=t,n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(be)),be.exports}var Ce={exports:{}},_e={exports:{}},rr;function It(){return rr||(rr=1,function(e){function o(i,n){if(i==null)return{};var a={};for(var t in i)if({}.hasOwnProperty.call(i,t)){if(n.includes(t))continue;a[t]=i[t]}return a}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(_e)),_e.exports}var tr;function Sr(){return tr||(tr=1,function(e){var o=It();function i(n,a){if(n==null)return{};var t,l,u=o(n,a);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(n);for(l=0;l<f.length;l++)t=f[l],a.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(u[t]=n[t])}return u}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(Ce)),Ce.exports}const Pr=qr(Nr);var L={},ar;function wr(){if(ar)return L;ar=1,Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var e=V(),o=(0,e.createContext)({});return L.default=o,L}var $={},Se={exports:{}},nr;function Tr(){return nr||(nr=1,function(e){var o=_r();function i(a,t){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);t&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),l.push.apply(l,u)}return l}function n(a){for(var t=1;t<arguments.length;t++){var l=arguments[t]!=null?arguments[t]:{};t%2?i(Object(l),!0).forEach(function(u){o(a,u,l[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):i(Object(l)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(l,u))})}return a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Se)),Se.exports}var R={},M={},Pe={exports:{}},ir;function kt(){return ir||(ir=1,function(e){function o(i){return i&&i.__esModule?i:{default:i}}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(Pe)),Pe.exports}var we={exports:{}},Te={exports:{}},or;function qt(){return or||(or=1,function(e){function o(i,n,a){return n in i?Object.defineProperty(i,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[n]=a,i}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(Te)),Te.exports}var sr;function Nt(){return sr||(sr=1,function(e){var o=qt();function i(a,t){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);t&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),l.push.apply(l,u)}return l}function n(a){for(var t=1;t<arguments.length;t++){var l=arguments[t]!=null?arguments[t]:{};t%2?i(Object(l),!0).forEach(function(u){o(a,u,l[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):i(Object(l)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(l,u))})}return a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(we)),we.exports}var Z={},lr;function At(){if(lr)return Z;lr=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=e;function e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}return Z}var ee={},cr;function Mt(){if(cr)return ee;cr=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=e;function e(o,i){if(!o)return!1;if(o.contains)return o.contains(i);for(var n=i;n;){if(n===o)return!0;n=n.parentNode}return!1}return ee}var ur;function Dt(){if(ur)return M;ur=1;var e=kt().default;Object.defineProperty(M,"__esModule",{value:!0}),M.clearContainerCache=q,M.injectCSS=x,M.removeCSS=C,M.updateCSS=d;var o=e(Nt()),i=e(At()),n=e(Mt()),a="data-rc-order",t="data-rc-priority",l="rc-util-key",u=new Map;function f(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=s.mark;return c?c.startsWith("data-")?c:"data-".concat(c):l}function p(s){if(s.attachTo)return s.attachTo;var c=document.querySelector("head");return c||document.body}function g(s){return s==="queue"?"prependQueue":s?"prepend":"append"}function y(s){return Array.from((u.get(s)||s).children).filter(function(c){return c.tagName==="STYLE"})}function x(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,i.default)())return null;var h=c.csp,b=c.prepend,j=c.priority,T=j===void 0?0:j,O=g(b),N=O==="prependQueue",P=document.createElement("style");P.setAttribute(a,O),N&&T&&P.setAttribute(t,"".concat(T)),h!=null&&h.nonce&&(P.nonce=h?.nonce),P.innerHTML=s;var I=p(c),D=I.firstChild;if(b){if(N){var H=(c.styles||y(I)).filter(function(E){if(!["prepend","prependQueue"].includes(E.getAttribute(a)))return!1;var oe=Number(E.getAttribute(t)||0);return T>=oe});if(H.length)return I.insertBefore(P,H[H.length-1].nextSibling),P}I.insertBefore(P,D)}else I.appendChild(P);return P}function v(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=p(c);return(c.styles||y(h)).find(function(b){return b.getAttribute(f(c))===s})}function C(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=v(s,c);if(h){var b=p(c);b.removeChild(h)}}function m(s,c){var h=u.get(s);if(!h||!(0,n.default)(document,h)){var b=x("",c),j=b.parentNode;u.set(s,j),s.removeChild(b)}}function q(){u.clear()}function d(s,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=p(h),j=y(b),T=(0,o.default)((0,o.default)({},h),{},{styles:j});m(b,T);var O=v(c,T);if(O){var N,P;if((N=T.csp)!==null&&N!==void 0&&N.nonce&&O.nonce!==((P=T.csp)===null||P===void 0?void 0:P.nonce)){var I;O.nonce=(I=T.csp)===null||I===void 0?void 0:I.nonce}return O.innerHTML!==s&&(O.innerHTML=s),O}var D=x(s,T);return D.setAttribute(f(T),c),D}return M}var G={},dr;function Et(){if(dr)return G;dr=1,Object.defineProperty(G,"__esModule",{value:!0}),G.getShadowRoot=i,G.inShadow=o;function e(n){var a;return n==null||(a=n.getRootNode)===null||a===void 0?void 0:a.call(n)}function o(n){return e(n)instanceof ShadowRoot}function i(n){return o(n)?e(n):null}return G}var k={},pr;function Bt(){if(pr)return k;pr=1,Object.defineProperty(k,"__esModule",{value:!0}),k.call=t,k.default=void 0,k.note=n,k.noteOnce=u,k.preMessage=void 0,k.resetWarned=a,k.warning=i,k.warningOnce=l;var e={},o=k.preMessage=function(p){};function i(f,p){}function n(f,p){}function a(){e={}}function t(f,p,g){!p&&!e[g]&&(f(!1,g),e[g]=!0)}function l(f,p){t(i,f,p)}function u(f,p){t(n,f,p)}return l.preMessage=o,l.resetWarned=a,l.noteOnce=u,k.default=l,k}var fr;function Ae(){if(fr)return R;fr=1;var e=ie().default,o=Y().default;Object.defineProperty(R,"__esModule",{value:!0}),R.generate=C,R.getSecondaryColor=m,R.iconStyles=void 0,R.isIconDefinition=x,R.normalizeAttrs=v,R.normalizeTwoToneColors=q,R.useInsertStyles=R.svgBaseProps=void 0,R.warning=y;var i=o(Tr()),n=o(ne()),a=Pr,t=Dt(),l=Et(),u=o(Bt()),f=e(V()),p=o(wr());function g(s){return s.replace(/-(.)/g,function(c,h){return h.toUpperCase()})}function y(s,c){(0,u.default)(s,"[@ant-design/icons] ".concat(c))}function x(s){return(0,n.default)(s)==="object"&&typeof s.name=="string"&&typeof s.theme=="string"&&((0,n.default)(s.icon)==="object"||typeof s.icon=="function")}function v(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(s).reduce(function(c,h){var b=s[h];switch(h){case"class":c.className=b,delete c.class;break;default:delete c[h],c[g(h)]=b}return c},{})}function C(s,c,h){return h?f.default.createElement(s.tag,(0,i.default)((0,i.default)({key:c},v(s.attrs)),h),(s.children||[]).map(function(b,j){return C(b,"".concat(c,"-").concat(s.tag,"-").concat(j))})):f.default.createElement(s.tag,(0,i.default)({key:c},v(s.attrs)),(s.children||[]).map(function(b,j){return C(b,"".concat(c,"-").concat(s.tag,"-").concat(j))}))}function m(s){return(0,a.generate)(s)[0]}function q(s){return s?Array.isArray(s)?s:[s]:[]}R.svgBaseProps={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};var d=R.iconStyles=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;return R.useInsertStyles=function(c){var h=(0,f.useContext)(p.default),b=h.csp,j=h.prefixCls,T=h.layer,O=d;j&&(O=O.replace(/anticon/g,j)),T&&(O="@layer ".concat(T,` {
`).concat(O,`
}`)),(0,f.useEffect)(function(){var N=c.current,P=(0,l.getShadowRoot)(N);(0,t.updateCSS)(O,"@ant-design-icons",{prepend:!T,csp:b,attachTo:P})},[])},R}var hr;function Or(){if(hr)return $;hr=1;var e=Y().default,o=ie().default;Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var i=e(Sr()),n=e(Tr()),a=o(V()),t=Ae(),l=["icon","className","onClick","style","primaryColor","secondaryColor"],u={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function f(y){var x=y.primaryColor,v=y.secondaryColor;u.primaryColor=x,u.secondaryColor=v||(0,t.getSecondaryColor)(x),u.calculated=!!v}function p(){return(0,n.default)({},u)}var g=function(x){var v=x.icon,C=x.className,m=x.onClick,q=x.style,d=x.primaryColor,s=x.secondaryColor,c=(0,i.default)(x,l),h=a.useRef(),b=u;if(d&&(b={primaryColor:d,secondaryColor:s||(0,t.getSecondaryColor)(d)}),(0,t.useInsertStyles)(h),(0,t.warning)((0,t.isIconDefinition)(v),"icon should be icon definiton, but got ".concat(v)),!(0,t.isIconDefinition)(v))return null;var j=v;return j&&typeof j.icon=="function"&&(j=(0,n.default)((0,n.default)({},j),{},{icon:j.icon(b.primaryColor,b.secondaryColor)})),(0,t.generate)(j.icon,"svg-".concat(j.name),(0,n.default)((0,n.default)({className:C,onClick:m,style:q,"data-icon":j.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c),{},{ref:h}))};return g.displayName="IconReact",g.getTwoToneColors=p,g.setTwoToneColors=f,$.default=g,$}var K={},mr;function Ft(){if(mr)return K;mr=1;var e=Y().default;Object.defineProperty(K,"__esModule",{value:!0}),K.getTwoToneColor=t,K.setTwoToneColor=a;var o=e(Cr()),i=e(Or()),n=Ae();function a(l){var u=(0,n.normalizeTwoToneColors)(l),f=(0,o.default)(u,2),p=f[0],g=f[1];return i.default.setTwoToneColors({primaryColor:p,secondaryColor:g})}function t(){var l=i.default.getTwoToneColors();return l.calculated?[l.primaryColor,l.secondaryColor]:l.primaryColor}return K}var gr;function Ht(){if(gr)return W;gr=1;var e=Y().default,o=ie().default;Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var i=e(jr()),n=e(Cr()),a=e(_r()),t=e(Sr()),l=o(V()),u=e(Ar()),f=Pr,p=e(wr()),g=e(Or()),y=Ft(),x=Ae(),v=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,y.setTwoToneColor)(f.blue.primary);var C=l.forwardRef(function(m,q){var d=m.className,s=m.icon,c=m.spin,h=m.rotate,b=m.tabIndex,j=m.onClick,T=m.twoToneColor,O=(0,t.default)(m,v),N=l.useContext(p.default),P=N.prefixCls,I=P===void 0?"anticon":P,D=N.rootClassName,H=(0,u.default)(D,I,(0,a.default)((0,a.default)({},"".concat(I,"-").concat(s.name),!!s.name),"".concat(I,"-spin"),!!c||s.name==="loading"),d),E=b;E===void 0&&j&&(E=-1);var oe=h?{msTransform:"rotate(".concat(h,"deg)"),transform:"rotate(".concat(h,"deg)")}:void 0,Rr=(0,x.normalizeTwoToneColors)(T),Me=(0,n.default)(Rr,2),Ir=Me[0],kr=Me[1];return l.createElement("span",(0,i.default)({role:"img","aria-label":s.name},O,{ref:q,tabIndex:E,onClick:j,className:H}),l.createElement(g.default,{icon:s,primaryColor:Ir,secondaryColor:kr,style:oe}))});return C.displayName="AntdIcon",C.getTwoToneColor=y.getTwoToneColor,C.setTwoToneColor=y.setTwoToneColor,W.default=C,W}var xr;function zt(){if(xr)return z;xr=1;var e=ie().default,o=Y().default;Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var i=o(jr()),n=e(V()),a=o(Ct()),t=o(Ht()),l=function(p,g){return n.createElement(t.default,(0,i.default)({},p,{ref:g,icon:a.default}))},u=n.forwardRef(l);return z.default=u,z}var Wt=zt();const Lt=Mr(Wt),Re="TD_ADMIN_SUSPECTS_PROMPT",Ie="TD_ADMIN_SUSPECTS_PROMPT_SUFFIX",$t={ghibli:"Make this picture ghibli style in 2:3 aspect-ratio. It's a",fox:"Now make the image in the Family Guy style, aspect ratio at 2:3. It's a",pixar:"Now make the image in the 3d Pixar style, aspect ratio at 2:3. It's a",realistic:"Make this image realistic style, keep the Polaroid frame (don't make the image granular) and aspect ratio at 2:3. It's a",zootopia:"Make this image to look like a character from Zootopia, keep the Polaroid frame (don't make the image granular) and aspect ratio at 2:3. It's a"};function Gt(){const[e,o]=S.useState(localStorage.getItem(Re)??"Make a pixar version of this image, keep the Polaroid frame and aspect ratio at 2:3. It's a"),[i,n]=S.useState(localStorage.getItem(Ie)==="true"),{queryParams:a}=F(),t=u=>{const f=u.target.value;o(f),localStorage.setItem(Re,f)},l=u=>{n(u),localStorage.setItem(Ie,u?"true":"false")};return r.jsxs(w,{align:"center",className:"my-2",gap:8,children:[r.jsx(_.Text,{children:"Custom Prompt:"}),r.jsx(U,{disabled:a.has("prompt"),onChange:t,placeholder:"AI Prompt",style:{width:320},value:e}),r.jsx(ae,{checked:i,checkedChildren:"Include Features",onChange:l,unCheckedChildren:"No Features"})]})}function vr({suspect:e}){const o=Gr(),{notification:i}=Dr.useApp(),{queryParams:n}=F(),a=n.get("prompt"),t=()=>{console.log("promptQP",a);let l=a?$t[a]:localStorage.getItem(Re)??"";if(a==="zootopia"){if(!e.animal){i.error({message:"Error",description:"Suspect does not have an animal type defined."});return}l+=`${e.animal} `}if(!e.prompt){i.error({message:"Error",description:"Suspect does not have a prompt defined."});return}let u=`${l} ${e.prompt}`;localStorage.getItem(Ie)==="true"&&(u+=` make sure it has the following features: ${e.features.join(", ")}`),console.log(u),o(u)};return r.jsx(te,{onClick:t,size:"small",children:r.jsx(Lt,{})})}function Kt({data:e,addEntryToUpdate:o}){const{addParam:i,queryParams:n}=F(),[a,t]=S.useState("cards"),l=n.get("variant")??"gb",u=n.get("sortBy")??"id",f=Number(n.get("cardsPerRow"))||10,p=n.get("activeFeature")||"",g=n.get("suspectId"),[y,x]=Lr(f,{margin:0,gap:8}),v=S.useMemo(()=>A.orderBy(Object.values(e),d=>u==="id"?Number(d.id.split("-").at(-1)):u==="name.pt"?Q(d.name.pt).toLowerCase():u==="name.en"?Q(d.name.en).toLowerCase():d[u]??d.id,["asc"]),[e,u]),C=(d,s)=>{const c=e[d];if(!c)return;const h=c.features||[];h.includes(s)?o(d,{...c,features:h.filter(b=>b!==s)}):o(d,{...c,features:[...h,s]})},m=(d,s,c)=>{const h=e[d];h&&o(d,{...h,[s]:c})},q=S.useMemo(()=>[{title:"ID",dataIndex:"id",key:"id",width:80,sorter:(d,s)=>Number(d.id.split("-").at(-1))-Number(s.id.split("-").at(-1)),render:(d,s)=>r.jsxs(w,{align:"center",gap:4,vertical:!0,children:[r.jsxs(w,{align:"center",gap:6,children:[r.jsx(J,{children:d})," ",r.jsx(vr,{suspect:s})]}),r.jsx(Oe,{cardId:s.id,cardWidth:y/1.5,className:"suspect__image"})]})},{title:"Name (PT)",dataIndex:["name","pt"],key:"name.pt",sorter:(d,s)=>Q(d.name.pt.toLocaleLowerCase()).localeCompare(Q(s.name.pt.toLocaleLowerCase())),render:(d,s)=>r.jsxs(w,{vertical:!0,children:[r.jsx(_.Text,{children:s.name.pt}),r.jsx(_.Text,{children:s.name.en})]})},{title:"Persona",dataIndex:"persona",key:"persona",render:(d,s)=>r.jsxs(w,{vertical:!0,children:[r.jsxs(w,{vertical:!0,children:[r.jsx(_.Text,{children:d.pt}),r.jsx(_.Text,{children:d.en})]}),r.jsx(_.Paragraph,{code:!0,editable:{onChange:c=>m(s.id,"animal",c)},children:s.animal})]})},{title:"Gender",dataIndex:"gender",key:"gender",sorter:(d,s)=>d.gender.localeCompare(s.gender)},{title:"Age",dataIndex:"age",key:"age",render:d=>r.jsx(J,{children:d}),sorter:(d,s)=>d.age.localeCompare(s.age)},{title:"Ethnicity",dataIndex:"ethnicity",key:"ethnicity",sorter:(d,s)=>d.ethnicity.localeCompare(s.ethnicity)},{title:"Build",dataIndex:"build",key:"build",sorter:(d,s)=>d.build.localeCompare(s.build)},{title:"Height",dataIndex:"height",key:"height",sorter:(d,s)=>d.height.localeCompare(s.height)},{title:"Features",dataIndex:"features",key:"features",sorter:(d,s)=>d.features.length-s.features.length,render:(d,s)=>r.jsxs(w,{gap:8,vertical:!0,children:[r.jsx(w,{gap:8,wrap:"wrap",children:d.map(c=>r.jsx(J,{children:c},c))}),!!p&&r.jsxs(w,{className:"mt-2 mb-4",gap:8,children:[r.jsxs(_.Text,{keyboard:!0,children:[p,":"]}),r.jsx(ae,{checked:d?.includes(p),checkedChildren:"âœ“",onChange:()=>C(s.id,p),unCheckedChildren:"âœ—"})]})]})},{title:"Edit",dataIndex:"id",key:"edit",width:80,render:d=>r.jsx(te,{block:!0,onClick:()=>i("suspectId",d),size:"small",children:r.jsx(He,{})})}],[p,y]);return r.jsxs(r.Fragment,{children:[r.jsxs(w,{align:"center",justify:"space-between",children:[r.jsxs(_.Title,{level:2,children:["Deck ",l," (",v.length,")"]}),r.jsx(Kr,{onChange:d=>t(d),options:[{value:"cards",icon:r.jsx(Vr,{})},{value:"table",icon:r.jsx(Er,{})}]})]}),r.jsxs(Fe,{style:{position:"sticky",top:0,background:"black",zIndex:1,width:"100%"},children:[r.jsx(jt,{})," ",r.jsx(Gt,{})]}),r.jsxs(Br.PreviewGroup,{children:[a==="cards"&&r.jsx(Fe,{className:"my-2",ref:x,wrap:!0,children:v.map(d=>r.jsxs("div",{className:"suspect",style:{width:`${y}px`},children:[r.jsx(Oe,{cardId:d.id,cardWidth:y,className:"suspect__image"}),r.jsxs("div",{className:"suspect__name",children:[r.jsxs(w,{align:"center",gap:3,children:[r.jsx(J,{children:d.id})," ",r.jsx(vr,{suspect:d})," ",!d.prompt&&r.jsx(ft,{style:{color:"red"}})," ",!!d.animal&&r.jsx(ut,{style:{color:"sandybrown"}})]}),r.jsxs("div",{style:{backgroundColor:d.name.pt?"transparent":"red"},children:["ðŸ‡§ðŸ‡· ",d.name.pt]}),r.jsx(_.Text,{className:Ee({"missing-value":!d.persona.pt}),ellipsis:!0,italic:!0,type:"secondary",children:r.jsx("small",{children:A.truncate(d.persona.pt||"-",{length:18})})}),r.jsxs("div",{style:{backgroundColor:d.name.en?"transparent":"red"},children:["ðŸ‡ºðŸ‡¸ ",d.name.en]}),r.jsx(_.Text,{className:Ee({"missing-value":!d.persona.en}),ellipsis:!0,italic:!0,type:"secondary",children:r.jsx("small",{children:A.truncate(d.persona.en||"-",{length:18})})}),r.jsxs("div",{className:"suspect__info",style:Ut(d),children:[r.jsxs("div",{children:[r.jsxs("div",{children:[d.gender==="male"?r.jsx(Yr,{}):r.jsx(Qr,{})," ",d.age]}),r.jsx("div",{children:r.jsx("em",{children:d.ethnicity})})]}),r.jsxs("div",{className:"uppercase",children:[r.jsx(Jr,{}),r.jsx("br",{}),d.build.charAt(0)]}),r.jsxs("div",{className:"uppercase",children:[r.jsx(Xr,{}),r.jsx("br",{}),d.height.charAt(0)]}),r.jsxs("div",{children:[d?.features?.length??0," features"]})]}),r.jsx(te,{block:!0,danger:!d?.features||d?.features?.length<2,onClick:()=>i("suspectId",d.id),size:"small",children:r.jsx(He,{})}),!!p&&r.jsxs(w,{className:"mt-2 mb-4",gap:8,children:[r.jsxs(_.Text,{keyboard:!0,children:[p,":"]}),r.jsx(ae,{checked:d.features?.includes(p),checkedChildren:"âœ“",onChange:()=>C(d.id,p),unCheckedChildren:"âœ—"})]})]})]},d.id))},l),a==="table"&&r.jsx(Zr,{columns:q,dataSource:v,pagination:!1,rowKey:"id"})]}),r.jsx(xt,{addEntryToUpdate:o,data:e},g)]})}const Ut=e=>!e.build||!e.height||e.build.length===1||e.height.length===1?{borderColor:"red"}:{};function B(e,o){return A.orderBy(Object.entries(e).map(([i,n])=>({key:i,label:A.capitalize(i),value:n,percentage:Math.round(n/o*100)})),["percentage"],["desc"])}function Vt({data:e}){const[o,i]=S.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsx(te,{block:!0,onClick:()=>i(!0),children:"See Stats"}),o&&r.jsx(Yt,{data:e,onClose:()=>i(!1),open:o})]})}function Yt({data:e,open:o,onClose:i}){const{ages:n,ethnicities:a,genders:t,builds:l,heights:u}=S.useMemo(()=>{const p={},g={},y={},x={},v={};Object.values(e).forEach(m=>{m.age||console.log("ðŸŽ‚ Missing age for suspect:",m.id),p[m.age]=(p[m.age]??0)+1,m.ethnicity||console.log("ðŸŒ Missing ethnicity for suspect:",m.id),g[m.ethnicity]=(g[m.ethnicity]??0)+1,m.gender||console.log("âš§ï¸ Missing gender for suspect:",m.id),y[m.gender]=(y[m.gender]??0)+1,m.build||console.log("ðŸ’ª Missing build for suspect:",m.id),x[m.build||"?"]=(x[m.build||"?"]??0)+1,m.height||console.log("ðŸ“ Missing height for suspect:",m.id),v[m.height||"?"]=(v[m.height||"?"]??0)+1});const C=Object.keys(e).length;return{ages:B(p,C),ethnicities:B(g,C),genders:B(y,C),builds:B(x,C),heights:B(v,C)}},[e]),f=S.useMemo(()=>{const p={};Object.values(e).forEach(x=>{x.features?.forEach(v=>{p[v]=(p[v]??0)+1})});const g=Object.keys(e).length,y=Ne.reduce((x,v)=>{const C=v.features.map(m=>m.id);return x.push(...C),x},[]);return A.orderBy(B(p,g),x=>y.findIndex(v=>v===x.key),["asc"])},[e]);return r.jsxs(br,{onClose:i,open:o,placement:"right",title:"Suspects Statistics",width:400,children:[r.jsx(_.Text,{strong:!0,children:"Ethnicity"}),r.jsx("ul",{className:"statistic__list",children:a.map(p=>r.jsxs("li",{children:[r.jsx("strong",{children:p.label})," - ",p.percentage,"%"]},p.key))}),r.jsx(_.Text,{strong:!0,children:"Gender"}),r.jsx("ul",{className:"statistic__list",children:t.map(p=>r.jsxs("li",{children:[r.jsx("strong",{children:p.label})," - ",p.percentage,"%"]},p.key))}),r.jsx(_.Text,{strong:!0,children:"Age"}),r.jsx("ul",{className:"statistic__list",children:n.map(p=>r.jsxs("li",{children:[r.jsx("strong",{children:p.label})," - ",p.percentage,"%"]},p.key))}),r.jsx(_.Text,{strong:!0,children:"Build"}),r.jsx("ul",{className:"statistic__list",children:l.map(p=>r.jsxs("li",{children:[r.jsx("strong",{children:p.label})," - ",p.percentage,"%"]},p.key))}),r.jsx(_.Text,{strong:!0,children:"Height"}),r.jsx("ul",{className:"statistic__list",children:u.map(p=>r.jsxs("li",{children:[r.jsx("strong",{children:p.label})," - ",p.percentage,"%"]},p.key))}),r.jsx(_.Text,{strong:!0,children:"Features"}),r.jsx("ul",{className:"statistic__list",children:f.map(p=>r.jsxs("li",{children:[r.jsx("strong",{children:p.label})," - ",p.percentage,"% (",p.value,")"]},p.key))})]})}const Qt=[{value:"ct",label:"Cartoon (deprecated)"},{value:"ai",label:"AI (deprecated)"},{value:"md",label:"Models (deprecated)"},{value:"wc",label:"Wacky (deprecated)"}],Jt=[{value:"id",label:"Id"},{value:"name.pt",label:"Name (PT)"},{value:"name.en",label:"Name (EN)"},{value:"ethnicity",label:"Ethnicity"},{value:"gender",label:"Gender"},{value:"age",label:"Age"},{value:"height",label:"Height"},{value:"build",label:"Build"}],Xt=[{value:"",label:"No Prompt/Custom"},{value:"ghibli",label:"Ghibli Style"},{value:"realistic",label:"Realistic Style"},{value:"pixar",label:"Pixar Style"},{value:"fox",label:"Fox Style"},{value:"zootopia",label:"Zootopia Style"}];function Zt({data:e,save:o,isDirty:i,isSaving:n,entriesToUpdate:a,hasFirestoreData:t}){const{addParam:l,queryParams:u}=F();return r.jsxs(et,{children:[r.jsxs(w,{gap:12,vertical:!0,children:[r.jsx(at,{dirt:JSON.stringify(a),isDirty:i,isSaving:n,onSave:o}),r.jsx(rt,{block:!0,data:()=>ea(e),disabled:i,fileName:"suspects.json",hasNewData:t}),r.jsx(tt,{className:"text-center",path:"tdr/suspects"})]}),r.jsx(se,{}),r.jsx(nt,{}),r.jsx(se,{}),r.jsxs(Fr,{layout:"vertical",children:[r.jsx(Ur,{label:"Cards Per Row",max:12,min:2,onChange:f=>l("cardsPerRow",f),value:Number(u.get("cardsPerRow")??"10")}),r.jsx(le,{label:"Sort By",onChange:f=>l("sortBy",f),options:Jt,value:u.get("sortBy")??"id"}),r.jsx(le,{label:"Other Versions",onChange:f=>l("variant",f),options:Qt,value:u.get("variant")??"gb"}),r.jsx(le,{label:"Prompt Style",onChange:f=>l("prompt",f),options:Xt,value:u.get("prompt")??""})]}),r.jsx(se,{}),r.jsx(Vt,{data:e})]})}function ea(e){const o=A.cloneDeep(e);return $r(o,["persona","gender","ethnicity","age","height","build","features","gbExclusive","prompt","animal"])}function Ha(){const e=it({tdrResourceName:"suspects",firestoreDataCollectionName:"suspects",serialize:!0});return r.jsx(Hr,{subtitle:"Information",title:"Suspects",children:r.jsxs(De,{hasSider:!0,children:[r.jsx(Wr,{children:r.jsx(Zt,{...e})}),r.jsx(De.Content,{className:"content",children:r.jsx(zr,{error:e.error,hasResponseData:!A.isEmpty(e.data),isLoading:e.isLoading,children:r.jsx(Kt,{...e})})})]})})}export{Ha as default};
