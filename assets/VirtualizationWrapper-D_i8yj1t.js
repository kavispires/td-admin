import{r as o,j as u,aJ as m}from"./index-DyjSH4OM.js";function I({children:t,width:e,height:r,aspectRatio:n}){const[l,p]=o.useState(!1),i=o.useRef(null),s=r??h(e,n);return o.useEffect(()=>{const a=i.current;if(!a)return;const f=`${s/2||300}px 0px`,c=new IntersectionObserver(([x])=>{p(x.isIntersecting)},{rootMargin:f,threshold:0});return c.observe(a),()=>{c.disconnect()}},[s]),u.jsx("div",{ref:i,style:{width:`${e}px`,height:`${s}px`},children:l?t:u.jsx(m.Image,{active:!0,style:{width:`${e}px`,height:`${s}px`}})})}function h(t,e){if(!e)return t;const[r,n]=e.split(":").map(Number);return!r||!n||Number.isNaN(r)||Number.isNaN(n)?(console.warn(`Invalid aspect ratio format: ${e}. Expected format: "W:H"`),t):t*n/r}export{I as V};
