import{r as s,d as c,i as x,u as j,e as b,s as O,f as $,j as o,T as p,F as y,D as C,B as F}from"./index-DyjSH4OM.js";import{i as h}from"./useBaseUrl-CGDFxb01.js";import{u as R}from"./useMutation-B98nW9qs.js";import{w as E}from"./index-CIvxw8l3.js";import{P as A}from"./index-CUyUdleU.js";var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}const z=(t,e)=>s.createElement(c,u({},t,{ref:e,icon:D})),P=s.forwardRef(z);var B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"};function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f.apply(this,arguments)}const M=(t,e)=>s.createElement(c,f({},t,{ref:e,icon:B})),v=s.forwardRef(M);var L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M834.1 469.2A347.49 347.49 0 00751.2 354l-29.1-26.7a8.09 8.09 0 00-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 01-47.5 46.1 352.6 352.6 0 00-100.3 121.5A347.75 347.75 0 00160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0075.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 00760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0027.7-136c0-48.8-10-96.2-29.9-140.9zM713 808.5c-53.7 53.2-125 82.4-201 82.4s-147.3-29.2-201-82.4c-53.5-53.1-83-123.5-83-198.4 0-43.5 9.8-85.2 29.1-124 18.8-37.9 46.8-71.8 80.8-97.9a349.6 349.6 0 0058.6-56.8c25-30.5 44.6-64.5 58.2-101a240 240 0 0012.1-46.5c24.1 22.2 44.3 49 61.2 80.4 33.4 62.6 48.8 118.3 45.8 165.7a74.01 74.01 0 0024.4 59.8 73.36 73.36 0 0053.4 18.8c19.7-1 37.8-9.7 51-24.4 13.3-14.9 24.8-30.1 34.4-45.6 14 17.9 25.7 37.4 35 58.4 15.9 35.8 24 73.9 24 113.1 0 74.9-29.5 145.4-83 198.4z"}}]},name:"fire",theme:"outlined"};function d(){return d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}const _=(t,e)=>s.createElement(c,d({},t,{ref:e,icon:L})),H=s.forwardRef(_);var T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z"}}]},name:"google",theme:"outlined"};function g(){return g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g.apply(this,arguments)}const U=(t,e)=>s.createElement(c,g({},t,{ref:e,icon:T})),w=s.forwardRef(U);function Q({path:t,docId:e,queryKey:n,onSuccess:r}){const{notification:i}=x.useApp(),l=j();return R({mutationFn:async()=>{const a=b($,t,e);if(!t||!t.includes("tdr")&&!t.includes("testimonies"))throw new Error("This hook should only be used for wiping documents in the tdr/testimonies path");if(!e)throw new Error("Document ID is required");return console.log(`Wiping document at ${t}/${e}`),await E(1e3),O(a,{})},onSuccess:()=>{l.refetchQueries({queryKey:n}),i.success({title:`Document ${t}/${e} wiped successfully`}),r?.()},onError:a=>{console.error("Error wiping document:",a),i.error({title:`Failed to wipe document ${t}/${e}`,description:a.message})}})}function Y({path:t,label:e,disabled:n,...r}){const{getConsoleUrl:i}=h();return o.jsxs(p.Link,{disabled:n,href:i(t),target:"_blank",...r,children:[o.jsx(w,{})," ",e??"Console"," ",o.jsx(v,{style:{rotate:"45deg"}})]})}function N({path:t,docId:e,queryKey:n,label:r,disabled:i,...l}){const{getConsoleUrl:a}=h(),m=Q({path:t,docId:e,queryKey:n});return o.jsxs(y,{align:"center",gap:8,children:[o.jsxs(p.Link,{disabled:i,href:a(`${t}/${e}`),target:"_blank",...l,children:[o.jsx(w,{})," ",r??"Console"," ",o.jsx(v,{style:{rotate:"45deg"}})]}),o.jsx(C,{orientation:"vertical"}),o.jsx(A,{cancelText:"No, don't wipe it",description:"You should only do this if it has been downloaded to td-resources and deployed",icon:o.jsx(P,{}),okButtonProps:{danger:!0},okText:"Yes, wipe it",onConfirm:()=>m.mutateAsync(),placement:"topRight",title:`Are you sure to wipe the document: ${t}/${e}?`,children:o.jsx(F,{danger:!0,disabled:i,loading:m.isPending,size:"small",children:o.jsx(H,{})})})]})}export{Y as F,N as a};
