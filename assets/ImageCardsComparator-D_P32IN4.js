import{r as h,W as R,X as T,Y as W,Z as B,j as r,L as C,B as x,I as N,T as k,D as O,P as M}from"./index-B5-2HM5B.js";import{D as A}from"./DataLoadingWrapper-BaxBS94E.js";import{F as z}from"./FullScreenModal-B1js7k1D.js";import{u as F}from"./useCardWidth-ts6XmLZP.js";import{u as G}from"./useLoadWordLibrary-C1-2YR1x.js";import{u as b}from"./useQueryParams-C8unIuj1.js";import{l as m,P as J}from"./useBaseUrl-C81I6maY.js";import{I as y}from"./ImageCard-Byv5aLWa.js";import{R as g}from"./RelationshipCountTag-BMbg23Mf.js";import{u as q,a as K}from"./hooks-BUkH97FZ.js";import{u as $}from"./useWindowSize-C4HywTqg.js";import{F as u}from"./index-D8zlra0v.js";import{T as L}from"./index-Cm4arrD9.js";import{I as S}from"./index-IW2Ifu1c.js";import{a as H}from"./FilterEntries-Dq7WElh2.js";import{R as Q}from"./ResponseState-Dd4KkMwP.js";import{D as U}from"./DownloadButton-BslZH4vt.js";import{S as X}from"./SaveButton-Cuebvwj3.js";import{S as w}from"./SiderContent-hN9zjJ9h.js";import"./index-CchUIY6Z.js";import"./index-B-QOE8TR.js";import"./PlusOutlined-ByZyTB3m.js";import"./useMutation-B7RcyywH.js";import"./index-DEfIxL-b.js";import"./constants-DsjZWQx9.js";import"./Item-Cl0bkTHl.js";import"./gapSize-U1swVQyS.js";import"./Input-BG1b9zQD.js";import"./index-7oODgzUU.js";import"./index-DShwIIJ8.js";import"./index-TVf6wIbH.js";import"./index-DA6KwYEn.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-LRTvDctr.js";var Y=W?window:null,E=function(e){return!!e.addEventListener},I=function(e){return!!e.on},Z=function(e,o,s,t){s===void 0&&(s=Y),h.useEffect(function(){if(o&&s)return E(s)?R(s,e,o,t):I(s)&&s.on(e,o,t),function(){E(s)?T(s,e,o,t):I(s)&&s.off(e,o,t)}},[e,o,s,JSON.stringify(t)])},_=function(e){return typeof e=="function"?e:typeof e=="string"?function(o){return o.key===e}:e?function(){return!0}:function(){return!1}},P=function(e,o,s,t){o===void 0&&(o=B),s===void 0&&(s={}),t===void 0&&(t=[e]);var d=s.event,c=d===void 0?"keydown":d,l=s.target,a=s.options,i=h.useMemo(function(){var n=_(e),j=function(p){if(n(p))return o(p)};return j},t);Z(c,i,l,a)};function V({query:e}){const{width:o}=$(),[s]=F(1,{minWidth:o/3}),{data:t,setDirty:d}=e,{cardAId:c,cardA:l,cardBId:a,cardB:i,relate:n,unrelate:j}=q(t,d),{addParam:p,is:D}=b(),v=D("open");return P("1",()=>{v&&j()}),P("2",()=>{v&&n()}),r.jsxs(C.Content,{className:"dev-content py-4",children:[r.jsx(x,{block:!0,onClick:()=>p("open","true"),children:"Open Modal"}),r.jsx(rr,{}),r.jsx(z,{title:`Card A: ${c} vs Card B: ${a}`,open:v,onClose:()=>p("open","false"),actions:[r.jsx(x,{onClick:j,size:"large",block:!0,children:"Unrelated"},"1"),r.jsx(x,{onClick:n,size:"large",block:!0,type:"primary",children:"Related"},"2")],children:r.jsx(N.PreviewGroup,{children:r.jsxs(u,{className:"center",wrap:"wrap",justify:"center",children:[r.jsxs(u,{vertical:!0,children:[r.jsx(y,{id:c,width:s}),r.jsxs(u,{children:[r.jsx(g,{card:l}),r.jsx(L,{children:c})]})]}),r.jsxs(u,{vertical:!0,children:[r.jsx(y,{id:a,width:s}),r.jsxs(u,{children:[r.jsx(g,{card:i}),r.jsx(L,{children:a})]})]})]})})})]})}const f={};function rr(){const{data:e,isLoading:o}=G(3,"pt",!0),[s,t]=h.useState(""),[d,c]=h.useState([]),l=()=>{!m.isEmpty(e)&&m.isEmpty(f)&&e.forEach(i=>{i.split("").forEach(n=>{f[n.toLowerCase()]?f[n.toLowerCase()].push(i):f[n.toLowerCase()]=[i]})});const a=s.split("").map(i=>m.sample(f[i.toLowerCase()])).filter(Boolean);c(a)};return r.jsxs(r.Fragment,{children:[r.jsx(k.Title,{level:3,className:"center",children:"Passcode Words"}),r.jsxs(u,{children:[r.jsx(S,{onChange:a=>t(a.target.value)}),r.jsx(x,{disabled:o||s.length===0,onClick:l,children:"Get"})]}),r.jsx(S.TextArea,{className:"mt-4",value:JSON.stringify(d)})]})}function er({query:e}){const{data:o,isDirty:s,isSaving:t,save:d,isLoading:c,isError:l}=e,{queryParams:a,addParam:i}=b();return r.jsxs(J,{children:[r.jsx(w,{children:r.jsxs(u,{vertical:!0,gap:6,children:[r.jsx(X,{isDirty:s,dirt:JSON.stringify(o),onSave:()=>d({}),isSaving:t}),r.jsx(U,{data:o,fileName:"imageCardsRelationships.json",loading:t,disabled:m.isEmpty(o),block:!0})]})}),r.jsx(Q,{isLoading:c||t,isDirty:s,isError:l,hasResponseData:!m.isEmpty(o)}),r.jsxs(w,{children:[r.jsx(x,{block:!0,onClick:()=>i("open","true"),children:"Open Modal"}),r.jsx(O,{}),r.jsx(H,{label:"Cycle Threshold",value:a.get("cycle")||3,onChange:n=>i("cycle",n),options:[1,3,5,10]})]})]})}function Or(){const e=K();return r.jsx(M,{title:"Image Cards",subtitle:"Comparator",children:r.jsx(A,{isLoading:e.isLoading,error:e.error,hasResponseData:!m.isEmpty(e.data),children:r.jsxs(C,{hasSider:!0,children:[r.jsx(er,{query:e}),r.jsx(C.Content,{className:"content",children:r.jsx(V,{query:e})})]})})})}export{Or as default};
