import{r as o,C as L,cj as oe,h as q,cg as U,k as se,m as re,ck as ae,cl as ie,aj as le,ay as ce,q as te,cm as ue,O as Z,t as fe,a as pe,_ as me,al as de,F as ve,M as ne,cn as ge,c9 as Ce,i as ee,B as be,co as ye}from"./index-B3JH01iB.js";import{I as G,u as Oe}from"./Input-DYhQBLMT.js";import{R as xe}from"./useBaseUrl-CZWZgKRs.js";const he=e=>{const{getPrefixCls:r,direction:i}=o.useContext(L),{prefixCls:t,className:n}=e,p=r("input-group",t),g=r("input"),[u,b,y]=oe(g),O=q(p,y,{[`${p}-lg`]:e.size==="large",[`${p}-sm`]:e.size==="small",[`${p}-compact`]:e.compact,[`${p}-rtl`]:i==="rtl"},b,n),C=o.useContext(U),x=o.useMemo(()=>Object.assign(Object.assign({},C),{isFormItemInput:!1}),[C]);return u(o.createElement("span",{className:O,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},o.createElement(U.Provider,{value:x},e.children)))},Pe=e=>{const{componentCls:r,paddingXS:i}=e;return{[r]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:i,[`${r}-input-wrapper`]:{position:"relative",[`${r}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${r}-mask-input`]:{color:"transparent",caretColor:"var(--ant-color-text)"},[`${r}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${r}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${r}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${r}-sm ${r}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${r}-lg ${r}-input`]:{paddingInline:e.paddingXS}}}},Ie=se(["Input","OTP"],e=>{const r=re(e,ae(e));return[Pe(r)]},ie);var Ee=function(e,r){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(i[t[n]]=e[t[n]]);return i};const Se=o.forwardRef((e,r)=>{const{className:i,value:t,onChange:n,onActiveChange:p,index:g,mask:u}=e,b=Ee(e,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:y}=o.useContext(L),O=y("otp"),C=typeof u=="string"?u:t,x=o.useRef(null);o.useImperativeHandle(r,()=>x.current);const k=d=>{n(g,d.target.value)},h=()=>{le(()=>{var d;const m=(d=x.current)===null||d===void 0?void 0:d.input;document.activeElement===m&&m&&m.select()})},w=d=>{const{key:m,ctrlKey:_,metaKey:j}=d;m==="ArrowLeft"?p(g-1):m==="ArrowRight"?p(g+1):m==="z"&&(_||j)&&d.preventDefault(),h()},$=d=>{d.key==="Backspace"&&!t&&p(g-1),h()};return o.createElement("span",{className:`${O}-input-wrapper`,role:"presentation"},u&&t!==""&&t!==void 0&&o.createElement("span",{className:`${O}-mask-icon`,"aria-hidden":"true"},C),o.createElement(G,Object.assign({"aria-label":`OTP Input ${g+1}`,type:u===!0?"password":"text"},b,{ref:x,value:t,onInput:k,onFocus:h,onKeyDown:w,onKeyUp:$,onMouseDown:h,onMouseUp:h,className:q(i,{[`${O}-mask-input`]:u})})))});var we=function(e,r){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(i[t[n]]=e[t[n]]);return i};function X(e){return(e||"").split("")}const $e=e=>{const{index:r,prefixCls:i,separator:t}=e,n=typeof t=="function"?t(r):t;return n?o.createElement("span",{className:`${i}-separator`},n):null},je=o.forwardRef((e,r)=>{const{prefixCls:i,length:t=6,size:n,defaultValue:p,value:g,onChange:u,formatter:b,separator:y,variant:O,disabled:C,status:x,autoFocus:k,mask:h,type:w,onInput:$,inputMode:d}=e,m=we(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:_,direction:j}=o.useContext(L),v=_("otp",i),T=ce(m,{aria:!0,data:!0,attr:!0}),[B,z,R]=Ie(v),P=te(s=>n??s),I=o.useContext(U),E=ue(I.status,x),D=o.useMemo(()=>Object.assign(Object.assign({},I),{status:E,hasFeedback:!1,feedbackIcon:null}),[I,E]),N=o.useRef(null),A=o.useRef({});o.useImperativeHandle(r,()=>({focus:()=>{var s;(s=A.current[0])===null||s===void 0||s.focus()},blur:()=>{var s;for(let a=0;a<t;a+=1)(s=A.current[a])===null||s===void 0||s.blur()},nativeElement:N.current}));const M=s=>b?b(s):s,[S,V]=o.useState(()=>X(M(p||"")));o.useEffect(()=>{g!==void 0&&V(X(g))},[g]);const H=Z(s=>{V(s),$&&$(s),u&&s.length===t&&s.every(a=>a)&&s.some((a,c)=>S[c]!==a)&&u(s.join(""))}),Q=Z((s,a)=>{let c=fe(S);for(let f=0;f<s;f+=1)c[f]||(c[f]="");a.length<=1?c[s]=a:c=c.slice(0,s).concat(X(a)),c=c.slice(0,t);for(let f=c.length-1;f>=0&&!c[f];f-=1)c.pop();const F=M(c.map(f=>f||" ").join(""));return c=X(F).map((f,Y)=>f===" "&&!c[Y]?c[Y]:f),c}),W=(s,a)=>{var c;const F=Q(s,a),f=Math.min(s+a.length,t-1);f!==s&&F[s]!==void 0&&((c=A.current[f])===null||c===void 0||c.focus()),H(F)},J=s=>{var a;(a=A.current[s])===null||a===void 0||a.focus()},l={variant:O,disabled:C,status:E,mask:h,type:w,inputMode:d};return B(o.createElement("div",Object.assign({},T,{ref:N,className:q(v,{[`${v}-sm`]:P==="small",[`${v}-lg`]:P==="large",[`${v}-rtl`]:j==="rtl"},R,z),role:"group"}),o.createElement(U.Provider,{value:D},Array.from({length:t}).map((s,a)=>{const c=`otp-${a}`,F=S[a]||"";return o.createElement(o.Fragment,{key:c},o.createElement(Se,Object.assign({ref:f=>{A.current[a]=f},index:a,size:P,htmlSize:1,className:`${v}-input`,onChange:W,value:F,onActiveChange:J,autoFocus:a===0&&k},l)),a<t-1&&o.createElement($e,{separator:y,index:a,prefixCls:v}))}))))});var ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},ze=function(r,i){return o.createElement(pe,me({},r,{ref:i,icon:ke}))},_e=o.forwardRef(ze),Re=function(e,r){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(i[t[n]]=e[t[n]]);return i};const Ne=e=>e?o.createElement(ge,null):o.createElement(_e,null),Ae={click:"onClick",hover:"onMouseOver"},Me=o.forwardRef((e,r)=>{const{disabled:i,action:t="click",visibilityToggle:n=!0,iconRender:p=Ne}=e,g=o.useContext(de),u=i??g,b=typeof n=="object"&&n.visible!==void 0,[y,O]=o.useState(()=>b?n.visible:!1),C=o.useRef(null);o.useEffect(()=>{b&&O(n.visible)},[b,n]);const x=Oe(C),k=()=>{var P;if(u)return;y&&x();const I=!y;O(I),typeof n=="object"&&((P=n.onVisibleChange)===null||P===void 0||P.call(n,I))},h=P=>{const I=Ae[t]||"",E=p(y),D={[I]:k,className:`${P}-icon`,key:"passwordIcon",onMouseDown:N=>{N.preventDefault()},onMouseUp:N=>{N.preventDefault()}};return o.cloneElement(o.isValidElement(E)?E:o.createElement("span",null,E),D)},{className:w,prefixCls:$,inputPrefixCls:d,size:m}=e,_=Re(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:j}=o.useContext(L),v=j("input",d),T=j("input-password",$),B=n&&h(T),z=q(T,w,{[`${T}-${m}`]:!!m}),R=Object.assign(Object.assign({},ve(_,["suffix","iconRender","visibilityToggle"])),{type:y?"text":"password",className:z,prefixCls:v,suffix:B});return m&&(R.size=m),o.createElement(G,Object.assign({ref:ne(r,C)},R))});var Te=function(e,r){var i={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(i[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(i[t[n]]=e[t[n]]);return i};const Fe=o.forwardRef((e,r)=>{const{prefixCls:i,inputPrefixCls:t,className:n,size:p,suffix:g,enterButton:u=!1,addonAfter:b,loading:y,disabled:O,onSearch:C,onChange:x,onCompositionStart:k,onCompositionEnd:h,variant:w,onPressEnter:$}=e,d=Te(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:m,direction:_}=o.useContext(L),j=o.useRef(!1),v=m("input-search",i),T=m("input",t),{compactSize:B}=Ce(v,_),z=te(l=>{var s;return(s=p??B)!==null&&s!==void 0?s:l}),R=o.useRef(null),P=l=>{l!=null&&l.target&&l.type==="click"&&C&&C(l.target.value,l,{source:"clear"}),x==null||x(l)},I=l=>{var s;document.activeElement===((s=R.current)===null||s===void 0?void 0:s.input)&&l.preventDefault()},E=l=>{var s,a;C&&C((a=(s=R.current)===null||s===void 0?void 0:s.input)===null||a===void 0?void 0:a.value,l,{source:"input"})},D=l=>{j.current||y||($==null||$(l),E(l))},N=typeof u=="boolean"?o.createElement(xe,null):null,A=`${v}-button`;let M;const S=u||{},V=S.type&&S.type.__ANT_BUTTON===!0;V||S.type==="button"?M=ee(S,Object.assign({onMouseDown:I,onClick:l=>{var s,a;(a=(s=S==null?void 0:S.props)===null||s===void 0?void 0:s.onClick)===null||a===void 0||a.call(s,l),E(l)},key:"enterButton"},V?{className:A,size:z}:{})):M=o.createElement(be,{className:A,color:u?"primary":"default",size:z,disabled:O,key:"enterButton",onMouseDown:I,onClick:E,loading:y,icon:N,variant:w==="borderless"||w==="filled"||w==="underlined"?"text":u?"solid":void 0},u),b&&(M=[M,ee(b,{key:"addonAfter"})]);const H=q(v,{[`${v}-rtl`]:_==="rtl",[`${v}-${z}`]:!!z,[`${v}-with-button`]:!!u},n),Q=l=>{j.current=!0,k==null||k(l)},W=l=>{j.current=!1,h==null||h(l)},J=Object.assign(Object.assign({},d),{className:H,prefixCls:T,type:"search",size:z,variant:w,onPressEnter:D,onCompositionStart:Q,onCompositionEnd:W,addonAfter:M,suffix:g,onChange:P,disabled:O});return o.createElement(G,Object.assign({ref:ne(R,r)},J))}),K=G;K.Group=he;K.Search=Fe;K.TextArea=ye;K.Password=Me;K.OTP=je;export{K as I};
