import{r as $,j as e,B as v,P as S,L as y}from"./index-BLpG_3dc.js";import{D as T}from"./DataLoadingWrapper-DLiuAs32.js";import{C as L}from"./CopyToClipboardButton-BE4EQ3dA.js";import{I as u}from"./Item-C2s7nmsd.js";import{u as k}from"./useCopyToClipboardFunction-Ycyr8oCV.js";import{u as I}from"./useTDResource-CEfvLK3O.js";import{l as m}from"./useBaseUrl-Z8UUKQRH.js";import{a as x,b as o}from"./ItemBuildingBlocks-DMp-AE-k.js";import{S as E}from"./index-C3-g4HeD.js";import{F as M}from"./Table-D8t0FxTd.js";import{F as p}from"./index-C6ycO1rA.js";import{R as C}from"./CopyOutlined-CTfv2LgF.js";import{I as O}from"./index-Bcjzw9Ry.js";import{P as R}from"./PageSider-De9kC7SI.js";import"./LanguageFlag-BQ1Xvc_0.js";import"./FireFilled-5to0p_jP.js";import"./IdcardOutlined-CHllRWI2.js";import"./gapSize-U1swVQyS.js";import"./index-Bop_RWDL.js";import"./index-DaoSKbYZ.js";import"./index-B8LDdwuq.js";import"./index-Btk51C0l.js";import"./scrollTo--jvQhqkG.js";import"./Pagination-DAWB2JZ9.js";import"./extendsObject-keMuGWqj.js";import"./Input-CfP8Bjl1.js";function P(){const i=I("items"),w=k(),F=$.useMemo(()=>{const t=m.shuffle(Object.values(i.data??[]).filter(a=>{var n;return(n=a.decks)==null?void 0:n.includes("suspect")})),s=m.shuffle(Object.values(i.data??[]).filter(a=>{var n;return(n=a.decks)==null?void 0:n.includes("weapon")})),l=m.shuffle(Object.values(i.data??[]).filter(a=>{var n;return(n=a.decks)==null?void 0:n.includes("evidence")})),r=m.shuffle(Object.values(i.data??[]).filter(a=>{var n;return(n=a.decks)==null?void 0:n.includes("location")})),d=Math.max(t.length,s.length,l.length,r.length),c=[];for(let a=0;a<d;a++)c.push({id:`crime-${a}`,suspect:t[a],weapon:s[a],evidence:l[a],location:r[a]});return c},[i.data]),j=(t,s)=>{const r={id:`dmhk-${s==="weapon"?"wp":"ev"}-000`,type:s,name:{en:t.name.en,pt:t.name.pt},itemId:t.id},d=JSON.stringify({[r.id]:r},null,2);w(d.substring(1,d.length-1))},b=[{title:"id",dataIndex:"id"},{title:"Suspect",dataIndex:"suspect",render:t=>e.jsx(p,{gap:6,vertical:!0,children:t?e.jsxs(e.Fragment,{children:[e.jsx(u,{id:t.id,width:60}),e.jsx(x,{item:t}),e.jsx(o,{item:t,language:"pt"}),e.jsx(o,{item:t,language:"en"})]}):e.jsx(e.Fragment,{children:"?"})})},{title:"Means of Murder",dataIndex:"weapon",render:t=>e.jsx(p,{gap:6,vertical:!0,children:t?e.jsxs(e.Fragment,{children:[e.jsx(u,{id:t.id,width:60}),e.jsx(x,{item:t}),e.jsx(o,{item:t,language:"pt"}),e.jsx(o,{item:t,language:"en"}),e.jsx(v,{size:"small",icon:e.jsx(C,{}),onClick:()=>j(t,"weapon"),children:"Crime"})]}):e.jsx(e.Fragment,{children:"?"})})},{title:"Evidence",dataIndex:"evidence",render:t=>e.jsx(p,{gap:6,vertical:!0,children:t?e.jsxs(e.Fragment,{children:[e.jsx(u,{id:t.id,width:60}),e.jsx(x,{item:t}),e.jsx(o,{item:t,language:"pt"}),e.jsx(o,{item:t,language:"en"}),e.jsx(v,{size:"small",icon:e.jsx(C,{}),onClick:()=>j(t,"evidence"),children:"Crime"})]}):e.jsx(e.Fragment,{children:"?"})})},{title:"Location",dataIndex:"location",render:t=>e.jsx(p,{gap:6,vertical:!0,children:t?e.jsxs(e.Fragment,{children:[e.jsx(u,{id:t.id,width:60}),e.jsx(x,{item:t}),e.jsx(o,{item:t,language:"pt"}),e.jsx(o,{item:t,language:"en"})]}):e.jsx(e.Fragment,{children:"?"})})},{title:"Crime",dataIndex:"id",render:(t,s)=>{var r,d,c,a,n,h,g,f;const l=`${s.id} - Suspect: ${(d=(r=s.suspect)==null?void 0:r.name)==null?void 0:d.en} (id: ${s.suspect.id}), Means of Murder:${(a=(c=s.weapon)==null?void 0:c.name)==null?void 0:a.en} (id: ${s.weapon.id}), Piece of Evidence: ${(h=(n=s==null?void 0:s.evidence)==null?void 0:n.name)==null?void 0:h.en} (id: ${s.evidence.id}), and the Location: ${(f=(g=s==null?void 0:s.location)==null?void 0:g.name)==null?void 0:f.en} (id: ${s.location.id})`;return e.jsxs(p,{vertical:!0,children:[e.jsx(L,{content:l}),e.jsx(O.TextArea,{rows:3,readOnly:!0,value:l})]})}}];return e.jsx(E,{direction:"vertical",className:"my-4",children:e.jsx(M,{columns:b,rowKey:"id",dataSource:F,pagination:{showQuickJumper:!0}})})}function de(){const i=I("items");return e.jsx(S,{title:"Items",subtitle:"Crime History Random Sets",children:e.jsxs(y,{hasSider:!0,children:[e.jsx(R,{children:"-"}),e.jsx(y.Content,{className:"content",children:e.jsx(T,{isLoading:i.isLoading,error:i.error,hasResponseData:!m.isEmpty(i.data),children:e.jsx(P,{})})})]})})}export{de as ItemsCrimeHistorySets,de as default};
