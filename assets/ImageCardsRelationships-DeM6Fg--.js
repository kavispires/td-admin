import{r as u,o as it,p as st,R as l,c as z,K as T,d as w,q,g as It,m as Et,s as Bt,e as lt,C as Q,t as ct,v as dt,w as Rt,x as ut,y as mt,z as Pt,f as Tt,A as zt,E as _t,F as Nt,a as D,G as Ft,J as Mt,j as s,I as Lt,n as qt,P as Dt,L as ot}from"./index-CiF5--2a.js";import{u as pt,R as Gt,I as Ht}from"./RelationshipsStats-BpmnJLGp.js";import{T as Vt}from"./TransparentButton-C7TjtNEf.js";import{I as At}from"./IdTag-Thx9Oh4W.js";import{D as kt}from"./DataLoadingWrapper-DcZ8aPWb.js";import{l as X}from"./lodash-D0O7dYQ-.js";import{I as Wt}from"./ImageCard-C11Pbfxt.js";import{R as Xt}from"./RelationshipCountTag-BuCl7pXA.js";import{C as Ut}from"./index-C31xQDuY.js";import{V as Zt}from"./VerticalAlignTopOutlined-v_ZPtoJ9.js";import{g as Jt,s as Kt}from"./scrollTo-BaPpjTa9.js";import{t as Qt}from"./throttleByAnimationFrame-nolEg5lt.js";import{B as Yt,D as te}from"./DownloadButton-BlsojvSw.js";import{F as ee}from"./FileTextOutlined-B-I9JRsA.js";import{R as oe}from"./Item-n7HVLcpj.js";import{c as nt,a as k}from"./FilterEntries-C4iDCHm7.js";import{R as ne}from"./ResponseState-Cg727Iiq.js";import{S as re}from"./SaveButton-s1jXsG7T.js";import{P as ae}from"./useBaseUrl-CgXHlTLh.js";import{S as W}from"./SiderContent-CroB5yCP.js";import{T as ie,c as se,C as le}from"./constants-B4FgzbO3.js";import{F as ce}from"./index-C2UcdlrS.js";import"./hooks-C1eNwXaA.js";import"./index-B70_2-pz.js";import"./useMutation-B2Ymi21Q.js";import"./useQueryParams-BPSENYYW.js";import"./index-B1eqNN9Q.js";import"./useCopyToClipboardFunction-CmOOqtYG.js";import"./index-CItXObol.js";import"./index-CcA0jY7g.js";import"./PlusOutlined-ByZyTB3m.js";import"./index-BjA8dbFX.js";import"./index-DK7iRz0b.js";import"./index-BiZXzEtx.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-0vKyCLNP.js";import"./gapSize-U1swVQyS.js";var de=function(n,o){return u.createElement(it,st({},n,{ref:o,icon:Zt}))},ue=u.forwardRef(de);const Y=l.createContext(void 0),{Provider:me}=Y;var pe=function(n,o){return u.createElement(it,st({},n,{ref:o,icon:ee}))},ft=u.forwardRef(pe);const fe=t=>{const{icon:n,description:o,prefixCls:e,className:r}=t,a=l.createElement("div",{className:`${e}-icon`},l.createElement(ft,null));return l.createElement("div",{onClick:t.onClick,onFocus:t.onFocus,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,className:z(r,`${e}-content`)},n||o?l.createElement(l.Fragment,null,n&&l.createElement("div",{className:`${e}-icon`},n),o&&l.createElement("div",{className:`${e}-description`},o)):a)},ge=u.memo(fe),rt=t=>t===0?0:t-Math.sqrt(Math.pow(t,2)/2),he=t=>{const{componentCls:n,floatButtonSize:o,motionDurationSlow:e,motionEaseInOutCirc:r,calc:a}=t,f=new T("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${w(o)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),g=new T("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${w(o)}, 0)`,transformOrigin:"0 0",opacity:0}}),m=new T("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${a(o).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),p=new T("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${a(o).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),c=new T("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${a(o).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),i=new T("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${a(o).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0}}),C=new T("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${w(o)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),$=new T("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${w(o)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),d=`${n}-group`;return[{[d]:{[`&${d}-top ${d}-wrap`]:q(`${d}-wrap`,f,g,e,!0),[`&${d}-bottom ${d}-wrap`]:q(`${d}-wrap`,c,i,e,!0),[`&${d}-left ${d}-wrap`]:q(`${d}-wrap`,C,$,e,!0),[`&${d}-right ${d}-wrap`]:q(`${d}-wrap`,m,p,e,!0)}},{[`${d}-wrap`]:{[`&${d}-wrap-enter, &${d}-wrap-appear`]:{opacity:0,animationTimingFunction:r},[`&${d}-wrap-leave`]:{opacity:1,animationTimingFunction:r}}}]},be=t=>{const{antCls:n,componentCls:o,floatButtonSize:e,margin:r,borderRadiusLG:a,borderRadiusSM:f,badgeOffset:g,floatButtonBodyPadding:m,zIndexPopupBase:p,calc:c}=t,i=`${o}-group`;return{[i]:Object.assign(Object.assign({},lt(t)),{zIndex:p,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:e,minHeight:e,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,borderRadius:a,[`${i}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${i}-rtl`]:{direction:"rtl"},[o]:{position:"static"}}),[`${i}-top > ${i}-wrap`]:{flexDirection:"column",top:"auto",bottom:c(e).add(r).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:r,bottom:c(r).mul(-1).equal()}},[`${i}-bottom > ${i}-wrap`]:{flexDirection:"column",top:c(e).add(r).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:r,top:c(r).mul(-1).equal()}},[`${i}-right > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:c(e).add(r).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:r,height:"100%",left:{_skip_check_:!0,value:c(r).mul(-1).equal()}}},[`${i}-left > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:c(e).add(r).equal()},"&::after":{content:'""',position:"absolute",width:r,height:"100%",right:{_skip_check_:!0,value:c(r).mul(-1).equal()}}},[`${i}-circle`]:{gap:r,[`${i}-wrap`]:{gap:r}},[`${i}-square`]:{[`${o}-square`]:{padding:0,borderRadius:0,[`&${i}-trigger`]:{borderRadius:a},"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${n}-badge`]:{[`${n}-badge-count`]:{top:c(c(m).add(g)).mul(-1).equal(),insetInlineEnd:c(c(m).add(g)).mul(-1).equal()}}},[`${i}-wrap`]:{borderRadius:a,boxShadow:t.boxShadowSecondary,[`${o}-square`]:{boxShadow:"none",borderRadius:0,padding:m,[`${o}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:f}}}},[`${i}-top > ${i}-wrap, ${i}-bottom > ${i}-wrap`]:{[`> ${o}-square`]:{"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-left > ${i}-wrap, ${i}-right > ${i}-wrap`]:{[`> ${o}-square`]:{"&:first-child":{borderStartStartRadius:a,borderEndStartRadius:a},"&:last-child":{borderStartEndRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderInlineEnd:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-circle-shadow`]:{boxShadow:"none"},[`${i}-square-shadow`]:{boxShadow:t.boxShadowSecondary,[`${o}-square`]:{boxShadow:"none",padding:m,[`${o}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:f}}}}},ve=t=>{const{antCls:n,componentCls:o,floatButtonBodyPadding:e,floatButtonIconSize:r,floatButtonSize:a,borderRadiusLG:f,badgeOffset:g,dotOffsetInSquare:m,dotOffsetInCircle:p,zIndexPopupBase:c,calc:i}=t;return{[o]:Object.assign(Object.assign({},lt(t)),{border:"none",position:"fixed",cursor:"pointer",zIndex:c,display:"block",width:a,height:a,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,boxShadow:t.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${n}-badge`]:{width:"100%",height:"100%",[`${n}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:i(g).mul(-1).equal(),insetInlineEnd:i(g).mul(-1).equal()}},[`${o}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${t.motionDurationMid}`,[`${o}-content`]:{overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${w(i(e).div(2).equal())} ${w(e)}`,[`${o}-icon`]:{textAlign:"center",margin:"auto",width:r,fontSize:r,lineHeight:1}}}}),[`${o}-rtl`]:{direction:"rtl"},[`${o}-circle`]:{height:a,borderRadius:"50%",[`${n}-badge`]:{[`${n}-badge-dot`]:{top:p,insetInlineEnd:p}},[`${o}-body`]:{borderRadius:"50%"}},[`${o}-square`]:{height:"auto",minHeight:a,borderRadius:f,[`${n}-badge`]:{[`${n}-badge-dot`]:{top:m,insetInlineEnd:m}},[`${o}-body`]:{height:"auto",borderRadius:f}},[`${o}-default`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,[`${o}-body`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorFillContent},[`${o}-content`]:{[`${o}-icon`]:{color:t.colorText},[`${o}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorText,fontSize:t.fontSizeSM}}}},[`${o}-primary`]:{backgroundColor:t.colorPrimary,[`${o}-body`]:{backgroundColor:t.colorPrimary,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorPrimaryHover},[`${o}-content`]:{[`${o}-icon`]:{color:t.colorTextLightSolid},[`${o}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorTextLightSolid,fontSize:t.fontSizeSM}}}}}},ye=t=>({dotOffsetInCircle:rt(t.controlHeightLG/2),dotOffsetInSquare:rt(t.borderRadiusLG)}),gt=It("FloatButton",t=>{const{colorTextLightSolid:n,colorBgElevated:o,controlHeightLG:e,marginXXL:r,marginLG:a,fontSize:f,fontSizeIcon:g,controlItemBgHover:m,paddingXXS:p,calc:c}=t,i=Et(t,{floatButtonBackgroundColor:o,floatButtonColor:n,floatButtonHoverBackgroundColor:m,floatButtonFontSize:f,floatButtonIconSize:c(g).mul(1.5).equal(),floatButtonSize:e,floatButtonInsetBlockEnd:r,floatButtonInsetInlineEnd:a,floatButtonBodySize:c(e).sub(c(p).mul(2)).equal(),floatButtonBodyPadding:p,badgeOffset:c(p).mul(1.5).equal()});return[be(i),ve(i),Bt(t),he(i)]},ye);var xe=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(o[e[r]]=t[e[r]]);return o};const G="float-btn",$e=l.forwardRef((t,n)=>{const{prefixCls:o,className:e,rootClassName:r,style:a,type:f="default",shape:g="circle",icon:m,description:p,tooltip:c,htmlType:i="button",badge:C={}}=t,$=xe(t,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:d,direction:h}=u.useContext(Q),j=u.useContext(Y),v=d(G,o),B=ct(v),[_,N,b]=gt(v,B),I=j||g,R=z(N,b,B,v,e,r,`${v}-${f}`,`${v}-${I}`,{[`${v}-rtl`]:h==="rtl"}),[y]=dt("FloatButton",a==null?void 0:a.zIndex),x=Object.assign(Object.assign({},a),{zIndex:y}),O=Rt(C,["title","children","status","text"]),F=u.useMemo(()=>({prefixCls:v,description:p,icon:m,type:f}),[v,p,m,f]);let P=l.createElement("div",{className:`${v}-body`},l.createElement(ge,Object.assign({},F)));return"badge"in t&&(P=l.createElement(Yt,Object.assign({},O),P)),"tooltip"in t&&(P=l.createElement(ut,{title:c,placement:h==="rtl"?"right":"left"},P)),_(t.href?l.createElement("a",Object.assign({ref:n},$,{className:R,style:x}),P):l.createElement("button",Object.assign({ref:n},$,{className:R,style:x,type:i}),P))}),S=$e;var Ce=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(o[e[r]]=t[e[r]]);return o};const ht=l.forwardRef((t,n)=>{const{prefixCls:o,className:e,type:r="default",shape:a="circle",visibilityHeight:f=400,icon:g=l.createElement(ue,null),target:m,onClick:p,duration:c=450}=t,i=Ce(t,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[C,$]=u.useState(f===0),d=l.useRef(null);l.useImperativeHandle(n,()=>({nativeElement:d.current}));const h=()=>{var y;return((y=d.current)===null||y===void 0?void 0:y.ownerDocument)||window},j=Qt(y=>{const x=Jt(y.target);$(x>=f)});u.useEffect(()=>{const x=(m||h)();return j({target:x}),x==null||x.addEventListener("scroll",j),()=>{j.cancel(),x==null||x.removeEventListener("scroll",j)}},[m]);const v=y=>{Kt(0,{getContainer:m||h,duration:c}),p==null||p(y)},{getPrefixCls:B}=u.useContext(Q),_=B(G,o),N=B(),I=u.useContext(Y)||a,R=Object.assign({prefixCls:_,icon:g,type:r,shape:I},i);return l.createElement(mt,{visible:C,motionName:`${N}-fade`},(y,x)=>{let{className:O}=y;return l.createElement(S,Object.assign({ref:Pt(d,x)},R,{onClick:v,className:z(e,O)}))})});var Oe=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(o[e[r]]=t[e[r]]);return o};const bt=t=>{var n;const{prefixCls:o,className:e,style:r,shape:a="circle",type:f="default",placement:g="top",icon:m=l.createElement(ft,null),closeIcon:p,description:c,trigger:i,children:C,onOpenChange:$,open:d,onClick:h}=t,j=Oe(t,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:v,getPrefixCls:B,closeIcon:_}=Tt("floatButtonGroup"),N=(n=p??_)!==null&&n!==void 0?n:l.createElement(Nt,null),b=B(G,o),I=ct(b),[R,y,x]=gt(b,I),O=`${b}-group`,F=i&&["click","hover"].includes(i),P=g&&["top","left","right","bottom"].includes(g),yt=z(O,y,x,I,e,{[`${O}-rtl`]:v==="rtl",[`${O}-${a}`]:a,[`${O}-${a}-shadow`]:!F,[`${O}-${g}`]:F&&P}),[xt]=dt("FloatButton",r==null?void 0:r.zIndex),$t=Object.assign(Object.assign({},r),{zIndex:xt}),Ct=z(y,`${O}-wrap`),[M,Ot]=zt(!1,{value:d}),tt=l.useRef(null),et=i==="hover",H=i==="click",L=_t(E=>{M!==E&&(Ot(E),$==null||$(E))}),St=()=>{et&&L(!0)},wt=()=>{et&&L(!1)},jt=E=>{H&&L(!M),h==null||h(E)};return l.useEffect(()=>{if(H){const E=V=>{var A;!((A=tt.current)===null||A===void 0)&&A.contains(V.target)||L(!1)};return document.addEventListener("click",E,{capture:!0}),()=>document.removeEventListener("click",E,{capture:!0})}},[H]),R(l.createElement(me,{value:a},l.createElement("div",{ref:tt,className:yt,style:$t,onMouseEnter:St,onMouseLeave:wt},F?l.createElement(l.Fragment,null,l.createElement(mt,{visible:M,motionName:`${O}-wrap`},E=>{let{className:V}=E;return l.createElement("div",{className:z(V,Ct)},C)}),l.createElement(S,Object.assign({type:f,icon:M?N:m,description:c,"aria-label":t["aria-label"],className:`${O}-trigger`,onClick:jt},j))):C)))};var vt=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(o[e[r]]=t[e[r]]);return o};const at=t=>{var{backTop:n}=t,o=vt(t,["backTop"]);return n?u.createElement(ht,Object.assign({},o,{visibilityHeight:0})):u.createElement(S,Object.assign({},o))},Se=t=>{var{className:n,items:o}=t,e=vt(t,["className","items"]);const{prefixCls:r}=e,{getPrefixCls:a}=u.useContext(Q),g=`${a(G,r)}-pure`;return o?u.createElement(bt,Object.assign({className:z(n,g)},e),o.map((m,p)=>u.createElement(at,Object.assign({key:p},m)))):u.createElement(at,Object.assign({className:z(n,g)},e))};S.BackTop=ht;S.Group=bt;S._InternalPanelDoNotUseOrYouWillBeFired=Se;var we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 100c-61.8 0-112 50.2-112 112 0 47.7 29.9 88.5 72 104.6v27.6L512 601.4 312 344.2v-27.6c42.1-16.1 72-56.9 72-104.6 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 50.6 33.8 93.5 80 107.3v34.4c0 9.7 3.3 19.3 9.3 27L476 672.3v33.6c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-33.6l226.7-291.6c6-7.7 9.3-17.3 9.3-27v-34.4c46.2-13.8 80-56.7 80-107.3 0-61.8-50.2-112-112-112zM224 212a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm336 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm192-552a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"fork",theme:"outlined"},Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};function U(){return U=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},U.apply(this,arguments)}const Ee=(t,n)=>u.createElement(D,U({},t,{ref:n,icon:we})),Be=u.forwardRef(Ee);function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},Z.apply(this,arguments)}const Re=(t,n)=>u.createElement(D,Z({},t,{ref:n,icon:je})),Pe=u.forwardRef(Re);function J(){return J=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},J.apply(this,arguments)}const Te=(t,n)=>u.createElement(D,J({},t,{ref:n,icon:Ft})),ze=u.forwardRef(Te);function K(){return K=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},K.apply(this,arguments)}const _e=(t,n)=>u.createElement(D,K({},t,{ref:n,icon:Ie})),Ne=u.forwardRef(_e);function Fe(){const{query:{isDirty:t,isSaving:n,save:o,stats:e,...r},randomGroups:{cardIds:a,cards:f,onSelect:g,selection:m,relate:p,nextSet:c,deselectAll:i,cycles:C},showIds:$,cardSize:d}=pt(),h=u.useRef(null),[j,{width:v}]=Mt(),[B,_]=u.useMemo(()=>{const b=Math.floor(v/d)+1,I=Math.floor(v/b);return[b,I]},[d,v]),N=()=>{var b;c(),(b=h.current)==null||b.scrollIntoView({behavior:"smooth"})};return s.jsx(kt,{isLoading:r.isLoading,error:r.error,hasResponseData:!X.isEmpty(r.data),children:s.jsx("div",{ref:j,className:"my-6",children:s.jsxs(Ut,{title:"Card Relationship Matching",extra:s.jsxs(ut,{title:"Total cycles",children:[s.jsx(qt,{})," ",C]}),className:"image-card-categorizer-card",ref:h,children:[s.jsx(Lt.PreviewGroup,{children:s.jsx("div",{className:"image-cards-group",style:{gridTemplateColumns:`repeat(${Math.max(B,1)}, 1fr)`},children:a.map((b,I)=>{const R=m.includes(b),y=f[I];return s.jsx("div",{className:"image-card-card__image",children:s.jsxs(Vt,{onClick:()=>g(b),active:R,className:"image-cards-group__button",activeClass:"image-cards-group__button--active",children:[s.jsx(Wt,{id:b,width:_-24,preview:!1}),s.jsxs("div",{children:[$&&s.jsx(At,{children:b}),s.jsx(Xt,{card:y})]})]})},b)})})}),s.jsx(Me,{isSaving:n,isDirty:t,selection:m,relate:p,deselectAll:i,onNextSet:N})]})})})}const Me=({isSaving:t,isDirty:n,selection:o,relate:e,deselectAll:r,onNextSet:a})=>{if(t)return s.jsx(s.Fragment,{children:s.jsx(S,{icon:s.jsx(ze,{})})});const f=()=>{o.length<2||e()};return s.jsxs(s.Fragment,{children:[n&&s.jsx(S,{icon:s.jsx(oe,{}),type:"primary",style:{right:234}}),s.jsx(S,{icon:s.jsx(Be,{}),style:{right:164},onClick:r}),s.jsx(S,{icon:s.jsx(Pe,{}),style:{right:94},type:o.length<2?"default":"primary",badge:{count:o.length,size:"small"},onClick:f}),s.jsx(S,{icon:s.jsx(Ne,{}),style:{right:24},onClick:a})]})};function Le(){const{query:{isDirty:t,isSaving:n,save:o,data:e,isLoading:r,isError:a},randomGroups:{filters:f},showIds:g,setShowIds:m,tagThreshold:p,setTagThreshold:c,sampleSize:i,setSampleSize:C,cardSize:$,setCardSize:d}=pt();return s.jsxs(ae,{children:[s.jsx(W,{children:s.jsxs(ce,{vertical:!0,gap:6,children:[s.jsx(re,{isDirty:t,dirt:JSON.stringify(e),onSave:()=>o({}),isSaving:n}),s.jsx(te,{data:e,fileName:"imageCardsRelationships.json",loading:n,disabled:X.isEmpty(e),block:!0})]})}),s.jsx(ne,{isLoading:r||n,isDirty:t,isError:a,hasResponseData:!X.isEmpty(e)}),s.jsxs(W,{children:[s.jsx(nt,{label:"Use Cycles",value:f.useCycles,onChange:()=>f.toggleUseCycles()}),s.jsx(nt,{label:"Show Ids",value:g,onChange:h=>m(h)}),s.jsx(k,{onChange:h=>c(h),value:p,options:ie,label:"Tag Count"}),s.jsx(k,{onChange:h=>C(h),value:i,options:se,label:"Sample Size"}),s.jsx(k,{onChange:h=>d(h),value:$,options:le,label:"Card Size"})]}),s.jsx(W,{children:s.jsx(Gt,{})})]})}function Oo(){return s.jsx(Dt,{title:"Image Cards",subtitle:"Relationships",children:s.jsx(Ht,{children:s.jsxs(ot,{hasSider:!0,children:[s.jsx(Le,{}),s.jsx(ot.Content,{className:"content",children:s.jsx(Fe,{})})]})})})}export{Oo as default};
