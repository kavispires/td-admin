import{r as o,j as e,P as I,L,b as m}from"./index-CTf-mCqX.js";import{S as n}from"./SectionTitle-CLDHDV53.js";import{R as T}from"./ResponseState-CbLoJUr6.js";import{D as _}from"./DataLoadingWrapper-gOz-iekJ.js";import{P as w}from"./useBaseUrl-D2YOm4WP.js";import{u as P,R as b}from"./useResourceState-C2h8I3Bp.js";import{S as M}from"./SearchDuplicates-Be0iuWET.js";import{u as $}from"./useQueryParams-yhBqKdrw.js";import{h as U,s as H,f as J}from"./index-B1cA-3FD.js";import{R as h,a as F}from"./constants-D2J5TbS7.js";import"./SiderContent-BNiATzc9.js";import"./index-BL7SeXuZ.js";import"./LanguageToggle-uq07xhc0.js";import"./LanguageFlag-CPTsgPfU.js";import"./index-DFmb7Kiu.js";import"./useId-Cj2VzGUM.js";import"./index-C920Py66.js";import"./Item-Dsp7t-q7.js";function k({data:r}){const{level0:a,level1:p,level2:u,level3:v,level4:x,total:l}=o.useMemo(()=>Object.values(r).reduce((t,i)=>(t[`level${i.level}`]+=1,t.total+=1,t),{level0:0,level1:0,level2:0,level3:0,level4:0,total:0}),[r]);return e.jsxs("div",{className:"",children:[e.jsxs(n,{children:["Levels (",l,")"]}),e.jsxs("div",{style:{color:a>0?"red":"inherit"},children:["Level 0: ",a]}),e.jsxs("div",{children:["Level 1: ",p]}),e.jsxs("div",{children:["Level 2: ",u]}),e.jsxs("div",{children:["Level 3: ",v]}),e.jsxs("div",{children:["Level 4: ",x]})]})}function oe(){$({resourceName:h.ARTE_RUIM_CARDS,language:"pt"});const[r,a]=o.useState({}),[p,u]=o.useState({}),[v,x]=o.useState({}),l="text",{resourceName:t,language:i,isLoading:j,error:R,hasResponseData:S,response:s}=P([h.ARTE_RUIM_CARDS]);o.useEffect(()=>{s&&(x(U(s,l)),u(s))},[s]);const N=y=>{const{value:O}=y.target,c=O.split(`
`),f=Object.values(s??{}),D=Number(f[f.length-1].id.split("-")[1])||1;if(c.at(-1)&&c.at(-1).length>F){const d=H(c.at(-1).trim().toLowerCase());a(J(d,s,l))}else a({});const E=c.reduce((d,g,C)=>{if(g&&t){const A=`${t[0]}-${D+C+1}-${i}`;d[A]={id:A,text:g,level:0}}return d},{...s});u(E)};return e.jsx(I,{subtitle:t&&i?`Parser (${i})`:"",title:"Arte Ruim",children:e.jsxs(L,{hasSider:!0,children:[e.jsxs(w,{children:[e.jsx(T,{error:R,hasResponseData:S,isLoading:j}),e.jsx(b,{resourceNames:[h.ARTE_RUIM_CARDS]})]}),e.jsx(L.Content,{className:"content",children:e.jsx(_,{error:R,hasResponseData:S,isLoading:j,children:e.jsxs("div",{className:"parser-container",children:[e.jsxs("div",{className:"parser-main",children:[e.jsx(n,{children:"Input New Data"}),e.jsx(m.TextArea,{cols:15,id:"",name:"input",onChange:N,rows:5}),e.jsx(n,{children:"Output"}),e.jsx(m.TextArea,{cols:15,id:"",name:"output",readOnly:!0,rows:14,value:JSON.stringify(p,null,4)}),e.jsx(n,{children:"Duplicates"}),e.jsx(m.TextArea,{cols:15,id:"",name:"duplicates",readOnly:!0,rows:3,value:JSON.stringify(v)})]}),e.jsxs("aside",{className:"parser-controls",children:[!!s&&e.jsx(k,{data:s}),e.jsxs(n,{children:["Similar Results for Last Entry (",Object.values(r).length,")"]}),e.jsx(m.TextArea,{cols:10,id:"",name:"search-results",readOnly:!0,rows:5,value:JSON.stringify(r,null,4)}),e.jsx(M,{property:l,response:s})]})]})})})]})})}export{oe as ArteRuimParser,oe as default};
