import{r as C,j as e,F as d,B as j,au as h,b as w,P as b,L as g}from"./index-Mpn7fKLo.js";import{D as $}from"./DataLoadingWrapper-DJ85WKe8.js";import{C as S}from"./CopyToClipboardButton-Di6Inzj2.js";import{I as p}from"./Item-Cz8Li8m1.js";import{u as F}from"./useCopyToClipboardFunction-HFoZG3l7.js";import{u as f}from"./useTDResource-C47fB72g.js";import{l as c,P as T}from"./useBaseUrl-CX18PvAw.js";import{I as u,b as i}from"./ItemBuildingBlocks-lJal1IOG.js";import{S as L}from"./index-De3Jpewb.js";import{F as k}from"./Table-C2GnM8lx.js";import"./clsx-B-dksMZM.js";import"./LanguageFlag-C57U6icB.js";import"./IdcardOutlined-B6cwoyIC.js";import"./index-BAyL2y2L.js";import"./index-C8_OtA8I.js";import"./index-DGNTcQev.js";import"./index-wSWHTulM.js";import"./scrollTo-DFvfQX28.js";import"./Pagination-BTUVIioT.js";function E(){const n=f("items"),I=F(),v=C.useMemo(()=>{const s=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("suspect"))),t=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("weapon"))),r=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("evidence"))),o=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("location"))),l=Math.max(s.length,t.length,r.length,o.length),x=[];for(let a=0;a<l;a++)x.push({id:`crime-${a}`,suspect:s[a],weapon:t[a],evidence:r[a],location:o[a]});return x},[n.data]),m=(s,t)=>{const o={id:`dmhk-${t==="weapon"?"wp":"ev"}-000`,type:t,name:{en:s.name.en,pt:s.name.pt},itemId:s.id},l=JSON.stringify({[o.id]:o},null,2);I(l.substring(1,l.length-1))},y=[{title:"id",dataIndex:"id"},{title:"Suspect",dataIndex:"suspect",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"})]}):"?"})},{title:"Means of Murder",dataIndex:"weapon",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"}),e.jsx(j,{icon:e.jsx(h,{}),onClick:()=>m(s,"weapon"),size:"small",children:"Crime"})]}):"?"})},{title:"Evidence",dataIndex:"evidence",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"}),e.jsx(j,{icon:e.jsx(h,{}),onClick:()=>m(s,"evidence"),size:"small",children:"Crime"})]}):"?"})},{title:"Location",dataIndex:"location",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"})]}):"?"})},{title:"Crime",dataIndex:"id",render:(s,t)=>{const r=`${t.id} - Suspect: ${t.suspect?.name?.en} (id: ${t.suspect.id}), Means of Murder:${t.weapon?.name?.en} (id: ${t.weapon.id}), Piece of Evidence: ${t?.evidence?.name?.en} (id: ${t.evidence.id}), and the Location: ${t?.location?.name?.en} (id: ${t.location.id})`;return e.jsxs(d,{vertical:!0,children:[e.jsx(S,{content:r}),e.jsx(w.TextArea,{readOnly:!0,rows:3,value:r})]})}}];return e.jsx(L,{className:"my-4",direction:"vertical",children:e.jsx(k,{columns:y,dataSource:v,pagination:{showQuickJumper:!0},rowKey:"id"})})}function X(){const n=f("items");return e.jsx(b,{subtitle:"Crime History Random Sets",title:"Items",children:e.jsxs(g,{hasSider:!0,children:[e.jsx(T,{children:"-"}),e.jsx(g.Content,{className:"content",children:e.jsx($,{error:n.error,hasResponseData:!c.isEmpty(n.data),isLoading:n.isLoading,children:e.jsx(E,{})})})]})})}export{X as ItemsCrimeHistorySets,X as default};
