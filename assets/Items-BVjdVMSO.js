import{r as f,a as M,_ as $,j as e,ao as Y,B as y,T as I,am as Z,D as P,ap as V,P as ee,L as _}from"./index-dxqRZG9X.js";import{D as se}from"./DataLoadingWrapper-CHkaPzzl.js";import{F as ae}from"./FirestoreConsoleLink-DV2huEtP.js";import{u as ne,P as te}from"./useGridPagination-tdfnByHQ.js";import{u as O}from"./useQueryParams--Xnh1v1a.js";import{u as ie}from"./useResourceFirestoreData-pL1PX9Zq.js";import{l as j,P as le}from"./useBaseUrl-BXHtA4Pi.js";import{L as D}from"./LanguageFlag-Dc2UEnQM.js";import{I as oe}from"./Item-D-HWwya5.js";import{u as L}from"./useCopyToClipboardFunction-DXdQUBdr.js";import{F as A}from"./index-C4I3rKEO.js";import{C as S}from"./index-BM-X4DgR.js";import{u as re,R as ce}from"./useToggle-ClzOIAy5.js";import{S as z}from"./index--q15TYvE.js";import{F as b}from"./index-BggtpG-R.js";import{C as de}from"./index-DkjYrQny.js";import{I as W}from"./index-DG9-Dq-U.js";import{S as F}from"./index-DOhECwtc.js";import{S as me}from"./index-CzsF-3pk.js";import{R as ue}from"./FireFilled-BU0ZXDCk.js";import{R as pe}from"./SaveOutlined-DH5U4cHr.js";import{c as R,d as H,a as he,T as ge}from"./FilterEntries-DDHedpCi.js";import{S as fe}from"./SiderContent-g6fyCteD.js";import{D as J}from"./DownloadButton-D7cMNwbq.js";import{S as xe}from"./SaveButton-wN5bIWmj.js";import{a as q,d as je,r as ke}from"./index-CIdX3id2.js";import{M as ve}from"./index-Cqfe7jHO.js";import{D as Ce}from"./index-q2VES2ua.js";import{I as ye}from"./ItemsTypeahead-D1mDkd5i.js";import{R as be}from"./EnvironmentOutlined-BoL7HXn9.js";import"./Pagination-CMgMjwwg.js";import"./useGetFirestoreDoc-Bd7iCQ4m.js";import"./useTDResource-Bxk_GrJX.js";import"./useUpdateFirestoreDoc-Cq7_Knra.js";import"./useMutation-CF3vwMOA.js";import"./gapSize-U1swVQyS.js";import"./index-BodX8mPE.js";import"./PlusOutlined-D-F8h1jm.js";import"./Input-BdiSS1dO.js";import"./moment-C5S46NFB.js";import"./constants-B8Jx-I5N.js";import"./useDebounce-BVP3YnwL.js";import"./index-BrqB1EGw.js";var we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},Ie=function(t,n){return f.createElement(M,$({},t,{ref:n,icon:we}))},Ne=f.forwardRef(Ie),Se={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482.88 128c-84.35 0-156.58 52.8-185.68 126.98-60.89 8.13-115.3 43.63-146.6 97.84-42.16 73-32.55 161.88 17.14 224.16-23.38 56.75-19.85 121.6 11.42 175.78 42.18 73.02 124.1 109.15 202.94 97.23C419.58 898.63 477.51 928 540.12 928c84.35 0 156.58-52.8 185.68-126.98 60.89-8.13 115.3-43.62 146.6-97.84 42.16-73 32.55-161.88-17.14-224.16 23.38-56.75 19.85-121.6-11.42-175.78-42.18-73.02-124.1-109.15-202.94-97.23C603.42 157.38 545.49 128 482.88 128m0 61.54c35.6 0 68.97 13.99 94.22 37.74-1.93 1.03-3.92 1.84-5.83 2.94l-136.68 78.91a46.11 46.11 0 00-23.09 39.78l-.84 183.6-65.72-38.34V327.4c0-76 61.9-137.86 137.94-137.86m197.7 75.9c44.19 3.14 86.16 27.44 109.92 68.57 17.8 30.8 22.38 66.7 14.43 100.42-1.88-1.17-3.6-2.49-5.53-3.6l-136.73-78.91a46.23 46.23 0 00-46-.06l-159.47 91.1.36-76.02 144.5-83.41a137.19 137.19 0 0178.53-18.09m-396.92 55.4c-.07 2.2-.3 4.35-.3 6.56v157.75a46.19 46.19 0 0022.91 39.9l158.68 92.5-66.02 37.67-144.55-83.35c-65.86-38-88.47-122.53-50.45-188.34 17.78-30.78 46.55-52.69 79.73-62.68m340.4 79.93l144.54 83.35c65.86 38 88.47 122.53 50.45 188.34-17.78 30.78-46.55 52.69-79.73 62.68.07-2.19.3-4.34.3-6.55V570.85a46.19 46.19 0 00-22.9-39.9l-158.69-92.5zM511.8 464.84l54.54 31.79-.3 63.22-54.84 31.31-54.54-31.85.3-63.16zm100.54 58.65l65.72 38.35V728.6c0 76-61.9 137.86-137.94 137.86-35.6 0-68.97-13.99-94.22-37.74 1.93-1.03 3.92-1.84 5.83-2.94l136.68-78.9a46.11 46.11 0 0023.09-39.8zm-46.54 89.55l-.36 76.02-144.5 83.41c-65.85 38-150.42 15.34-188.44-50.48-17.8-30.8-22.38-66.7-14.43-100.42 1.88 1.17 3.6 2.5 5.53 3.6l136.74 78.91a46.23 46.23 0 0046 .06z"}}]},name:"open-a-i",theme:"outlined"},De=function(t,n){return f.createElement(M,$({},t,{ref:n,icon:Se}))},Oe=f.forwardRef(De),Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},Re=function(t,n){return f.createElement(M,$({},t,{ref:n,icon:Te}))},Pe=f.forwardRef(Re);const Q=f.createContext({items:{},isLoading:!0,error:null,hasResponseData:!1,decksDict:{},decks:[],listing:[],isDirty:!1,addItemToUpdate:()=>{},itemsToUpdate:{},isSaving:!1,save:()=>{},newId:"-1",hasFirestoreData:!1}),ze=({children:s})=>{const{queryParams:t}=O(),{data:n,isLoading:a,error:i,isSaving:o,save:r,addEntryToUpdate:k,entriesToUpdate:c,isDirty:u,hasFirestoreData:p}=ie({tdrResourceName:"items",firestoreDataCollectionName:"items"}),{decksDict:l,decks:h}=f.useMemo(()=>{console.log("Recomputing item decks typeahead...");const v={},d={},C={},w=[];Object.values(n).forEach(x=>{var B;const K=`${x.name.en} (${x.id})`,X=`${x.name.pt} (${x.id})`;d[x.name.en]?w.push([`${x.name.en} (${d[x.name.en]})`,K]):d[x.name.en]=x.id,C[x.name.pt]?w.push([`${x.name.pt} (${C[x.name.pt]})`,X]):C[x.name.pt]=x.id,(B=x==null?void 0:x.decks)==null||B.forEach(U=>{v[U]=U})}),v.age1="age1",v.age2="age2",v.age3="age3",v.age4="age4",v.age5="age5";const T=j.orderBy(Object.keys(v)).map(x=>({value:x}));return w.length>0&&console.warn("Possible duplicated items",w),{decksDict:v,decks:T}},[n,o,a]),m=t.get("deck")??"all",g=f.useMemo(()=>{const v=j.orderBy(Object.values(n),[d=>Number(d.id)],"asc");switch(m){case"all":return v;case"!all":return v.filter(d=>{var C;return!((C=d==null?void 0:d.decks)!=null&&C.length)||!0});case"nsfw":return v.filter(d=>d.nsfw);case"!nsfw":return v.filter(d=>!d.nsfw);default:return m.startsWith("!")?m.slice(1).startsWith("age")?v.filter(d=>{var C;return!((C=d==null?void 0:d.decks)!=null&&C.some(w=>w.startsWith("age")))}):v.filter(d=>{var C;return!((C=d==null?void 0:d.decks)!=null&&C.includes(m.slice(1)))}):v.filter(d=>{var C;return(C=d==null?void 0:d.decks)==null?void 0:C.includes(m)})}},[m,n]),G=f.useMemo(()=>{var w;const v=j.orderBy(Object.keys(c),[T=>Number(T)],"asc"),d=(w=g[g.length-1])==null?void 0:w.id,C=j.orderBy([...v,d],[T=>Number(T)],"desc")[0];return String(Number(C)+1)},[g,c]);return e.jsx(Q.Provider,{value:{items:n,listing:g,isLoading:a,error:i,decksDict:l,decks:h,hasResponseData:g.length>0,isDirty:u,addItemToUpdate:k,isSaving:o,save:r,itemsToUpdate:c,newId:G,hasFirestoreData:p},children:s})},N=()=>f.useContext(Q);function Ee(s,t=!1){const{addItemToUpdate:n,itemsToUpdate:a}=N(),[i,o]=f.useState(t),[r,k]=f.useState(j.cloneDeep(s)),c=a[s.id]??s,u=m=>{const g={...j.cloneDeep(r),...m};Object.keys(m).includes("nsfw")&&m.nsfw===!1&&(g.nsfw=void 0),k(g)},p=async()=>{n(r.id,r)},l=()=>{k(j.cloneDeep(s)),o(!1)},h=JSON.stringify(c)!==JSON.stringify(r);return{isEditing:i,toggleEditMode:()=>o(m=>!m),editableItem:r,onEdit:u,isDirty:h,onModify:p,onReset:l}}function Fe({item:s,isEditing:t,onEdit:n,decks:a}){return e.jsx("div",{style:{display:"grid",gap:4,gridTemplateColumns:"repeat(2, 1fr)"},children:a.map(i=>{const o=s.decks??[],r=o.includes(i.value);return e.jsxs(A.Item,{style:{margin:0,minHeight:1},children:[e.jsx(S,{checked:r,disabled:!t,onChange:k=>{const u=k.target.checked?[...o,i.value]:o.filter(p=>p!==i.value);console.log("onChange",k.target.checked,i.value,u),n({decks:u})},style:{minHeight:1}}),e.jsxs("span",{children:[" ",j.truncate(i.value,{length:10})]})]},i.value)})})}const Me=s=>({id:s.id,type:"item",header:{title:{en:"Item",pt:"Item"},iconId:"2077"},metadata:{level:"basic",keyword:j.snakeCase(s.name.en).toUpperCase()},content:{itemId:s.id,caption:s.name}});function $e({item:s}){const[t,n]=re(!1),a=L();return e.jsx(Y,{content:e.jsxs(z,{direction:"vertical",children:[e.jsx(y,{onClick:()=>a(JSON.stringify(s,null,2)),size:"small",children:"Complete Item"}),e.jsx(y,{onClick:()=>a(s.name.en),size:"small",children:"EN Name"}),e.jsx(y,{onClick:()=>a(s.name.pt),size:"small",children:"PT Name"}),e.jsx(y,{onClick:()=>a(JSON.stringify(Me(s),null,2)),size:"small",children:"Escape Room Item"})]}),onOpenChange:n,open:t,title:"Copy",trigger:"click",children:e.jsx(y,{icon:e.jsx(Ne,{}),type:"text"})})}const Le=j.memoize(s=>{var r,k;const t=!!((r=s.decks)!=null&&r.includes("thing")),n=!!((k=s.decks)!=null&&k.includes("manufactured")),a=s.name.en.split(" ").length===1,i=s.name.pt.split(" ").length===1,o={en:t||a&&n,pt:t||i&&n};return!o.pt&&!o.en?"":e.jsxs(e.Fragment,{children:[o.en&&e.jsx(D,{language:"en",width:"1em"}),o.pt&&e.jsx(D,{language:"pt",width:"1em"})]})}),Ae=({item:s})=>{const t=Le(s);return t?e.jsxs(b,{gap:6,children:["Thing: ",t]}):null};function E({item:s,editMode:t=!1,simplified:n}){const{decks:a}=N(),{isEditing:i,toggleEditMode:o,onEdit:r,isDirty:k,onModify:c,onReset:u,editableItem:p}=Ee(s,t),l=L(),{is:h}=O(),m=n||h("simplified");return e.jsxs(de,{actions:m?void 0:k?[e.jsx(Pe,{onClick:u},"reset"),e.jsx(pe,{onClick:c},"save")]:[e.jsx(Z,{onClick:o},"edit")],extra:e.jsx($e,{item:s}),size:m?"small":"default",style:{maxWidth:250},title:e.jsx(I.Text,{onClick:()=>l(s.id),children:s.id}),children:[e.jsx(oe,{id:s.id,title:`${s.name.en} | ${s.name.pt}`,width:m?75:125}),e.jsxs(z,{className:m?"my-2":"my-4",direction:"vertical",size:"small",children:[e.jsx(W,{defaultValue:s.name.en,onChange:g=>r({name:{...p.name,en:g.target.value}}),placeholder:"Name in EN",prefix:e.jsx(D,{language:"en",width:"1em"}),readOnly:!i,size:"small",variant:i?"outlined":"borderless"},`en-${s.name.en}`),e.jsx(W,{defaultValue:s.name.pt,onChange:g=>r({name:{...p.name,pt:g.target.value}}),placeholder:"Name in PT",prefix:e.jsx(D,{language:"pt",width:"1em"}),readOnly:!i,size:"small",variant:i?"outlined":"borderless"},`pt-${s.name.pt}`),!m&&e.jsxs(e.Fragment,{children:[!h("hideDecks")&&e.jsx("div",{children:h("deckCheckboxes")?e.jsx(Fe,{decks:a,isEditing:i,item:s,onEdit:r}):e.jsx(F,{defaultValue:s.decks,disabled:!i,mode:"multiple",onChange:g=>r({decks:g.sort()}),options:a,placeholder:"Select a deck",size:"small",style:{width:"100%"},variant:i?"outlined":"borderless"},String(s.decks))}),!h("hideAliases")&&e.jsxs(e.Fragment,{children:[e.jsxs(b,{gap:6,children:[e.jsx(D,{language:"en",width:"1em"}),e.jsx(F,{defaultValue:s.aliasesEn,disabled:!i,mode:"tags",onChange:g=>r({aliasesEn:g.sort()}),options:[],placeholder:"Other names EN",size:"small",style:{width:"100%"},variant:i?"outlined":"borderless"})]}),e.jsxs(b,{gap:6,children:[e.jsx(D,{language:"pt",width:"1em"}),e.jsx(F,{defaultValue:s.aliasesPt,disabled:!i,mode:"tags",onChange:g=>r({aliasesPt:g.sort()}),options:[],placeholder:"Other names PT",size:"small",style:{width:"100%"},variant:i?"outlined":"borderless"})]})]}),e.jsx(Be,{item:s,onEdit:r}),h("showVerifyThing")&&e.jsx("div",{children:e.jsx(Ae,{item:s})}),(i||s.nsfw)&&e.jsx("div",{children:e.jsx(A.Item,{label:"nsfw",valuePropName:"checked",children:e.jsx(me,{checked:s.nsfw,checkedChildren:e.jsx(ue,{style:{color:"hotpink"}}),disabled:!i,onChange:g=>r({nsfw:g}),size:"small"})})})]})]})]})}function Be({item:s,onEdit:t}){const n=s.decks||[],a=async i=>{const o=n.includes(i)?n.filter(r=>r!==i):[...n,i];t({decks:o})};return e.jsxs("div",{children:[e.jsx(I.Text,{strong:!0,children:"Ages"}),e.jsxs(b,{gap:6,children:[e.jsx(S,{checked:n.includes("age1"),onChange:()=>a("age1")}),"1",e.jsx(S,{checked:n.includes("age2"),onChange:()=>a("age2")}),"2",e.jsx(S,{checked:n.includes("age3"),onChange:()=>a("age3")}),"3",e.jsx(S,{checked:n.includes("age4"),onChange:()=>a("age4")}),"4",e.jsx(S,{checked:n.includes("age5"),onChange:()=>a("age5")}),"5"]})]})}function Ue(){const{queryParams:s}=O(),t=s.get("deck")??"all",{listing:n}=N(),{page:a,pagination:i}=ne({data:n,resetter:t});return e.jsxs(e.Fragment,{children:[e.jsxs(b,{align:"center",gap:12,children:[e.jsxs(I.Title,{className:"my-0",level:2,children:["Listing - ",j.capitalize(t)," items (",n.length,")"]}),e.jsx(ae,{path:"/tdr/items"})]}),e.jsx(te,{className:"full-width",pagination:i,children:e.jsx(b,{gap:16,wrap:"wrap",children:a.map(o=>e.jsx(E,{item:o},o.id))})})]})}const Ve={id:"",name:{en:"",pt:""},groups:[]};function _e({isModalOpen:s,handleOk:t,handleCancel:n,newId:a}){const[i]=f.useState(j.cloneDeep({...Ve,id:a}));return e.jsx(ve,{onCancel:n,onOk:t,open:s,title:"Add new item",children:e.jsx(E,{editMode:!0,item:i})})}function We(){const[s,t]=f.useState(!1),{newId:n}=N(),a=()=>{t(!0)},i=()=>{t(!1)},o=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(y,{block:!0,onClick:a,children:"Add New Item"}),s&&e.jsx(_e,{handleCancel:o,handleOk:i,isModalOpen:s,newId:n},n)]})}function He(){const{isDirty:s,save:t,items:n,decks:a,itemsToUpdate:i,isSaving:o,hasFirestoreData:r}=N(),{queryParams:k,is:c,addParam:u}=O(),p=f.useMemo(()=>{const l=j.orderBy(a.map(({value:m})=>({label:j.capitalize(m),value:m})),"label"),h=l.filter(m=>!m.value.startsWith("age")).map(({label:m,value:g})=>({label:`NOT ${m}`,value:`!${g}`}));return[...l,...h,{label:"NOT any age",value:"!age"}]},[a]);return e.jsxs(fe,{children:[e.jsxs(b,{gap:6,vertical:!0,children:[e.jsx(xe,{dirt:JSON.stringify(i),isDirty:s,isSaving:o,onSave:t}),e.jsx(J,{block:!0,data:()=>Je(n),disabled:s,fileName:"items.json",hasNewData:r})]}),e.jsx(P,{className:"my-4"}),e.jsx(I.Text,{type:"secondary",children:"Tools"}),e.jsx(R,{className:"full-width m-0",label:"Show Search",onChange:l=>u("hideSearch",l?"":"true",""),value:!c("hideSearch")}),e.jsx(R,{className:"full-width m-0",label:"Show Randomizer",onChange:l=>u("showRandomizer",l?"true":"",""),value:c("showRandomizer")}),e.jsx(I.Text,{type:"secondary",children:"Input"}),e.jsx(H,{className:"full-width m-0",label:"Hide Decks",onChange:l=>u("hideDecks",l?"true":""),value:c("hideDecks")}),e.jsx(H,{className:"full-width m-0",label:"Hide Aliases",onChange:l=>u("hideAliases",l?"true":""),value:c("hideAliases")}),e.jsx(I.Text,{type:"secondary",children:"Display"}),e.jsx(R,{className:"full-width m-0",label:"Simplified UI",onChange:l=>u("simplified",l?"true":""),value:c("simplified")}),e.jsx(R,{className:"full-width m-0",label:"Deck Checkboxes",onChange:l=>u("deckCheckboxes",l?"true":""),value:c("deckCheckboxes")}),e.jsx(R,{className:"full-width m-0",disabled:c("simplified"),label:"Thing Verifier",onChange:l=>u("showVerifyThing",l?"true":""),value:c("showVerifyThing")}),e.jsx(P,{className:"my-4"}),e.jsx(he,{label:"Deck",onChange:l=>u("deck",l,"all"),options:[{label:"All",value:"all"},{label:"NSFW",value:"nsfw"},{label:"SFW",value:"!nsfw"},...p,{label:"No decks",value:"!all"}],value:k.get("deck")??"all"}),e.jsx(P,{className:"my-4"}),e.jsx(We,{}),e.jsx(P,{className:"my-4"}),e.jsx(J,{block:!0,data:()=>qe(n),disabled:s,fileName:"items-gpt.json",icon:e.jsx(Oe,{}),children:"Open AI JSON"})]})}function Je(s){console.log("Preparing file for download...");const t=j.cloneDeep(s);return Object.values(t).reduce((n,a)=>(a.aliasesEn=Object.values(a.aliasesEn??{}).sort(),a.aliasesEn.length===0&&(a.aliasesEn=void 0),a.aliasesPt=Object.values(a.aliasesPt??{}).sort(),a.aliasesPt.length===0&&(a.aliasesPt=void 0),a.decks=Object.values((a==null?void 0:a.decks)??{}).sort(),a.decks.length===0&&(a.decks=void 0),n[a.id]=a,n),{}),q(je(t))}function qe(s){return q(Object.values(j.cloneDeep(s)).reduce((t,n)=>{const a={id:n.id,names:{"en-US":n.name.en,"pt-BR":n.name.pt},aliases:{"en-US":n.aliasesEn,"pt-BR":n.aliasesPt}};return t[a.id]=a,t},{}))}function Qe(){const{listing:s}=N(),[t,n]=f.useState([]),a=L(),[i,o]=f.useState(5),r=()=>{n(j.sampleSize(s,i))},k=[{label:"Copy IDs",key:"copy_ids"},{label:"Copy Names EN",key:"copy_names_en"},{label:"Copy Names PT",key:"copy_names_pt"}],c=({key:p})=>{if(p==="copy_ids"){const l=t.map(h=>h.id);a(JSON.stringify(l));return}if(p==="copy_names_en"){const l=t.map(h=>h.name.en).join(", ");a(l);return}if(p==="copy_names_pt"){const l=t.map(h=>h.name.pt).join(", ");a(l);return}},u=()=>{const p=j.chunk(j.sampleSize(s,i*15),i).map(l=>l.filter(h=>!h.nsfw)).map(l=>l.map(h=>h.name.en).join(", ")).map((l,h)=>`${h+1}) ${l}`).join(`
`);a(p)};return e.jsxs("div",{children:[e.jsxs(I.Title,{level:2,children:["Randomized Sample"," ",e.jsx(y,{icon:e.jsx(V,{}),onClick:u,size:"small",children:"MJ"})]}),e.jsxs(b,{gap:12,children:[e.jsx(A.Item,{label:"Quantity"}),e.jsx("div",{children:e.jsx(ge,{max:15,min:3,onChange:p=>o(Number(p)),style:{minWidth:"100px"},value:i})}),e.jsx(y,{onClick:r,type:"primary",children:"Get Sample"}),e.jsx(Ce.Button,{disabled:t.length===0,icon:e.jsx(V,{}),menu:{items:k,onClick:c},onClick:()=>a(JSON.stringify(t,null,2)),children:"Copy"})]}),e.jsx(z,{className:"my-4",wrap:!0,children:t.map(p=>e.jsx(E,{item:p,simplified:!0},p.id))})]})}function Ge(){const{items:s,isLoading:t,isSaving:n}=N(),[a,i]=f.useState(null),{queryParams:o,addParam:r}=O(),k=c=>{const u=Number(o.get("pageSize")??64),p=Number(c),l=Math.floor(p/u)+1;r("page",l.toString())};return e.jsxs(f.Fragment,{children:[e.jsx(I.Title,{level:2,children:"Search for an item"}),e.jsx("div",{children:e.jsx(ye,{isPending:t||n,items:s,onFinish:c=>i([s[c]]),onFinishMultiple:c=>i(ke(c).map(u=>s[u]))})}),a&&(a==null?void 0:a.length)>0&&e.jsxs(b,{gap:8,children:[e.jsxs(I.Paragraph,{className:"mt-1 italic",children:[a==null?void 0:a.length," items found"]}),e.jsx(y,{icon:e.jsx(ce,{}),onClick:()=>i(null),size:"small",type:"text"})]}),e.jsx(b,{className:"my-4",gap:8,wrap:"wrap",children:a==null?void 0:a.map(c=>e.jsxs(z,{className:"my-4",direction:"vertical",children:[e.jsx(E,{item:c}),e.jsx(y,{block:!0,icon:e.jsx(be,{}),onClick:()=>k(c.id),children:"Find in listing"})]},c.id))})]},`item-search-${t}`)}function Ke(){const{isLoading:s,error:t,hasResponseData:n}=N(),{is:a}=O();return e.jsx(ee,{subtitle:"Listing",title:"Items",children:e.jsxs(_,{hasSider:!0,children:[e.jsx(le,{children:e.jsx(He,{})}),e.jsx(_.Content,{className:"content",children:e.jsxs(se,{error:t,hasResponseData:n,isLoading:s,children:[!s&&e.jsxs(e.Fragment,{children:[e.jsxs(z,{align:"start",size:"large",children:[!a("hideSearch")&&e.jsx(Ge,{}),a("showRandomizer")&&e.jsx(Qe,{})]}),e.jsx(P,{})]}),e.jsx(Ue,{})]})})]})})}function Bs(){return e.jsx(ze,{children:e.jsx(Ke,{})})}export{Bs as default};
