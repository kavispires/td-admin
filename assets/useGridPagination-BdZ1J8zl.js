import{r as c,j as S}from"./index--ZN08wDu.js";import{P as v}from"./Pagination-ChnU4fFY.js";import{S as x}from"./index-CILhh8AU.js";import{u as $}from"./useQueryParams-cx1saSCA.js";function E(n){var t=c.useRef();return c.useEffect(function(){t.current=n}),t.current}function y({children:n,pagination:t,...r}){const o=S.jsx(v,{showQuickJumper:!0,...t,className:"fixed-pagination"});return S.jsxs(x,{direction:"vertical",...r,children:[o,n,o]})}function z({prefix:n="",data:t,defaultCurrent:r=1,defaultPageSize:o=64,pageSizeOptions:P=[16,32,64,128],resetter:g}){const{queryParams:u,addParam:p}=$(),s=Number(u.get(`${n}page`)??String(r)),i=Number(u.get(`${n}pageSize`)??String(o)),h=E(g),f=c.useMemo(()=>{const e=(s-1)*i,a=e+i;return t.slice(e,a)},[s,i,t]),m=e=>{p(`${n}page`,e.toString(),String(r))},j=(e,a)=>{p(`${n}pageSize`,a.toString(),String(o))};return g!==h&&m(r),{page:f,pagination:{current:s,pageSize:i,onChange:m,onShowSizeChange:j,defaultCurrent:r,defaultPageSize:o,pageSizeOptions:P,total:t.length,hideOnSinglePage:!0}}}export{y as P,z as u};
