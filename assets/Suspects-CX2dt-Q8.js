import{j as e,r as x,P as _,L as g,T as N,I as S}from"./index-DR-bKtYd.js";import{R}from"./ResponseState-D4cd9G1B.js";import{D as I}from"./DataLoadingWrapper-il0Wn8Us.js";import{I as P}from"./ImageCard-_EnZOZUt.js";import{a as v,b as C}from"./FilterEntries-UhkU006b.js";import{S as b}from"./SiderContent-BhVFP80X.js";import{l as j}from"./lodash-7X0uo9vL.js";import{P as k}from"./useBaseUrl-KlB5gb15.js";import{u as w}from"./useCardWidth-H0FZTANc.js";import{u as y}from"./useQueryParams-CilX3dkh.js";import{u as B}from"./useTDResource-JIAXcSBb.js";import{S as D}from"./index-mV1ddvS1.js";import{T as E}from"./index-Cj5QPFzB.js";import{R as G,a as L}from"./WomanOutlined-x7pQG02x.js";import{R as T,a as O}from"./ColumnWidthOutlined-nN_D7zwC.js";import"./index-CjkS7F4v.js";import"./index-CO0-upqR.js";import"./index-CzhWSFX_.js";import"./index-nRqnMAf0.js";import"./useMeasure-CurqNhs2.js";import"./util-CeAI_f06.js";import"./gapSize-U1swVQyS.js";const $=[{value:"ct",label:"Cartoon"},{value:"ai",label:"AI"},{value:"md",label:"Models"},{value:"wc",label:"Wacky"},{value:"original",label:"Original"}],M=[{value:"id",label:"Id"},{value:"name.pt",label:"Name (PT)"},{value:"name.en",label:"Name (EN)"},{value:"ethnicity",label:"Ethnicity"},{value:"gender",label:"Gender"},{value:"age",label:"Age"},{value:"height",label:"Height"},{value:"build",label:"Build"}];function V({selectedVersion:l,setSelectedVersion:c,cardsPerRow:t,setCardsPerRow:a,sortBy:o,setSortBy:h}){return e.jsxs(b,{children:[e.jsx(v,{label:"Version",value:l,onChange:c,options:$}),e.jsx(C,{label:"Cards Per Row",value:t,onChange:a,min:1,max:8}),e.jsx(v,{label:"Sort By",value:o,onChange:h,options:M})]})}function p(l,c){return j.orderBy(Object.entries(l).map(([t,a])=>({key:t,label:j.capitalize(t),value:a,percentage:Math.round(a/c*100)})),["percentage"],["desc"])}function W({data:l}){const{ages:c,ethnicities:t,genders:a,builds:o,heights:h}=x.useMemo(()=>{const s={},m={},n={},u={},d={};Object.values(l).forEach(r=>{s[r.age]=(s[r.age]??0)+1,m[r.ethnicity]=(m[r.ethnicity]??0)+1,n[r.gender]=(n[r.gender]??0)+1,u[r.build]=(u[r.build]??0)+1,d[r.height]=(d[r.height]??0)+1});const i=Object.keys(l).length;return{ages:p(s,i),ethnicities:p(m,i),genders:p(n,i),builds:p(u,i),heights:p(d,i)}},[l]);return e.jsxs(b,{children:[e.jsx("div",{className:"statistic",children:"Stats"}),e.jsx("div",{className:"statistic__section",children:"Ethnicity"}),e.jsx("ul",{className:"statistic__list",children:t.map(s=>e.jsxs("li",{children:[e.jsx("strong",{children:s.label})," - ",s.percentage,"%"]},s.key))}),e.jsx("div",{className:"statistic__section",children:"Gender"}),e.jsx("ul",{className:"statistic__list",children:a.map(s=>e.jsxs("li",{children:[e.jsx("strong",{children:s.label})," - ",s.percentage,"%"]},s.key))}),e.jsx("div",{className:"statistic__section",children:"Age"}),e.jsx("ul",{className:"statistic__list",children:c.map(s=>e.jsxs("li",{children:[e.jsx("strong",{children:s.label})," - ",s.percentage,"%"]},s.key))}),e.jsx("div",{className:"statistic__section",children:"Build"}),e.jsx("ul",{className:"statistic__list",children:o.map(s=>e.jsxs("li",{children:[e.jsx("strong",{children:s.label})," - ",s.percentage,"%"]},s.key))}),e.jsx("div",{className:"statistic__section",children:"Height"}),e.jsx("ul",{className:"statistic__list",children:h.map(s=>e.jsxs("li",{children:[e.jsx("strong",{children:s.label})," - ",s.percentage,"%"]},s.key))})]})}function de(){const{queryParams:l,addParam:c}=y({version:"ct"}),t=l.get("version")??"ct",a=B("suspects"),[o,h]=x.useState(8),[s,m]=w(o),[n,u]=x.useState("id"),d=x.useMemo(()=>j.orderBy(Object.values(a.data),i=>n==="id"?Number(i.id.split("-").at(-1)):i[n]??i.id,["asc"]).map(i=>{const r=i.id.split("-"),f=t==="original"?i.id:`${r[0]}-${t}-${r[1]}`;return{...i,id:f}}),[a.data,t,n]);return e.jsx(_,{title:"Images",subtitle:"Suspects",children:e.jsxs(g,{hasSider:!0,children:[e.jsxs(k,{children:[e.jsx(R,{hasResponseData:a.hasResponseData,isLoading:a.isLoading,error:a.error}),e.jsx(V,{selectedVersion:t,setSelectedVersion:i=>c("version",i),cardsPerRow:o,setCardsPerRow:h,sortBy:n,setSortBy:u}),e.jsx(W,{data:a.data})]}),e.jsx(g.Content,{className:"content",children:e.jsxs(I,{isLoading:a.isLoading,error:a.error,hasResponseData:a.hasResponseData,children:[e.jsxs(N.Title,{level:2,children:["Deck ",t," (",d.length,")"]}),e.jsx(S.PreviewGroup,{children:e.jsx(D,{ref:m,wrap:!0,className:"my-2",children:d.map(i=>e.jsxs("div",{className:"suspect",style:{width:`${s}px`},children:[e.jsx(P,{id:i.id,width:s,className:"suspect__image"}),e.jsxs("div",{className:"suspect__name",children:[e.jsx("div",{children:e.jsx(E,{children:i.id})}),e.jsxs("div",{children:["ðŸ‡§ðŸ‡· ",i.name.pt]}),e.jsxs("div",{children:["ðŸ‡ºðŸ‡¸ ",i.name.en]}),e.jsxs("div",{className:"suspect__info",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[i.gender==="male"?e.jsx(G,{}):e.jsx(L,{})," ",i.age]}),e.jsx("div",{children:e.jsx("em",{children:i.ethnicity})})]}),e.jsxs("div",{children:[e.jsx(T,{}),e.jsx("br",{}),i.build]}),e.jsxs("div",{children:[e.jsx(O,{}),e.jsx("br",{}),i.height]})]})]})]},i.id))},t)})]})})]})})}export{de as default};
