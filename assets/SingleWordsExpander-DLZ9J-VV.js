import{r as d,j as e,P as C,L,T}from"./index-BFDRWtHv.js";import{S as x}from"./SectionTitle-COfXys7u.js";import{R as A}from"./ResponseState-BgVRZff0.js";import{P as W}from"./useBaseUrl-ByeKCJr_.js";import{u as P}from"./useQueryParams-BzyCUS2v.js";import{D as _}from"./DataLoadingWrapper-QQAlVTEl.js";import{u as $,R as k}from"./useResourceState-k_0HRCay.js";import{S as G}from"./SearchDuplicates-DVThMAJ9.js";import{s as g,f as H}from"./index-IZYxY2DZ.js";import{R as S,a as J}from"./constants-B6pq8fjY.js";import{I as h}from"./index-CVpJTsmp.js";import"./SiderContent-DC5vRzOx.js";import"./index-BWULmf55.js";import"./index-Djb5JNZe.js";import"./index-PrF_5kCp.js";import"./Item-4aagvKpa.js";import"./Input-BRqpx4DJ.js";const{Text:F}=T;function ie(){P({resourceName:S.SINGLE_WORDS,language:"pt"});const[i,c]=d.useState({}),[l,a]=d.useState({}),[n,f]=d.useState({}),O="text",{language:o,isLoading:R,error:D,hasResponseData:E,response:r}=$([S.SINGLE_WORDS]);d.useEffect(()=>{if(r){const u={},p={},m=Object.values(r).filter(s=>{const t=g(s.text).toLowerCase();return u[t]?(p[s.id]=s.text,!1):(u[t]=!0,!0)}).map((s,t)=>({...s,id:`sw-${t+1}-${o}`})).reduce((s,t)=>(s[t.id]=t,s),{});f(m),a(p),c(m)}},[r,o]);const w=u=>{const{value:p}=u.target,m=p.split(`
`),s=Object.values(n),t=Number(s[s.length-1].id.split("-")[1])||1,b=m.reduce((N,j,I)=>{const v=M(j,r,O);if(j&&!v){const y=`sw-${t+I+1}-${o}`;N[y]={id:y,text:j.toLowerCase()}}return N},{...n});c(b)};return e.jsx(C,{title:"Single Word Expander",subtitle:o?`${o}`:"",children:e.jsxs(L,{hasSider:!0,children:[e.jsxs(W,{children:[e.jsx(A,{hasResponseData:E,isLoading:R,error:D}),e.jsx(k,{resourceNames:[S.SINGLE_WORDS]})]}),e.jsx(L.Content,{className:"content",children:e.jsx(_,{isLoading:R,error:D,hasResponseData:E,children:e.jsxs("div",{className:"parser-container",children:[e.jsxs("div",{className:"parser-main",children:[e.jsx(x,{children:"Input New Data"}),e.jsx(h.TextArea,{name:"input",id:"",cols:15,rows:5,onChange:w}),e.jsxs(x,{children:["Output (",Object.keys(i).length,")"]}),e.jsx(h.TextArea,{name:"output",id:"",cols:15,rows:13,readOnly:!0,value:JSON.stringify(i,null,4)}),e.jsxs(x,{children:["Duplicates (",Object.keys(l).length,")"]}),e.jsx(h.TextArea,{name:"duplicates",id:"",cols:15,rows:3,readOnly:!0,value:JSON.stringify(l,null,4)})]}),e.jsxs("aside",{className:"parser-controls",children:[e.jsx(x,{children:"Database"}),e.jsxs(F,{children:[Object.keys(r??{}).length," entries / ",Object.keys(n??{}).length]}),e.jsx(G,{response:r,property:O})]})]})})})]})})}const M=(i,c,l)=>{const a=g(i.trim().toLowerCase());if(a.length>J){const n=H(a,c,l);return Object.values(n).some(f=>g(f)===a)}return!1};export{ie as default};
