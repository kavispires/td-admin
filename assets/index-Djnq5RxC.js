import{r as a,aW as ee,m as S,w as A,bu as q,E as re,G as ae,H as F,bU as te,J as M,K as ne,c7 as le,bb as oe,aH as se,bn as ce,bI as X,c_ as ie,ce as de,ch as ue,x as be,b1 as pe,_ as W}from"./index-AeBhBC7r.js";function _(){return _=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(e[d]=t[d])}return e},_.apply(this,arguments)}const me=a.forwardRef((e,r)=>{const{prefixCls:t="rc-checkbox",className:d,style:f,checked:u,disabled:b,defaultChecked:w=!1,type:x="checkbox",title:E,onChange:s,...I}=e,C=a.useRef(null),p=a.useRef(null),[l,N]=ee(w,u);a.useImperativeHandle(r,()=>({focus:i=>{C.current?.focus(i)},blur:()=>{C.current?.blur()},input:C.current,nativeElement:p.current}));const $=S(t,d,{[`${t}-checked`]:l,[`${t}-disabled`]:b}),g=i=>{b||("checked"in e||N(i.target.checked),s?.({target:{...e,type:x,checked:i.target.checked},stopPropagation(){i.stopPropagation()},preventDefault(){i.preventDefault()},nativeEvent:i.nativeEvent}))};return a.createElement("span",{className:$,title:E,style:f,ref:p},a.createElement("input",_({},I,{className:`${t}-input`,ref:C,onChange:g,disabled:b,checked:!!l,type:x})),a.createElement("span",{className:`${t}-inner`}))});function fe(e){const r=A.useRef(null),t=()=>{q.cancel(r.current),r.current=null};return[()=>{t(),r.current=q(()=>{r.current=null})},u=>{r.current&&(u.stopPropagation(),t()),e?.(u)}]}const Ce=e=>{const{checkboxCls:r}=e,t=`${r}-wrapper`;return[{[`${r}-group`]:{...M(e),display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}},[t]:{...M(e),display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${t}`]:{marginInlineStart:0},[`&${t}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}},[r]:{...M(e),position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${r}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${r}-inner`]:te(e)},[`${r}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${F(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${F(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}}},{[`
        ${t}:not(${t}-disabled),
        ${r}:not(${r}-disabled)
      `]:{[`&:hover ${r}-inner`]:{borderColor:e.colorPrimary}},[`${t}:not(${t}-disabled)`]:{[`&:hover ${r}-checked:not(${r}-disabled) ${r}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${r}-checked:not(${r}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${r}-checked`]:{[`${r}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${t}-checked:not(${t}-disabled),
        ${r}-checked:not(${r}-disabled)
      `]:{[`&:hover ${r}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[r]:{"&-indeterminate":{"&":{[`${r}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorBorder}`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${r}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorPrimary}`}}}}},{[`${t}-disabled`]:{cursor:"not-allowed"},[`${r}-disabled`]:{[`&, ${r}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${r}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${r}-indeterminate ${r}-inner::after`]:{background:e.colorTextDisabled}}}]};function he(e,r){const t=ae(r,{checkboxCls:`.${e}`,checkboxSize:r.controlInteractiveSize});return Ce(t)}const j=re("Checkbox",(e,{prefixCls:r})=>[he(r,e)]),K=A.createContext(null),ge=(e,r)=>{const{prefixCls:t,className:d,rootClassName:f,children:u,indeterminate:b=!1,style:w,onMouseEnter:x,onMouseLeave:E,skipGroup:s=!1,disabled:I,classNames:C,styles:p,...l}=e,{getPrefixCls:N,direction:$,className:g,style:i,classNames:B,styles:O}=ne("checkbox"),c=a.useContext(K),{isFormItemInput:P}=a.useContext(le),G=a.useContext(oe),v=(c?.disabled||I)??G,L={...e,indeterminate:b,disabled:v},[R,k]=se([B,C],[O,p],{props:L}),V=a.useRef(l.value),z=a.useRef(null),n=ce(r,z);a.useEffect(()=>{c?.registerValue(l.value)},[]),a.useEffect(()=>{if(!s)return l.value!==V.current&&(c?.cancelValue(V.current),c?.registerValue(l.value),V.current=l.value),()=>c?.cancelValue(l.value)},[l.value]),a.useEffect(()=>{z.current?.input&&(z.current.input.indeterminate=b)},[b]);const o=N("checkbox",t),m=X(o),[y,H]=j(o,m),h={...l};c&&!s&&(h.onChange=(...Z)=>{l.onChange&&l.onChange.apply(l,Z),c.toggleOption&&c.toggleOption({label:u,value:l.value})},h.name=c.name,h.checked=c.value.includes(l.value));const T=S(`${o}-wrapper`,{[`${o}-rtl`]:$==="rtl",[`${o}-wrapper-checked`]:h.checked,[`${o}-wrapper-disabled`]:v,[`${o}-wrapper-in-form-item`]:P},g,d,R.root,f,H,m,y),D=S(R.icon,{[`${o}-indeterminate`]:b},ie,y),[Q,Y]=fe(h.onClick);return a.createElement(de,{component:"Checkbox",disabled:v},a.createElement("label",{className:T,style:{...k.root,...i,...w},onMouseEnter:x,onMouseLeave:E,onClick:Q},a.createElement(me,{...h,onClick:Y,prefixCls:o,className:D,style:k.icon,disabled:v,ref:n}),ue(u)&&a.createElement("span",{className:S(`${o}-label`,R.label),style:k.label},u)))},J=a.forwardRef(ge),xe=a.forwardRef((e,r)=>{const{defaultValue:t,children:d,options:f=[],prefixCls:u,className:b,rootClassName:w,style:x,onChange:E,...s}=e,{getPrefixCls:I,direction:C}=a.useContext(be),[p,l]=a.useState(s.value||t||[]),[N,$]=a.useState([]);a.useEffect(()=>{"value"in s&&l(s.value||[])},[s.value]);const g=a.useMemo(()=>f.map(n=>typeof n=="string"||typeof n=="number"?{label:n,value:n}:n),[f]),i=n=>{$(o=>o.filter(m=>m!==n))},B=n=>{$(o=>[].concat(W(o),[n]))},O=n=>{const o=p.indexOf(n.value),m=W(p);o===-1?m.push(n.value):m.splice(o,1),"value"in s||l(m),E?.(m.filter(y=>N.includes(y)).sort((y,H)=>{const h=g.findIndex(D=>D.value===y),T=g.findIndex(D=>D.value===H);return h-T}))},c=I("checkbox",u),P=`${c}-group`,G=X(c),[v,L]=j(c,G),R=pe(s,["value","disabled"]),k=f.length?g.map(n=>a.createElement(J,{prefixCls:c,key:n.value.toString(),disabled:"disabled"in n?n.disabled:s.disabled,value:n.value,checked:p.includes(n.value),onChange:n.onChange,className:S(`${P}-item`,n.className),style:n.style,title:n.title,id:n.id,required:n.required},n.label)):d,V=a.useMemo(()=>({toggleOption:O,value:p,disabled:s.disabled,name:s.name,registerValue:B,cancelValue:i}),[O,p,s.disabled,s.name,B,i]),z=S(P,{[`${P}-rtl`]:C==="rtl"},b,w,L,G,v);return a.createElement("div",{className:z,style:x,...R,ref:r},a.createElement(K.Provider,{value:V},k))}),U=J;U.Group=xe;U.__ANT_CHECKBOX=!0;export{U as C,me as a,he as g,fe as u};
