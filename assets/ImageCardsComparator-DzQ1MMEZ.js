import{r as h,U as R,V as T,W,X as B,j as r,L as C,B as x,I as N,T as k,D as O,P as M}from"./index-CD2lQx4f.js";import{D as A}from"./DataLoadingWrapper-BVfG3l-0.js";import{F as z}from"./FullScreenModal-BzRUCev8.js";import{u as F}from"./useCardWidth-C9wWlxkA.js";import{u as G}from"./useLoadWordLibrary-CdjVsnCI.js";import{u as b}from"./useQueryParams-CF8Hi25q.js";import{l as m,P as J}from"./useBaseUrl-Bgww8MYZ.js";import{I as y}from"./ImageCard-DsTkyOwy.js";import{u as q,a as K}from"./hooks-DHEK2Gq0.js";import{R as g}from"./RelationshipCountTag-CjEeFY85.js";import{u as U}from"./useWindowSize-BgdEtxSI.js";import{F as u}from"./index-DKHdniSb.js";import{T as L}from"./index-BgtKcNNz.js";import{I as S}from"./index-DiFhVfyK.js";import{a as $}from"./FilterEntries-Bs0G3S2r.js";import{R as H}from"./ResponseState-C97xAfcA.js";import{D as Q}from"./DownloadButton-BOgfzdWt.js";import{S as V}from"./SaveButton-BseHkRpP.js";import{S as w}from"./SiderContent-t1h7BugK.js";import"./index-D747eGrK.js";import"./index-npxyzaEn.js";import"./PlusOutlined-C1HVgwg7.js";import"./useMutation-DZuVovRz.js";import"./index-CLQIfBBa.js";import"./constants-DFs3AddX.js";import"./Item-Bz0_XYJY.js";import"./gapSize-U1swVQyS.js";import"./Input-CTphaWZv.js";import"./index-BA8x64Vc.js";import"./index-C_ir9kit.js";import"./index-DNGCIE4G.js";import"./index-CTbYdUvi.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-M2mo2AsX.js";var X=W?window:null,E=function(e){return!!e.addEventListener},I=function(e){return!!e.on},_=function(e,o,s,t){s===void 0&&(s=X),h.useEffect(function(){if(o&&s)return E(s)?R(s,e,o,t):I(s)&&s.on(e,o,t),function(){E(s)?T(s,e,o,t):I(s)&&s.off(e,o,t)}},[e,o,s,JSON.stringify(t)])},Y=function(e){return typeof e=="function"?e:typeof e=="string"?function(o){return o.key===e}:e?function(){return!0}:function(){return!1}},P=function(e,o,s,t){o===void 0&&(o=B),s===void 0&&(s={}),t===void 0&&(t=[e]);var d=s.event,c=d===void 0?"keydown":d,l=s.target,a=s.options,i=h.useMemo(function(){var n=Y(e),j=function(p){if(n(p))return o(p)};return j},t);_(c,i,l,a)};function Z({query:e}){const{width:o}=U(),[s]=F(1,{minWidth:o/3}),{data:t,setDirty:d}=e,{cardAId:c,cardA:l,cardBId:a,cardB:i,relate:n,unrelate:j}=q(t,d),{addParam:p,is:D}=b(),v=D("open");return P("1",()=>{v&&j()}),P("2",()=>{v&&n()}),r.jsxs(C.Content,{className:"dev-content py-4",children:[r.jsx(x,{block:!0,onClick:()=>p("open","true"),children:"Open Modal"}),r.jsx(rr,{}),r.jsx(z,{actions:[r.jsx(x,{block:!0,onClick:j,size:"large",children:"Unrelated"},"1"),r.jsx(x,{block:!0,onClick:n,size:"large",type:"primary",children:"Related"},"2")],onClose:()=>p("open","false"),open:v,title:`Card A: ${c} vs Card B: ${a}`,children:r.jsx(N.PreviewGroup,{children:r.jsxs(u,{className:"center",justify:"center",wrap:"wrap",children:[r.jsxs(u,{vertical:!0,children:[r.jsx(y,{id:c,width:s}),r.jsxs(u,{children:[r.jsx(g,{card:l}),r.jsx(L,{children:c})]})]}),r.jsxs(u,{vertical:!0,children:[r.jsx(y,{id:a,width:s}),r.jsxs(u,{children:[r.jsx(g,{card:i}),r.jsx(L,{children:a})]})]})]})})})]})}const f={};function rr(){const{data:e,isLoading:o}=G(3,"pt",!0),[s,t]=h.useState(""),[d,c]=h.useState([]),l=()=>{!m.isEmpty(e)&&m.isEmpty(f)&&e.forEach(i=>{i.split("").forEach(n=>{f[n.toLowerCase()]?f[n.toLowerCase()].push(i):f[n.toLowerCase()]=[i]})});const a=s.split("").map(i=>m.sample(f[i.toLowerCase()])).filter(Boolean);c(a)};return r.jsxs(r.Fragment,{children:[r.jsx(k.Title,{className:"center",level:3,children:"Passcode Words"}),r.jsxs(u,{children:[r.jsx(S,{onChange:a=>t(a.target.value)}),r.jsx(x,{disabled:o||s.length===0,onClick:l,children:"Get"})]}),r.jsx(S.TextArea,{className:"mt-4",value:JSON.stringify(d)})]})}function er({query:e}){const{data:o,isDirty:s,isSaving:t,save:d,isLoading:c,isError:l}=e,{queryParams:a,addParam:i}=b();return r.jsxs(J,{children:[r.jsx(w,{children:r.jsxs(u,{gap:6,vertical:!0,children:[r.jsx(V,{dirt:JSON.stringify(o),isDirty:s,isSaving:t,onSave:()=>d({})}),r.jsx(Q,{block:!0,data:o,disabled:m.isEmpty(o),fileName:"imageCardsRelationships.json",loading:t})]})}),r.jsx(H,{hasResponseData:!m.isEmpty(o),isDirty:s,isError:l,isLoading:c||t}),r.jsxs(w,{children:[r.jsx(x,{block:!0,onClick:()=>i("open","true"),children:"Open Modal"}),r.jsx(O,{}),r.jsx($,{label:"Cycle Threshold",onChange:n=>i("cycle",n),options:[1,3,5,10],value:a.get("cycle")||3})]})]})}function Or(){const e=K();return r.jsx(M,{subtitle:"Comparator",title:"Image Cards",children:r.jsx(A,{error:e.error,hasResponseData:!m.isEmpty(e.data),isLoading:e.isLoading,children:r.jsxs(C,{hasSider:!0,children:[r.jsx(er,{query:e}),r.jsx(C.Content,{className:"content",children:r.jsx(Z,{query:e})})]})})})}export{Or as default};
