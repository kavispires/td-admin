import{r as f,o as at,p as it,R as l,c as z,K as T,d as w,q,g as jt,m as It,s as Et,e as st,C as J,t as lt,v as ct,w as Bt,x as dt,y as ut,z as Rt,f as Pt,A as Tt,E as zt,F as _t,a as K,G as Nt,J as Ft,j as s,I as Mt,n as Lt,P as qt,L as et}from"./index-YrxXJCRo.js";import{u as mt,R as Dt,I as Gt}from"./RelationshipsStats-ByM1zcIE.js";import{T as Ht}from"./TransparentButton-CYKBK_6k.js";import{I as Vt}from"./IdTag-BtBwIWeq.js";import{D as kt}from"./DataLoadingWrapper-PpUqHkgV.js";import{l as W}from"./lodash-DHSXaBCI.js";import{I as At}from"./ImageCard-BsKNYw2B.js";import{R as Wt}from"./RelationshipCountTag-CIZ77Ywi.js";import{C as Xt}from"./index-CkJ5FHLh.js";import{V as Ut}from"./VerticalAlignTopOutlined-v_ZPtoJ9.js";import{g as Zt,s as Jt}from"./scrollTo-BOLcqtwO.js";import{t as Kt}from"./throttleByAnimationFrame-CW_StkON.js";import{B as Qt,D as Yt}from"./DownloadButton-COz1tbcl.js";import{F as te}from"./FileTextOutlined-B-I9JRsA.js";import{R as ee}from"./Item-DhRhcEKB.js";import{R as oe}from"./SyncOutlined-BBKv7rx5.js";import{c as ot,a as k}from"./FilterEntries-SHPIZRcQ.js";import{R as ne}from"./ResponseState-B0LGAzva.js";import{S as re}from"./SaveButton-8cgWxSCL.js";import{P as ae}from"./useBaseUrl-C6NB5AVO.js";import{S as A}from"./SiderContent-Cw0bn2HP.js";import{T as ie,c as se,C as le}from"./constants-OlFzuvYk.js";import{F as ce}from"./index-CGTHWfcT.js";import"./hooks-4kr1YC6y.js";import"./index-Ie4GiVIN.js";import"./useMutation-csmyFkac.js";import"./useQueryParams-Bdhq2aAO.js";import"./index-CXekz8d8.js";import"./useCopyToClipboardFunction-DLn4amDY.js";import"./index-X64WGjtd.js";import"./index-DaDAmdSV.js";import"./PlusOutlined-ByZyTB3m.js";import"./index-BlsZn4o0.js";import"./index-BHZnLOj_.js";import"./index-C3pi46bp.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-CCBaQX56.js";import"./gapSize-U1swVQyS.js";var de=function(n,o){return f.createElement(at,it({},n,{ref:o,icon:Ut}))},ue=f.forwardRef(de);const Q=l.createContext(void 0),{Provider:me}=Q;var pe=function(n,o){return f.createElement(at,it({},n,{ref:o,icon:te}))},pt=f.forwardRef(pe);const fe=t=>{const{icon:n,description:o,prefixCls:e,className:r}=t,a=l.createElement("div",{className:`${e}-icon`},l.createElement(pt,null));return l.createElement("div",{onClick:t.onClick,onFocus:t.onFocus,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,className:z(r,`${e}-content`)},n||o?l.createElement(l.Fragment,null,n&&l.createElement("div",{className:`${e}-icon`},n),o&&l.createElement("div",{className:`${e}-description`},o)):a)},ge=f.memo(fe),nt=t=>t===0?0:t-Math.sqrt(Math.pow(t,2)/2),he=t=>{const{componentCls:n,floatButtonSize:o,motionDurationSlow:e,motionEaseInOutCirc:r,calc:a}=t,p=new T("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${w(o)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),g=new T("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${w(o)}, 0)`,transformOrigin:"0 0",opacity:0}}),u=new T("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${a(o).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),m=new T("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${a(o).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),c=new T("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${a(o).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),i=new T("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${a(o).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0}}),C=new T("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${w(o)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),$=new T("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${w(o)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),d=`${n}-group`;return[{[d]:{[`&${d}-top ${d}-wrap`]:q(`${d}-wrap`,p,g,e,!0),[`&${d}-bottom ${d}-wrap`]:q(`${d}-wrap`,c,i,e,!0),[`&${d}-left ${d}-wrap`]:q(`${d}-wrap`,C,$,e,!0),[`&${d}-right ${d}-wrap`]:q(`${d}-wrap`,u,m,e,!0)}},{[`${d}-wrap`]:{[`&${d}-wrap-enter, &${d}-wrap-appear`]:{opacity:0,animationTimingFunction:r},[`&${d}-wrap-leave`]:{opacity:1,animationTimingFunction:r}}}]},be=t=>{const{antCls:n,componentCls:o,floatButtonSize:e,margin:r,borderRadiusLG:a,borderRadiusSM:p,badgeOffset:g,floatButtonBodyPadding:u,zIndexPopupBase:m,calc:c}=t,i=`${o}-group`;return{[i]:Object.assign(Object.assign({},st(t)),{zIndex:m,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:e,minHeight:e,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,borderRadius:a,[`${i}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${i}-rtl`]:{direction:"rtl"},[o]:{position:"static"}}),[`${i}-top > ${i}-wrap`]:{flexDirection:"column",top:"auto",bottom:c(e).add(r).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:r,bottom:c(r).mul(-1).equal()}},[`${i}-bottom > ${i}-wrap`]:{flexDirection:"column",top:c(e).add(r).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:r,top:c(r).mul(-1).equal()}},[`${i}-right > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:c(e).add(r).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:r,height:"100%",left:{_skip_check_:!0,value:c(r).mul(-1).equal()}}},[`${i}-left > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:c(e).add(r).equal()},"&::after":{content:'""',position:"absolute",width:r,height:"100%",right:{_skip_check_:!0,value:c(r).mul(-1).equal()}}},[`${i}-circle`]:{gap:r,[`${i}-wrap`]:{gap:r}},[`${i}-square`]:{[`${o}-square`]:{padding:0,borderRadius:0,[`&${i}-trigger`]:{borderRadius:a},"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${n}-badge`]:{[`${n}-badge-count`]:{top:c(c(u).add(g)).mul(-1).equal(),insetInlineEnd:c(c(u).add(g)).mul(-1).equal()}}},[`${i}-wrap`]:{borderRadius:a,boxShadow:t.boxShadowSecondary,[`${o}-square`]:{boxShadow:"none",borderRadius:0,padding:u,[`${o}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:p}}}},[`${i}-top > ${i}-wrap, ${i}-bottom > ${i}-wrap`]:{[`> ${o}-square`]:{"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-left > ${i}-wrap, ${i}-right > ${i}-wrap`]:{[`> ${o}-square`]:{"&:first-child":{borderStartStartRadius:a,borderEndStartRadius:a},"&:last-child":{borderStartEndRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderInlineEnd:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-circle-shadow`]:{boxShadow:"none"},[`${i}-square-shadow`]:{boxShadow:t.boxShadowSecondary,[`${o}-square`]:{boxShadow:"none",padding:u,[`${o}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:p}}}}},ve=t=>{const{antCls:n,componentCls:o,floatButtonBodyPadding:e,floatButtonIconSize:r,floatButtonSize:a,borderRadiusLG:p,badgeOffset:g,dotOffsetInSquare:u,dotOffsetInCircle:m,zIndexPopupBase:c,calc:i}=t;return{[o]:Object.assign(Object.assign({},st(t)),{border:"none",position:"fixed",cursor:"pointer",zIndex:c,display:"block",width:a,height:a,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,boxShadow:t.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${n}-badge`]:{width:"100%",height:"100%",[`${n}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:i(g).mul(-1).equal(),insetInlineEnd:i(g).mul(-1).equal()}},[`${o}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${t.motionDurationMid}`,[`${o}-content`]:{overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${w(i(e).div(2).equal())} ${w(e)}`,[`${o}-icon`]:{textAlign:"center",margin:"auto",width:r,fontSize:r,lineHeight:1}}}}),[`${o}-rtl`]:{direction:"rtl"},[`${o}-circle`]:{height:a,borderRadius:"50%",[`${n}-badge`]:{[`${n}-badge-dot`]:{top:m,insetInlineEnd:m}},[`${o}-body`]:{borderRadius:"50%"}},[`${o}-square`]:{height:"auto",minHeight:a,borderRadius:p,[`${n}-badge`]:{[`${n}-badge-dot`]:{top:u,insetInlineEnd:u}},[`${o}-body`]:{height:"auto",borderRadius:p}},[`${o}-default`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,[`${o}-body`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorFillContent},[`${o}-content`]:{[`${o}-icon`]:{color:t.colorText},[`${o}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorText,fontSize:t.fontSizeSM}}}},[`${o}-primary`]:{backgroundColor:t.colorPrimary,[`${o}-body`]:{backgroundColor:t.colorPrimary,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorPrimaryHover},[`${o}-content`]:{[`${o}-icon`]:{color:t.colorTextLightSolid},[`${o}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorTextLightSolid,fontSize:t.fontSizeSM}}}}}},xe=t=>({dotOffsetInCircle:nt(t.controlHeightLG/2),dotOffsetInSquare:nt(t.borderRadiusLG)}),ft=jt("FloatButton",t=>{const{colorTextLightSolid:n,colorBgElevated:o,controlHeightLG:e,marginXXL:r,marginLG:a,fontSize:p,fontSizeIcon:g,controlItemBgHover:u,paddingXXS:m,calc:c}=t,i=It(t,{floatButtonBackgroundColor:o,floatButtonColor:n,floatButtonHoverBackgroundColor:u,floatButtonFontSize:p,floatButtonIconSize:c(g).mul(1.5).equal(),floatButtonSize:e,floatButtonInsetBlockEnd:r,floatButtonInsetInlineEnd:a,floatButtonBodySize:c(e).sub(c(m).mul(2)).equal(),floatButtonBodyPadding:m,badgeOffset:c(m).mul(1.5).equal()});return[be(i),ve(i),Et(t),he(i)]},xe);var ye=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(o[e[r]]=t[e[r]]);return o};const D="float-btn",$e=l.forwardRef((t,n)=>{const{prefixCls:o,className:e,rootClassName:r,style:a,type:p="default",shape:g="circle",icon:u,description:m,tooltip:c,htmlType:i="button",badge:C={}}=t,$=ye(t,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:d,direction:h}=f.useContext(J),j=f.useContext(Q),v=d(D,o),B=lt(v),[_,N,b]=ft(v,B),I=j||g,R=z(N,b,B,v,e,r,`${v}-${p}`,`${v}-${I}`,{[`${v}-rtl`]:h==="rtl"}),[x]=ct("FloatButton",a==null?void 0:a.zIndex),y=Object.assign(Object.assign({},a),{zIndex:x}),S=Bt(C,["title","children","status","text"]),F=f.useMemo(()=>({prefixCls:v,description:m,icon:u,type:p}),[v,m,u,p]);let P=l.createElement("div",{className:`${v}-body`},l.createElement(ge,Object.assign({},F)));return"badge"in t&&(P=l.createElement(Qt,Object.assign({},S),P)),"tooltip"in t&&(P=l.createElement(dt,{title:c,placement:h==="rtl"?"right":"left"},P)),_(t.href?l.createElement("a",Object.assign({ref:n},$,{className:R,style:y}),P):l.createElement("button",Object.assign({ref:n},$,{className:R,style:y,type:i}),P))}),O=$e;var Ce=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(o[e[r]]=t[e[r]]);return o};const gt=l.forwardRef((t,n)=>{const{prefixCls:o,className:e,type:r="default",shape:a="circle",visibilityHeight:p=400,icon:g=l.createElement(ue,null),target:u,onClick:m,duration:c=450}=t,i=Ce(t,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[C,$]=f.useState(p===0),d=l.useRef(null);l.useImperativeHandle(n,()=>({nativeElement:d.current}));const h=()=>{var x;return((x=d.current)===null||x===void 0?void 0:x.ownerDocument)||window},j=Kt(x=>{const y=Zt(x.target);$(y>=p)});f.useEffect(()=>{const y=(u||h)();return j({target:y}),y==null||y.addEventListener("scroll",j),()=>{j.cancel(),y==null||y.removeEventListener("scroll",j)}},[u]);const v=x=>{Jt(0,{getContainer:u||h,duration:c}),m==null||m(x)},{getPrefixCls:B}=f.useContext(J),_=B(D,o),N=B(),I=f.useContext(Q)||a,R=Object.assign({prefixCls:_,icon:g,type:r,shape:I},i);return l.createElement(ut,{visible:C,motionName:`${N}-fade`},(x,y)=>{let{className:S}=x;return l.createElement(O,Object.assign({ref:Rt(d,y)},R,{onClick:v,className:z(e,S)}))})});var Se=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(o[e[r]]=t[e[r]]);return o};const ht=t=>{var n;const{prefixCls:o,className:e,style:r,shape:a="circle",type:p="default",placement:g="top",icon:u=l.createElement(pt,null),closeIcon:m,description:c,trigger:i,children:C,onOpenChange:$,open:d,onClick:h}=t,j=Se(t,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:v,getPrefixCls:B,closeIcon:_}=Pt("floatButtonGroup"),N=(n=m??_)!==null&&n!==void 0?n:l.createElement(_t,null),b=B(D,o),I=lt(b),[R,x,y]=ft(b,I),S=`${b}-group`,F=i&&["click","hover"].includes(i),P=g&&["top","left","right","bottom"].includes(g),vt=z(S,x,y,I,e,{[`${S}-rtl`]:v==="rtl",[`${S}-${a}`]:a,[`${S}-${a}-shadow`]:!F,[`${S}-${g}`]:F&&P}),[xt]=ct("FloatButton",r==null?void 0:r.zIndex),yt=Object.assign(Object.assign({},r),{zIndex:xt}),$t=z(x,`${S}-wrap`),[M,Ct]=Tt(!1,{value:d}),Y=l.useRef(null),tt=i==="hover",G=i==="click",L=zt(E=>{M!==E&&(Ct(E),$==null||$(E))}),St=()=>{tt&&L(!0)},Ot=()=>{tt&&L(!1)},wt=E=>{G&&L(!M),h==null||h(E)};return l.useEffect(()=>{if(G){const E=H=>{var V;!((V=Y.current)===null||V===void 0)&&V.contains(H.target)||L(!1)};return document.addEventListener("click",E,{capture:!0}),()=>document.removeEventListener("click",E,{capture:!0})}},[G]),R(l.createElement(me,{value:a},l.createElement("div",{ref:Y,className:vt,style:yt,onMouseEnter:St,onMouseLeave:Ot},F?l.createElement(l.Fragment,null,l.createElement(ut,{visible:M,motionName:`${S}-wrap`},E=>{let{className:H}=E;return l.createElement("div",{className:z(H,$t)},C)}),l.createElement(O,Object.assign({type:p,icon:M?N:u,description:c,"aria-label":t["aria-label"],className:`${S}-trigger`,onClick:wt},j))):C)))};var bt=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(o[e[r]]=t[e[r]]);return o};const rt=t=>{var{backTop:n}=t,o=bt(t,["backTop"]);return n?f.createElement(gt,Object.assign({},o,{visibilityHeight:0})):f.createElement(O,Object.assign({},o))},Oe=t=>{var{className:n,items:o}=t,e=bt(t,["className","items"]);const{prefixCls:r}=e,{getPrefixCls:a}=f.useContext(J),g=`${a(D,r)}-pure`;return o?f.createElement(ht,Object.assign({className:z(n,g)},e),o.map((u,m)=>f.createElement(rt,Object.assign({key:m},u)))):f.createElement(rt,Object.assign({className:z(n,g)},e))};O.BackTop=gt;O.Group=ht;O._InternalPanelDoNotUseOrYouWillBeFired=Oe;var we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 100c-61.8 0-112 50.2-112 112 0 47.7 29.9 88.5 72 104.6v27.6L512 601.4 312 344.2v-27.6c42.1-16.1 72-56.9 72-104.6 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 50.6 33.8 93.5 80 107.3v34.4c0 9.7 3.3 19.3 9.3 27L476 672.3v33.6c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-33.6l226.7-291.6c6-7.7 9.3-17.3 9.3-27v-34.4c46.2-13.8 80-56.7 80-107.3 0-61.8-50.2-112-112-112zM224 212a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm336 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm192-552a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"fork",theme:"outlined"};function X(){return X=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},X.apply(this,arguments)}const Ie=(t,n)=>f.createElement(K,X({},t,{ref:n,icon:we})),Ee=f.forwardRef(Ie);function U(){return U=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},U.apply(this,arguments)}const Be=(t,n)=>f.createElement(K,U({},t,{ref:n,icon:je})),Re=f.forwardRef(Be);function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},Z.apply(this,arguments)}const Pe=(t,n)=>f.createElement(K,Z({},t,{ref:n,icon:Nt})),Te=f.forwardRef(Pe);function ze(){const{query:{isDirty:t,isSaving:n,save:o,stats:e,...r},randomGroups:{cardIds:a,cards:p,onSelect:g,selection:u,relate:m,nextSet:c,deselectAll:i,cycles:C},showIds:$,cardSize:d}=mt(),h=f.useRef(null),[j,{width:v}]=Ft(),[B,_]=f.useMemo(()=>{const b=Math.floor(v/d)+1,I=Math.floor(v/b);return[b,I]},[d,v]),N=()=>{var b;c(),(b=h.current)==null||b.scrollIntoView({behavior:"smooth"})};return s.jsx(kt,{isLoading:r.isLoading,error:r.error,hasResponseData:!W.isEmpty(r.data),children:s.jsx("div",{ref:j,className:"my-6",children:s.jsxs(Xt,{title:"Card Relationship Matching",extra:s.jsxs(dt,{title:"Total cycles",children:[s.jsx(Lt,{})," ",C]}),className:"image-card-categorizer-card",ref:h,children:[s.jsx(Mt.PreviewGroup,{children:s.jsx("div",{className:"image-cards-group",style:{gridTemplateColumns:`repeat(${Math.max(B,1)}, 1fr)`},children:a.map((b,I)=>{const R=u.includes(b),x=p[I];return s.jsx("div",{className:"image-card-card__image",children:s.jsxs(Ht,{onClick:()=>g(b),active:R,className:"image-cards-group__button",activeClass:"image-cards-group__button--active",children:[s.jsx(At,{id:b,width:_-24,preview:!1}),s.jsxs("div",{children:[$&&s.jsx(Vt,{children:b}),s.jsx(Wt,{card:x})]})]})},b)})})}),s.jsx(_e,{isSaving:n,isDirty:t,selection:u,relate:m,deselectAll:i,onNextSet:N})]})})})}const _e=({isSaving:t,isDirty:n,selection:o,relate:e,deselectAll:r,onNextSet:a})=>{if(t)return s.jsx(s.Fragment,{children:s.jsx(O,{icon:s.jsx(Te,{})})});const p=()=>{o.length<2||e()};return s.jsxs(s.Fragment,{children:[n&&s.jsx(O,{icon:s.jsx(ee,{}),type:"primary",style:{right:234}}),s.jsx(O,{icon:s.jsx(Ee,{}),style:{right:164},onClick:r}),s.jsx(O,{icon:s.jsx(Re,{}),style:{right:94},type:o.length<2?"default":"primary",badge:{count:o.length,size:"small"},onClick:p}),s.jsx(O,{icon:s.jsx(oe,{}),style:{right:24},onClick:a})]})};function Ne(){const{query:{isDirty:t,isSaving:n,save:o,data:e,isLoading:r,isError:a},randomGroups:{filters:p},showIds:g,setShowIds:u,tagThreshold:m,setTagThreshold:c,sampleSize:i,setSampleSize:C,cardSize:$,setCardSize:d}=mt();return s.jsxs(ae,{children:[s.jsx(A,{children:s.jsxs(ce,{vertical:!0,gap:6,children:[s.jsx(re,{isDirty:t,dirt:JSON.stringify(e),onSave:()=>o({}),isSaving:n}),s.jsx(Yt,{data:e,fileName:"imageCardsRelationships.json",loading:n,disabled:W.isEmpty(e),block:!0})]})}),s.jsx(ne,{isLoading:r||n,isDirty:t,isError:a,hasResponseData:!W.isEmpty(e)}),s.jsxs(A,{children:[s.jsx(ot,{label:"Use Cycles",value:p.useCycles,onChange:()=>p.toggleUseCycles()}),s.jsx(ot,{label:"Show Ids",value:g,onChange:h=>u(h)}),s.jsx(k,{onChange:h=>c(h),value:m,options:ie,label:"Tag Count"}),s.jsx(k,{onChange:h=>C(h),value:i,options:se,label:"Sample Size"}),s.jsx(k,{onChange:h=>d(h),value:$,options:le,label:"Card Size"})]}),s.jsx(A,{children:s.jsx(Dt,{})})]})}function $o(){return s.jsx(qt,{title:"Image Cards",subtitle:"Relationships",children:s.jsx(Gt,{children:s.jsxs(et,{hasSider:!0,children:[s.jsx(Ne,{}),s.jsx(et.Content,{className:"content",children:s.jsx(ze,{})})]})})})}export{$o as default};
