import{l as u}from"./lodash-CXYs1tTD.js";import{bw as p}from"./index-7p9S7-5Q.js";import{a as w}from"./constants-BlDp4p7m.js";var f,m;function b(){if(m)return f;m=1,f={compareTwoStrings:e,findBestMatch:r};function e(t,s){if(t=t.replace(/\s+/g,""),s=s.replace(/\s+/g,""),t===s)return 1;if(t.length<2||s.length<2)return 0;let i=new Map;for(let o=0;o<t.length-1;o++){const a=t.substring(o,o+2),l=i.has(a)?i.get(a)+1:1;i.set(a,l)}let c=0;for(let o=0;o<s.length-1;o++){const a=s.substring(o,o+2),l=i.has(a)?i.get(a):0;l>0&&(i.set(a,l-1),c++)}return 2*c/(t.length+s.length-2)}function r(t,s){if(!n(t,s))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const i=[];let c=0;for(let a=0;a<s.length;a++){const l=s[a],d=e(t,l);i.push({target:l,rating:d}),d>i[c].rating&&(c=a)}const o=i[c];return{ratings:i,bestMatch:o,bestMatchIndex:c}}function n(t,s){return!(typeof t!="string"||!Array.isArray(s)||!s.length||s.find(function(i){return typeof i!="string"}))}return f}var S=b();const O=p(S);function E(e,r=5){let n=crypto.randomUUID().substring(0,r),t=0;for(;e.includes(n)&&t<500;)n=crypto.randomUUID().substring(0,r),t++;return t>500&&console.error("Unable to generate unique id"),n}function g(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const U=(e,r="text")=>{const n={},t={};return Object.values(e).forEach(s=>{s[r]||console.error(`Property ${r} does not exist in ${s}`);const i=g(s[r].toLowerCase());n[i]?(t[i]===void 0&&(t[i]=[n[i].id]),t[i].push(s.id)):n[i]=s}),t},R=(e,r,n="text")=>{const t={},s=g(e.trim().toLowerCase());return!s||s.length<w?{}:(Object.values(r).forEach(i=>{const c=typeof i[n]=="string"?i[n]:JSON.stringify(i[n]),o=g(c.toLowerCase());(o.includes(s)||O.compareTwoStrings(e,o)>.5)&&(t[i.id]=c)}),t)},x=(e=1,r=0)=>new Array(e).fill(0).map((n,t)=>n+t+r),F=e=>Array.from(new Set(e));function L(e,r){const n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=document.createElement("a");t.href=window.URL.createObjectURL(n),t.download=r,t.click(),window.URL.revokeObjectURL(t.href)}const M=(e,r=[])=>{const n=["id","name","title","type"];function t(s){if(u.isObject(s)&&!Array.isArray(s)){const i=Object.keys(s).filter(o=>!(n.includes(o)||r.includes(o))),c=[...n,...r,...i.sort()];return u.chain(s).toPairs().sortBy(([o,a])=>c.indexOf(o)).map(([o,a])=>[o,t(a)]).fromPairs().value()}return s}return t(e)},h=e=>!u.isObject(e)||u.isNull(e)?e:Array.isArray(e)?e.map(r=>h(r)).filter(r=>!u.isUndefined(r)):u.transform(e,(r,n,t)=>{u.isObject(n)&&(n=h(n)),u.isUndefined(n)||u.set(r,t,n)},{}),v=(e,r)=>Object.keys(e).reduce((n,t)=>(n[t]=r?r(JSON.parse(e[t])):JSON.parse(e[t]),n),{}),I=(e,r)=>Object.keys(e).reduce((n,t)=>(n[t]=JSON.stringify(r?r(e[t]):e[t]),n),{}),N=()=>{const e=new Date,r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");return`${r}/${n}/${t} ${s}:${i}`},T=e=>u.orderBy(e,r=>Number(r)),B=async(e=1e3)=>{await new Promise(r=>setTimeout(r,e))};export{M as a,E as b,U as c,h as d,v as e,R as f,I as g,T as h,O as i,L as j,N as k,x as m,F as r,g as s,B as w};
