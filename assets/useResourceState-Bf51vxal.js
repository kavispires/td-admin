import{r as x,j as s,B as j}from"./index-B3JH01iB.js";import{S as y}from"./SiderContent-y1ziTlGK.js";import{u as p}from"./useQueryParams-BHv40m-x.js";import{L as N,D as g}from"./constants-CzmVoJc0.js";import{F as o}from"./index-Dt5YmjhO.js";import{S as c}from"./index-Ulf3nzcb.js";import{u as f,a as R}from"./useBaseUrl-CZWZgKRs.js";function B({resourceNames:i}){const{queryParams:a,addParam:t}=p(),[r]=o.useForm(),[n,u]=x.useState(a.get("resourceName")??""),l=e=>{const m=g.includes(e.resourceName);t("language",m?null:e.language),t("resourceName",e.resourceName)};return s.jsx(y,{children:s.jsxs(o,{form:r,initialValues:{resourceName:a.get("resourceName")??"",language:a.get("language")??""},layout:"vertical",onFinish:l,size:"small",children:[s.jsx(o.Item,{label:"Resource",name:"resourceName",children:s.jsx(c,{onChange:e=>u(e),style:{minWidth:"150px"},value:a.get("resourceName"),children:i.map(e=>s.jsx(c.Option,{value:e,children:e},e))})}),s.jsx(o.Item,{label:"Language",name:"language",children:s.jsx(c,{disabled:g.includes(n),style:{minWidth:"150px"},children:N.map(e=>s.jsx(c.Option,{value:e,children:e},e))})}),s.jsx(o.Item,{children:s.jsx(j,{htmlType:"submit",type:"primary",children:"Load"})})]})})}function C(i){const{queryParams:a}=p(),{getUrl:t}=f("resources"),r=a.get("resourceName")??"",n=a.get("language"),u=!!r&&i.includes(r),{data:l,isLoading:e,error:m}=R({queryKey:["resource",r,n],queryFn:async()=>{const h=n&&!g.includes(r)?t(`${r}-${n}.json`):t(`${r}.json`),d=await fetch(h);return d.body?await d.json():{}},enabled:u});return{resourceName:r,language:n||null,response:l,isLoading:e,enabled:u,error:m,hasResponseData:!!l}}export{B as R,C as u};
