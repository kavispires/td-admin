import{r as n,z as G,x as T,aH as U,m as y,b1 as P,bw as j}from"./index-Kr2nSB3H.js";import{S as a}from"./index-7wT3J3ib.js";const{Option:N}=a;function E(e){return e?.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const F=(e,M)=>{const{prefixCls:R,className:c,style:d,popupClassName:m,dropdownClassName:f,children:C,dataSource:i,rootClassName:O,dropdownStyle:g,dropdownRender:_,popupRender:b,onDropdownVisibleChange:v,onOpenChange:A,styles:V,classNames:z}=e,s=G(C),h=b||_,S=A||v;let l;s.length===1&&n.isValidElement(s[0])&&!E(s[0])&&([l]=s);const D=l?()=>l:void 0;let u;s.length&&E(s[0])?u=C:u=i?i.map(p=>{if(n.isValidElement(p))return p;switch(typeof p){case"string":return n.createElement(N,{key:p,value:p},p);case"object":{const{value:x}=p;return n.createElement(N,{key:x,value:x},p.text)}default:return}}):[];const{getPrefixCls:W}=n.useContext(T),r=W("select",R),$={...e,dataSource:i,status:e.status,popupMatchSelectWidth:e.popupMatchSelectWidth||e.dropdownMatchSelectWidth,popupRender:h,onOpenChange:S},[t,o]=U([z],[V],{props:$},{popup:{_default:"root"}}),B=n.useMemo(()=>({root:y(`${r}-auto-complete`,c,O,t.root,{[`${r}-customize`]:l}),prefix:t.prefix,input:t.input,placeholder:t.placeholder,content:t.content,popup:{root:y(m,f,t.popup?.root),list:t.popup?.list,listItem:t.popup?.listItem}}),[r,c,O,t,m,f]),k=n.useMemo(()=>({root:{...o.root,...d},input:o.input,prefix:o.prefix,placeholder:o.placeholder,content:o.content,popup:{root:{...g,...o.popup?.root},list:o.popup?.list,listItem:o.popup?.listItem}}),[o,d,g]);return n.createElement(a,{ref:M,suffixIcon:null,...P(e,["dataSource","dropdownClassName","popupClassName"]),prefixCls:r,classNames:B,styles:k,mode:a.SECRET_COMBOBOX_MODE_DO_NOT_USE,popupRender:h,onPopupVisibleChange:S,getInputElement:D},u)},w=n.forwardRef(F),{Option:H}=a,X=j(w,"popupAlign",e=>P(e,["visible"])),I=w;I.Option=H;I._InternalPanelDoNotUseOrYouWillBeFired=X;export{I as A};
