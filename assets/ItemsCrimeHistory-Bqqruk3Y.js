import{r as S,j as e,B as v,aj as y,P as F,L as C}from"./index-B-0Zi9dv.js";import{D as T}from"./DataLoadingWrapper-CknT-EYG.js";import{C as L}from"./CopyToClipboardButton-C0DpE0sZ.js";import{I as m}from"./Item-BrOHfA5m.js";import{u as k}from"./useCopyToClipboardFunction-CtYHI-T0.js";import{u as I}from"./useTDResource-DQ2O15Oh.js";import{l as u,P as E}from"./useBaseUrl-C1hK2Zof.js";import{a as x,b as r}from"./ItemBuildingBlocks-DZT6i660.js";import{S as M}from"./index-VZg0lInF.js";import{F as O}from"./Table-CWuFiCEn.js";import{F as p}from"./index-BCV-x-Pg.js";import{I as P}from"./index-CDZWjACv.js";import"./LanguageFlag-BU6206pz.js";import"./FireFilled-Y6Du-eCP.js";import"./IdcardOutlined-Cv28vcou.js";import"./gapSize-U1swVQyS.js";import"./index-CU3voUOl.js";import"./index-cWv_beRK.js";import"./index-357w2Ebe.js";import"./index-Do6yvp-e.js";import"./scrollTo-DDzNabTo.js";import"./Pagination-hwClhzsN.js";import"./extendsObject-keMuGWqj.js";import"./Input-Bmf2F6YG.js";function R(){const i=I("items"),w=k(),b=S.useMemo(()=>{const s=u.shuffle(Object.values(i.data??[]).filter(a=>{var n;return(n=a.decks)==null?void 0:n.includes("suspect")})),t=u.shuffle(Object.values(i.data??[]).filter(a=>{var n;return(n=a.decks)==null?void 0:n.includes("weapon")})),l=u.shuffle(Object.values(i.data??[]).filter(a=>{var n;return(n=a.decks)==null?void 0:n.includes("evidence")})),o=u.shuffle(Object.values(i.data??[]).filter(a=>{var n;return(n=a.decks)==null?void 0:n.includes("location")})),d=Math.max(s.length,t.length,l.length,o.length),c=[];for(let a=0;a<d;a++)c.push({id:`crime-${a}`,suspect:s[a],weapon:t[a],evidence:l[a],location:o[a]});return c},[i.data]),j=(s,t)=>{const o={id:`dmhk-${t==="weapon"?"wp":"ev"}-000`,type:t,name:{en:s.name.en,pt:s.name.pt},itemId:s.id},d=JSON.stringify({[o.id]:o},null,2);w(d.substring(1,d.length-1))},$=[{title:"id",dataIndex:"id"},{title:"Suspect",dataIndex:"suspect",render:s=>e.jsx(p,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(m,{id:s.id,width:60}),e.jsx(x,{item:s}),e.jsx(r,{item:s,language:"pt"}),e.jsx(r,{item:s,language:"en"})]}):"?"})},{title:"Means of Murder",dataIndex:"weapon",render:s=>e.jsx(p,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(m,{id:s.id,width:60}),e.jsx(x,{item:s}),e.jsx(r,{item:s,language:"pt"}),e.jsx(r,{item:s,language:"en"}),e.jsx(v,{icon:e.jsx(y,{}),onClick:()=>j(s,"weapon"),size:"small",children:"Crime"})]}):"?"})},{title:"Evidence",dataIndex:"evidence",render:s=>e.jsx(p,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(m,{id:s.id,width:60}),e.jsx(x,{item:s}),e.jsx(r,{item:s,language:"pt"}),e.jsx(r,{item:s,language:"en"}),e.jsx(v,{icon:e.jsx(y,{}),onClick:()=>j(s,"evidence"),size:"small",children:"Crime"})]}):"?"})},{title:"Location",dataIndex:"location",render:s=>e.jsx(p,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(m,{id:s.id,width:60}),e.jsx(x,{item:s}),e.jsx(r,{item:s,language:"pt"}),e.jsx(r,{item:s,language:"en"})]}):"?"})},{title:"Crime",dataIndex:"id",render:(s,t)=>{var o,d,c,a,n,h,g,f;const l=`${t.id} - Suspect: ${(d=(o=t.suspect)==null?void 0:o.name)==null?void 0:d.en} (id: ${t.suspect.id}), Means of Murder:${(a=(c=t.weapon)==null?void 0:c.name)==null?void 0:a.en} (id: ${t.weapon.id}), Piece of Evidence: ${(h=(n=t==null?void 0:t.evidence)==null?void 0:n.name)==null?void 0:h.en} (id: ${t.evidence.id}), and the Location: ${(f=(g=t==null?void 0:t.location)==null?void 0:g.name)==null?void 0:f.en} (id: ${t.location.id})`;return e.jsxs(p,{vertical:!0,children:[e.jsx(L,{content:l}),e.jsx(P.TextArea,{readOnly:!0,rows:3,value:l})]})}}];return e.jsx(M,{className:"my-4",direction:"vertical",children:e.jsx(O,{columns:$,dataSource:b,pagination:{showQuickJumper:!0},rowKey:"id"})})}function oe(){const i=I("items");return e.jsx(F,{subtitle:"Crime History Random Sets",title:"Items",children:e.jsxs(C,{hasSider:!0,children:[e.jsx(E,{children:"-"}),e.jsx(C.Content,{className:"content",children:e.jsx(T,{error:i.error,hasResponseData:!u.isEmpty(i.data),isLoading:i.isLoading,children:e.jsx(R,{})})})]})})}export{oe as ItemsCrimeHistorySets,oe as default};
