import{r as i,aJ as $e,an as ce,aV as ue,bX as pe,c as b,aM as me,ac as ye,a8 as we,ae,bo as he,ad as Oe,am as Pe,g as Se,m as xe,bY as Re,bZ as Ne,b_ as Ee,b$ as Ie,c0 as Me,bz as ie,c1 as Ae,h as Te,av as re,u as X,c2 as ze,c3 as je,d as ge,bK as De,bd as Be,bM as Le,f as He,e as k,aq as Ve,b6 as le,c4 as _e,aW as We,ai as Fe,aY as Xe,bO as Ue,bP as Ye,a4 as qe,a5 as Ke,b8 as Ze,bB as Ge,c5 as Je,B as se}from"./index-CanllrSk.js";import{i as de}from"./index-D2ksPqDf.js";import{S as ke}from"./index-mHHXKI02.js";var Qe=ce.ESC,en=ce.TAB;function nn(e){var t=e.visible,o=e.triggerRef,a=e.onVisibleChange,l=e.autoFocus,r=e.overlayRef,n=i.useRef(!1),s=function(){if(t){var d,c;(d=o.current)===null||d===void 0||(c=d.focus)===null||c===void 0||c.call(d),a?.(!1)}},f=function(){var d;return(d=r.current)!==null&&d!==void 0&&d.focus?(r.current.focus(),n.current=!0,!0):!1},w=function(d){switch(d.keyCode){case Qe:s();break;case en:{var c=!1;n.current||(c=f()),c?d.preventDefault():s();break}}};i.useEffect(function(){return t?(window.addEventListener("keydown",w),l&&$e(f,3),function(){window.removeEventListener("keydown",w),n.current=!1}):function(){n.current=!1}},[t])}var tn=i.forwardRef(function(e,t){var o=e.overlay,a=e.arrow,l=e.prefixCls,r=i.useMemo(function(){var s;return typeof o=="function"?s=o():s=o,s},[o]),n=ue(t,pe(r));return b.createElement(b.Fragment,null,a&&b.createElement("div",{className:"".concat(l,"-arrow")}),b.cloneElement(r,{ref:me(r)?n:void 0}))}),U={adjustX:1,adjustY:1},Y=[0,0],on={topLeft:{points:["bl","tl"],overflow:U,offset:[0,-4],targetOffset:Y},top:{points:["bc","tc"],overflow:U,offset:[0,-4],targetOffset:Y},topRight:{points:["br","tr"],overflow:U,offset:[0,-4],targetOffset:Y},bottomLeft:{points:["tl","bl"],overflow:U,offset:[0,4],targetOffset:Y},bottom:{points:["tc","bc"],overflow:U,offset:[0,4],targetOffset:Y},bottomRight:{points:["tr","br"],overflow:U,offset:[0,4],targetOffset:Y}},an=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function rn(e,t){var o,a=e.arrow,l=a===void 0?!1:a,r=e.prefixCls,n=r===void 0?"rc-dropdown":r,s=e.transitionName,f=e.animation,w=e.align,C=e.placement,d=C===void 0?"bottomLeft":C,c=e.placements,$=c===void 0?on:c,h=e.getPopupContainer,p=e.showAction,q=e.hideAction,M=e.overlayClassName,K=e.overlayStyle,Z=e.visible,H=e.trigger,v=H===void 0?["hover"]:H,A=e.autoFocus,R=e.overlay,O=e.children,T=e.onVisibleChange,G=ye(e,an),z=b.useState(),P=we(z,2),S=P[0],j=P[1],D="visible"in e?Z:S,V=b.useRef(null),m=b.useRef(null),N=b.useRef(null);b.useImperativeHandle(t,function(){return V.current});var _=function(g){j(g),T?.(g)};nn({visible:D,triggerRef:N,onVisibleChange:_,autoFocus:A,overlayRef:m});var W=function(g){var I=e.onOverlayClick;j(!1),I&&I(g)},B=function(){return b.createElement(tn,{ref:m,overlay:R,prefixCls:n,arrow:l})},F=function(){return typeof R=="function"?B:B()},y=function(){var g=e.minOverlayWidthMatchTrigger,I=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?g:!I},J=function(){var g=e.openClassName;return g!==void 0?g:"".concat(n,"-open")},E=b.cloneElement(O,{className:ae((o=O.props)===null||o===void 0?void 0:o.className,D&&J()),ref:me(O)?ue(N,pe(O)):void 0}),L=q;return!L&&v.indexOf("contextMenu")!==-1&&(L=["click"]),b.createElement(he,Oe({builtinPlacements:$},G,{prefixCls:n,ref:V,popupClassName:ae(M,Pe({},"".concat(n,"-show-arrow"),l)),popupStyle:K,action:v,showAction:p,hideAction:L,popupPlacement:d,popupAlign:w,popupTransitionName:s,popupAnimation:f,popupVisible:D,stretch:y()?"minWidth":"",popup:F(),onPopupVisibleChange:_,onPopupClick:W,getPopupContainer:h}),E)}const ln=b.forwardRef(rn),sn=e=>typeof e!="object"&&typeof e!="function"||e===null,dn=e=>{const{componentCls:t,menuCls:o,colorError:a,colorTextLightSolid:l}=e,r=`${o}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${o} ${r}`]:{[`&${r}-danger:not(${r}-disabled)`]:{color:a,"&:hover":{color:l,backgroundColor:a}}}}}},cn=e=>{const{componentCls:t,menuCls:o,zIndexPopup:a,dropdownArrowDistance:l,sizePopupArrow:r,antCls:n,iconCls:s,motionDurationMid:f,paddingBlock:w,fontSize:C,dropdownEdgeChildPadding:d,colorTextDisabled:c,fontSizeIcon:$,controlPaddingHorizontal:h,colorBgElevated:p}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:a,display:"block","&::before":{position:"absolute",insetBlock:e.calc(r).div(2).sub(l).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${n}-btn`]:{[`& > ${s}-down, & > ${n}-btn-icon > ${s}-down`]:{fontSize:$}},[`${t}-wrap`]:{position:"relative",[`${n}-btn > ${s}-down`]:{fontSize:$},[`${s}-down::before`]:{transition:`transform ${f}`}},[`${t}-wrap-open`]:{[`${s}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${n}-slide-down-enter${n}-slide-down-enter-active${t}-placement-bottomLeft,
          &${n}-slide-down-appear${n}-slide-down-appear-active${t}-placement-bottomLeft,
          &${n}-slide-down-enter${n}-slide-down-enter-active${t}-placement-bottom,
          &${n}-slide-down-appear${n}-slide-down-appear-active${t}-placement-bottom,
          &${n}-slide-down-enter${n}-slide-down-enter-active${t}-placement-bottomRight,
          &${n}-slide-down-appear${n}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:Ie},[`&${n}-slide-up-enter${n}-slide-up-enter-active${t}-placement-topLeft,
          &${n}-slide-up-appear${n}-slide-up-appear-active${t}-placement-topLeft,
          &${n}-slide-up-enter${n}-slide-up-enter-active${t}-placement-top,
          &${n}-slide-up-appear${n}-slide-up-appear-active${t}-placement-top,
          &${n}-slide-up-enter${n}-slide-up-enter-active${t}-placement-topRight,
          &${n}-slide-up-appear${n}-slide-up-appear-active${t}-placement-topRight`]:{animationName:Ee},[`&${n}-slide-down-leave${n}-slide-down-leave-active${t}-placement-bottomLeft,
          &${n}-slide-down-leave${n}-slide-down-leave-active${t}-placement-bottom,
          &${n}-slide-down-leave${n}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:Ne},[`&${n}-slide-up-leave${n}-slide-up-leave-active${t}-placement-topLeft,
          &${n}-slide-up-leave${n}-slide-up-leave-active${t}-placement-top,
          &${n}-slide-up-leave${n}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Re}}},Me(e,p,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${o}`]:{position:"relative",margin:0},[`${o}-submenu-popup`]:{position:"absolute",zIndex:a,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},Te(e)),{[o]:Object.assign(Object.assign({padding:d,listStyleType:"none",backgroundColor:p,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},re(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${o}-item-group-title`]:{padding:`${X(w)} ${X(h)}`,color:e.colorTextDescription,transition:`all ${f}`},[`${o}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${o}-item-icon`]:{minWidth:C,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${o}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${f}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${o}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${o}-item, ${o}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${X(w)} ${X(h)}`,color:e.colorText,fontWeight:"normal",fontSize:C,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${f}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},re(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:c,cursor:"not-allowed","&:hover":{color:c,backgroundColor:p,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${X(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorIcon,fontSize:$,fontStyle:"normal"}}}),[`${o}-item-group-list`]:{margin:`0 ${X(e.marginXS)}`,padding:0,listStyle:"none"},[`${o}-submenu-title`]:{paddingInlineEnd:e.calc(h).add(e.fontSizeSM).equal()},[`${o}-submenu-vertical`]:{position:"relative"},[`${o}-submenu${o}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:c,backgroundColor:p,cursor:"not-allowed"}},[`${o}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[ie(e,"slide-up"),ie(e,"slide-down"),de(e,"move-up"),de(e,"move-down"),Ae(e,"zoom-big")]]},un=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},ze({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),je(e)),pn=Se("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:o,paddingXXS:a,componentCls:l}=e,r=xe(e,{menuCls:`${l}-menu`,dropdownArrowDistance:e.calc(o).div(2).add(t).equal(),dropdownEdgeChildPadding:a});return[cn(r),dn(r)]},un,{resetStyle:!1}),Q=e=>{var t;const{menu:o,arrow:a,prefixCls:l,children:r,trigger:n,disabled:s,dropdownRender:f,popupRender:w,getPopupContainer:C,overlayClassName:d,rootClassName:c,overlayStyle:$,open:h,onOpenChange:p,visible:q,onVisibleChange:M,mouseEnterDelay:K=.15,mouseLeaveDelay:Z=.1,autoAdjustOverflow:H=!0,placement:v="",overlay:A,transitionName:R,destroyOnHidden:O,destroyPopupOnHide:T}=e,{getPopupContainer:G,getPrefixCls:z,direction:P,dropdown:S}=i.useContext(ge),j=w||f;De();const D=i.useMemo(()=>{const u=z();return R!==void 0?R:v.includes("top")?`${u}-slide-down`:`${u}-slide-up`},[z,v,R]),V=i.useMemo(()=>v?v.includes("Center")?v.slice(0,v.indexOf("Center")):v:P==="rtl"?"bottomRight":"bottomLeft",[v,P]),m=z("dropdown",l),N=Be(m),[_,W,B]=pn(m,N),[,F]=Le(),y=i.Children.only(sn(r)?i.createElement("span",null,r):r),J=He(y,{className:k(`${m}-trigger`,{[`${m}-rtl`]:P==="rtl"},y.props.className),disabled:(t=y.props.disabled)!==null&&t!==void 0?t:s}),E=s?[]:n,L=!!E?.includes("contextMenu"),[x,g]=Ve(!1,{value:h??q}),I=le(u=>{p?.(u,{source:"trigger"}),M?.(u),g(u)}),ee=k(d,c,W,B,N,S?.className,{[`${m}-rtl`]:P==="rtl"}),ne=_e({arrowPointAtCenter:typeof a=="object"&&a.pointAtCenter,autoAdjustOverflow:H,offset:F.marginXXS,arrowWidth:a?F.sizePopupArrow:0,borderRadius:F.borderRadius}),ve=le(()=>{o?.selectable&&o?.multiple||(p?.(!1,{source:"menu"}),g(!1))}),be=()=>{let u;return o?.items?u=i.createElement(Ue,Object.assign({},o)):typeof A=="function"?u=A():u=A,j&&(u=j(u)),u=i.Children.only(typeof u=="string"?i.createElement("span",null,u):u),i.createElement(Ye,{prefixCls:`${m}-menu`,rootClassName:k(B,N),expandIcon:i.createElement("span",{className:`${m}-menu-submenu-arrow`},P==="rtl"?i.createElement(qe,{className:`${m}-menu-submenu-arrow-icon`}):i.createElement(Ke,{className:`${m}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:ve,validator:({mode:bn})=>{}},u)},[oe,Ce]=We("Dropdown",$?.zIndex);let te=i.createElement(ln,Object.assign({alignPoint:L},Fe(e,["rootClassName"]),{mouseEnterDelay:K,mouseLeaveDelay:Z,visible:x,builtinPlacements:ne,arrow:!!a,overlayClassName:ee,prefixCls:m,getPopupContainer:C||G,transitionName:D,trigger:E,overlay:be,placement:V,onVisibleChange:I,overlayStyle:Object.assign(Object.assign(Object.assign({},S?.style),$),{zIndex:oe}),autoDestroy:O??T}),J);return oe&&(te=i.createElement(Xe.Provider,{value:Ce},te)),_(te)},mn=Ze(Q,"align",void 0,"dropdown",e=>e),gn=e=>i.createElement(mn,Object.assign({},e),i.createElement("span",null));Q._InternalPanelDoNotUseOrYouWillBeFired=gn;var fn=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(o[a[l]]=e[a[l]]);return o};const fe=e=>{const{getPopupContainer:t,getPrefixCls:o,direction:a}=i.useContext(ge),{prefixCls:l,type:r="default",danger:n,disabled:s,loading:f,onClick:w,htmlType:C,children:d,className:c,menu:$,arrow:h,autoFocus:p,overlay:q,trigger:M,align:K,open:Z,onOpenChange:H,placement:v,getPopupContainer:A,href:R,icon:O=i.createElement(Ge,null),title:T,buttonsRender:G=ne=>ne,mouseEnterDelay:z,mouseLeaveDelay:P,overlayClassName:S,overlayStyle:j,destroyOnHidden:D,destroyPopupOnHide:V,dropdownRender:m,popupRender:N}=e,_=fn(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyOnHidden","destroyPopupOnHide","dropdownRender","popupRender"]),W=o("dropdown",l),B=`${W}-button`,y={menu:$,arrow:h,autoFocus:p,align:K,disabled:s,trigger:s?[]:M,onOpenChange:H,getPopupContainer:A||t,mouseEnterDelay:z,mouseLeaveDelay:P,overlayClassName:S,overlayStyle:j,destroyOnHidden:D,popupRender:N||m},{compactSize:J,compactItemClassnames:E}=Je(W,a),L=k(B,E,c);"destroyPopupOnHide"in e&&(y.destroyPopupOnHide=V),"overlay"in e&&(y.overlay=q),"open"in e&&(y.open=Z),"placement"in e?y.placement=v:y.placement=a==="rtl"?"bottomLeft":"bottomRight";const x=i.createElement(se,{type:r,danger:n,disabled:s,loading:f,onClick:w,htmlType:C,href:R,title:T},d),g=i.createElement(se,{type:r,danger:n,icon:O}),[I,ee]=G([x,g]);return i.createElement(ke.Compact,Object.assign({className:L,size:J,block:!0},_),I,i.createElement(Q,Object.assign({},y),ee))};fe.__ANT_BUTTON=!0;const vn=Q;vn.Button=fe;export{vn as D};
