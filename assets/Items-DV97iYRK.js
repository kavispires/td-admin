import{r as f,a as M,_ as $,j as e,af as Y,B as y,T as w,D as P,P as Z,L as V}from"./index-DtkAtFlE.js";import{D as ee}from"./DataLoadingWrapper-45gN00TW.js";import{F as se}from"./FirestoreConsoleLink-rAquK6RR.js";import{u as ae,P as ne}from"./useGridPagination-zA2J7tM8.js";import{u as O}from"./useQueryParams-BShMwWo0.js";import{u as te}from"./useResourceFirestoreData-BPkdZtPt.js";import{l as j,P as ie}from"./useBaseUrl-B-cdRmNM.js";import{L as D}from"./LanguageFlag-BrNQs2ux.js";import{I as le}from"./Item-CxVwD53d.js";import{u as L}from"./useCopyToClipboardFunction-Dj-JaTBX.js";import{F as A}from"./index-C1vtJFFN.js";import{C as N}from"./index-BZMu_vmZ.js";import{u as oe,R as re}from"./CloseCircleOutlined-BVsypCGp.js";import{S as z}from"./index-Da4ymE8d.js";import{F as b}from"./index-B1B947yj.js";import{C as ce}from"./index-C8zMJOuG.js";import{I as _}from"./index-DcLExqOS.js";import{S as F}from"./index-CkzrDKf7.js";import{S as de}from"./index-BRpXzWXD.js";import{R as me}from"./FireFilled-C7s90Y36.js";import{R as pe}from"./SaveOutlined-9YcuII20.js";import{R as ue}from"./EditOutlined-e7ft11C3.js";import{c as R,d as H,a as he,T as ge}from"./FilterEntries-CHYx2eEG.js";import{S as fe}from"./SiderContent-CEcyv1vw.js";import{D as J}from"./DownloadButton-7s1xAsrK.js";import{S as xe}from"./SaveButton-DR9KsT8O.js";import{a as q,d as je,r as ke}from"./index-Cvs4fHUo.js";import{M as ve}from"./index-DaU01qcv.js";import{R as W}from"./CopyOutlined-B9-12QKt.js";import{D as Ce}from"./index-Ba6_Qxj5.js";import{I as ye}from"./ItemsTypeahead-xvcQkm8R.js";import{R as be}from"./EnvironmentOutlined-f8wWoL2u.js";import"./Pagination-GhqB1fWT.js";import"./useGetFirestoreDoc-a2fKQBQZ.js";import"./useTDResource-Bvncvbqb.js";import"./useUpdateFirestoreDoc-D7X5blDO.js";import"./useMutation-DvXhF2u-.js";import"./gapSize-U1swVQyS.js";import"./index-DuW-0Fnv.js";import"./PlusOutlined-ByZyTB3m.js";import"./Input-ChhhAVja.js";import"./moment-C5S46NFB.js";import"./constants-xHOUOjEq.js";import"./useDebounce-BTjvPlkL.js";var we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},Ie={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482.88 128c-84.35 0-156.58 52.8-185.68 126.98-60.89 8.13-115.3 43.63-146.6 97.84-42.16 73-32.55 161.88 17.14 224.16-23.38 56.75-19.85 121.6 11.42 175.78 42.18 73.02 124.1 109.15 202.94 97.23C419.58 898.63 477.51 928 540.12 928c84.35 0 156.58-52.8 185.68-126.98 60.89-8.13 115.3-43.62 146.6-97.84 42.16-73 32.55-161.88-17.14-224.16 23.38-56.75 19.85-121.6-11.42-175.78-42.18-73.02-124.1-109.15-202.94-97.23C603.42 157.38 545.49 128 482.88 128m0 61.54c35.6 0 68.97 13.99 94.22 37.74-1.93 1.03-3.92 1.84-5.83 2.94l-136.68 78.91a46.11 46.11 0 00-23.09 39.78l-.84 183.6-65.72-38.34V327.4c0-76 61.9-137.86 137.94-137.86m197.7 75.9c44.19 3.14 86.16 27.44 109.92 68.57 17.8 30.8 22.38 66.7 14.43 100.42-1.88-1.17-3.6-2.49-5.53-3.6l-136.73-78.91a46.23 46.23 0 00-46-.06l-159.47 91.1.36-76.02 144.5-83.41a137.19 137.19 0 0178.53-18.09m-396.92 55.4c-.07 2.2-.3 4.35-.3 6.56v157.75a46.19 46.19 0 0022.91 39.9l158.68 92.5-66.02 37.67-144.55-83.35c-65.86-38-88.47-122.53-50.45-188.34 17.78-30.78 46.55-52.69 79.73-62.68m340.4 79.93l144.54 83.35c65.86 38 88.47 122.53 50.45 188.34-17.78 30.78-46.55 52.69-79.73 62.68.07-2.19.3-4.34.3-6.55V570.85a46.19 46.19 0 00-22.9-39.9l-158.69-92.5zM511.8 464.84l54.54 31.79-.3 63.22-54.84 31.31-54.54-31.85.3-63.16zm100.54 58.65l65.72 38.35V728.6c0 76-61.9 137.86-137.94 137.86-35.6 0-68.97-13.99-94.22-37.74 1.93-1.03 3.92-1.84 5.83-2.94l136.68-78.9a46.11 46.11 0 0023.09-39.8zm-46.54 89.55l-.36 76.02-144.5 83.41c-65.85 38-150.42 15.34-188.44-50.48-17.8-30.8-22.38-66.7-14.43-100.42 1.88 1.17 3.6 2.5 5.53 3.6l136.74 78.91a46.23 46.23 0 0046 .06z"}}]},name:"open-a-i",theme:"outlined"},Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},Ne=function(t,n){return f.createElement(M,$({},t,{ref:n,icon:we}))},De=f.forwardRef(Ne),Oe=function(t,n){return f.createElement(M,$({},t,{ref:n,icon:Ie}))},Te=f.forwardRef(Oe),Re=function(t,n){return f.createElement(M,$({},t,{ref:n,icon:Se}))},Pe=f.forwardRef(Re);const Q=f.createContext({items:{},isLoading:!0,error:null,hasResponseData:!1,decksDict:{},decks:[],listing:[],isDirty:!1,addItemToUpdate:()=>{},itemsToUpdate:{},isSaving:!1,save:()=>{},newId:"-1",hasFirestoreData:!1}),ze=({children:s})=>{const{queryParams:t}=O(),{data:n,isLoading:a,error:i,isSaving:o,save:r,addEntryToUpdate:k,entriesToUpdate:c,isDirty:d,hasFirestoreData:m}=te({tdrResourceName:"items",firestoreDataCollectionName:"items"}),{decksDict:l,decks:p}=f.useMemo(()=>{console.log("Recomputing item decks typeahead...");const v={},u={},C={},S=[];Object.values(n).forEach(x=>{var B;const K=`${x.name.en} (${x.id})`,X=`${x.name.pt} (${x.id})`;u[x.name.en]?S.push([`${x.name.en} (${u[x.name.en]})`,K]):u[x.name.en]=x.id,C[x.name.pt]?S.push([`${x.name.pt} (${C[x.name.pt]})`,X]):C[x.name.pt]=x.id,(B=x==null?void 0:x.decks)==null||B.forEach(U=>{v[U]=U})}),v.age1="age1",v.age2="age2",v.age3="age3",v.age4="age4",v.age5="age5";const T=j.orderBy(Object.keys(v)).map(x=>({value:x}));return S.length>0&&console.warn("Possible duplicated items",S),{decksDict:v,decks:T}},[n,o,a]),h=t.get("deck")??"all",g=f.useMemo(()=>{const v=j.orderBy(Object.values(n),[u=>Number(u.id)],"asc");switch(h){case"all":return v;case"!all":return v.filter(u=>{var C;return!((C=u==null?void 0:u.decks)!=null&&C.length)||!0});case"nsfw":return v.filter(u=>u.nsfw);case"!nsfw":return v.filter(u=>!u.nsfw);default:return h.startsWith("!")?v.filter(u=>{var C;return!((C=u==null?void 0:u.decks)!=null&&C.includes(h.slice(1)))}):v.filter(u=>{var C;return(C=u==null?void 0:u.decks)==null?void 0:C.includes(h)})}},[n,h]),G=f.useMemo(()=>{var S;const v=j.orderBy(Object.keys(c),[T=>Number(T)],"asc"),u=(S=g[g.length-1])==null?void 0:S.id,C=j.orderBy([...v,u],[T=>Number(T)],"desc")[0];return String(Number(C)+1)},[g,c]);return e.jsx(Q.Provider,{value:{items:n,listing:g,isLoading:a,error:i,decksDict:l,decks:p,hasResponseData:g.length>0,isDirty:d,addItemToUpdate:k,isSaving:o,save:r,itemsToUpdate:c,newId:G,hasFirestoreData:m},children:s})},I=()=>f.useContext(Q);function Ee(s,t=!1){const{addItemToUpdate:n,itemsToUpdate:a}=I(),[i,o]=f.useState(t),[r,k]=f.useState(j.cloneDeep(s)),c=a[s.id]??s,d=h=>{const g={...j.cloneDeep(r),...h};Object.keys(h).includes("nsfw")&&h.nsfw===!1&&(g.nsfw=void 0),k(g)},m=async()=>{n(r.id,r)},l=()=>{k(j.cloneDeep(s)),o(!1)},p=JSON.stringify(c)!==JSON.stringify(r);return{isEditing:i,toggleEditMode:()=>o(h=>!h),editableItem:r,onEdit:d,isDirty:p,onModify:m,onReset:l}}function Fe({item:s,isEditing:t,onEdit:n,decks:a}){return e.jsx("div",{style:{display:"grid",gap:4,gridTemplateColumns:"repeat(2, 1fr)"},children:a.map(i=>{const o=s.decks??[],r=o.includes(i.value);return e.jsxs(A.Item,{style:{margin:0,minHeight:1},children:[e.jsx(N,{checked:r,disabled:!t,onChange:k=>{const d=k.target.checked?[...o,i.value]:o.filter(m=>m!==i.value);console.log("onChange",k.target.checked,i.value,d),n({decks:d})},style:{minHeight:1}}),e.jsxs("span",{children:[" ",j.truncate(i.value,{length:10})]})]},i.value)})})}const Me=s=>({id:s.id,type:"item",header:{title:{en:"Item",pt:"Item"},iconId:"2077"},metadata:{level:"basic",keyword:j.snakeCase(s.name.en).toUpperCase()},content:{itemId:s.id,caption:s.name}});function $e({item:s}){const[t,n]=oe(!1),a=L();return e.jsx(Y,{content:e.jsxs(z,{direction:"vertical",children:[e.jsx(y,{size:"small",onClick:()=>a(JSON.stringify(s,null,2)),children:"Complete Item"}),e.jsx(y,{size:"small",onClick:()=>a(s.name.en),children:"EN Name"}),e.jsx(y,{size:"small",onClick:()=>a(s.name.pt),children:"PT Name"}),e.jsx(y,{size:"small",onClick:()=>a(JSON.stringify(Me(s),null,2)),children:"Escape Room Item"})]}),title:"Copy",trigger:"click",open:t,onOpenChange:n,children:e.jsx(y,{type:"text",icon:e.jsx(De,{})})})}const Le=j.memoize(s=>{var r,k;const t=!!((r=s.decks)!=null&&r.includes("thing")),n=!!((k=s.decks)!=null&&k.includes("manufactured")),a=s.name.en.split(" ").length===1,i=s.name.pt.split(" ").length===1,o={en:t||a&&n,pt:t||i&&n};return!o.pt&&!o.en?"":e.jsxs(e.Fragment,{children:[o.en&&e.jsx(D,{language:"en",width:"1em"}),o.pt&&e.jsx(D,{language:"pt",width:"1em"})]})}),Ae=({item:s})=>{const t=Le(s);return t?e.jsxs(b,{gap:6,children:["Thing: ",t]}):e.jsx(e.Fragment,{})};function E({item:s,editMode:t=!1,simplified:n}){const{decks:a}=I(),{isEditing:i,toggleEditMode:o,onEdit:r,isDirty:k,onModify:c,onReset:d,editableItem:m}=Ee(s,t),l=L(),{is:p}=O(),h=n||p("simplified");return s.decks,e.jsxs(ce,{title:e.jsx(w.Text,{onClick:()=>l(s.id),children:s.id}),extra:e.jsx($e,{item:s}),style:{maxWidth:250},size:h?"small":"default",actions:h?void 0:k?[e.jsx(Pe,{onClick:d},"reset"),e.jsx(pe,{onClick:c},"save")]:[e.jsx(ue,{onClick:o},"edit")],children:[e.jsx(le,{id:s.id,width:h?75:125,title:`${s.name.en} | ${s.name.pt}`}),e.jsxs(z,{size:"small",direction:"vertical",className:h?"my-2":"my-4",children:[e.jsx(_,{prefix:e.jsx(D,{language:"en",width:"1em"}),placeholder:"Name in EN",variant:i?"outlined":"borderless",size:"small",defaultValue:s.name.en,readOnly:!i,onChange:g=>r({name:{...m.name,en:g.target.value}})},`en-${s.name.en}`),e.jsx(_,{prefix:e.jsx(D,{language:"pt",width:"1em"}),placeholder:"Name in PT",variant:i?"outlined":"borderless",size:"small",defaultValue:s.name.pt,readOnly:!i,onChange:g=>r({name:{...m.name,pt:g.target.value}})},`pt-${s.name.pt}`),!h&&e.jsxs(e.Fragment,{children:[e.jsxs(e.Fragment,{children:[!p("hideDecks")&&e.jsx("div",{children:p("deckCheckboxes")?e.jsx(Fe,{item:s,isEditing:i,onEdit:r,decks:a}):e.jsx(F,{mode:"multiple",style:{width:"100%"},placeholder:"Select a deck",defaultValue:s.decks,disabled:!i,options:a,variant:i?"outlined":"borderless",size:"small",onChange:g=>r({decks:g.sort()})},String(s.decks))}),!p("hideAliases")&&e.jsxs(e.Fragment,{children:[e.jsxs(b,{gap:6,children:[e.jsx(D,{language:"en",width:"1em"}),e.jsx(F,{mode:"tags",style:{width:"100%"},placeholder:"Other names EN",defaultValue:s.aliasesEn,options:[],disabled:!i,variant:i?"outlined":"borderless",size:"small",onChange:g=>r({aliasesEn:g.sort()})})]}),e.jsxs(b,{gap:6,children:[e.jsx(D,{language:"pt",width:"1em"}),e.jsx(F,{mode:"tags",style:{width:"100%"},placeholder:"Other names PT",defaultValue:s.aliasesPt,options:[],disabled:!i,variant:i?"outlined":"borderless",size:"small",onChange:g=>r({aliasesPt:g.sort()})})]})]})]}),e.jsx(Be,{item:s,onEdit:r}),p("showVerifyThing")&&e.jsx("div",{children:e.jsx(Ae,{item:s})}),(i||s.nsfw)&&e.jsx("div",{children:e.jsx(A.Item,{label:"nsfw",valuePropName:"checked",children:e.jsx(de,{checked:s.nsfw,onChange:g=>r({nsfw:g}),size:"small",checkedChildren:e.jsx(me,{style:{color:"hotpink"}}),disabled:!i})})})]})]})]})}function Be({item:s,onEdit:t}){const n=s.decks||[],a=async i=>{const o=n.includes(i)?n.filter(r=>r!==i):[...n,i];t({decks:o})};return e.jsxs("div",{children:[e.jsx(w.Text,{strong:!0,children:"Ages"}),e.jsxs(b,{gap:6,children:[e.jsx(N,{checked:n.includes("age1"),onChange:()=>a("age1")}),"1",e.jsx(N,{checked:n.includes("age2"),onChange:()=>a("age2")}),"2",e.jsx(N,{checked:n.includes("age3"),onChange:()=>a("age3")}),"3",e.jsx(N,{checked:n.includes("age4"),onChange:()=>a("age4")}),"4",e.jsx(N,{checked:n.includes("age5"),onChange:()=>a("age5")}),"5"]})]})}function Ue(){const{queryParams:s}=O(),t=s.get("deck")??"all",{listing:n}=I(),{page:a,pagination:i}=ae({data:n,resetter:t});return e.jsxs(e.Fragment,{children:[e.jsxs(b,{align:"center",gap:12,children:[e.jsxs(w.Title,{level:2,className:"my-0",children:["Listing - ",j.capitalize(t)," items (",n.length,")"]}),e.jsx(se,{path:"/tdr/items"})]}),e.jsx(ne,{pagination:i,className:"full-width",children:e.jsx(b,{gap:16,wrap:"wrap",children:a.map(o=>e.jsx(E,{item:o},o.id))})})]})}const Ve={id:"",name:{en:"",pt:""},groups:[]};function _e({isModalOpen:s,handleOk:t,handleCancel:n,newId:a}){const[i]=f.useState(j.cloneDeep({...Ve,id:a}));return e.jsx(ve,{title:"Add new item",open:s,onOk:t,onCancel:n,children:e.jsx(E,{item:i,editMode:!0})})}function He(){const[s,t]=f.useState(!1),{newId:n}=I(),a=()=>{t(!0)},i=()=>{t(!1)},o=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(y,{block:!0,onClick:a,children:"Add New Item"}),s&&e.jsx(_e,{isModalOpen:s,handleOk:i,handleCancel:o,newId:n},n)]})}function Je(){const{isDirty:s,save:t,items:n,decks:a,itemsToUpdate:i,isSaving:o,hasFirestoreData:r}=I(),{queryParams:k,is:c,addParam:d}=O(),m=f.useMemo(()=>{const l=j.orderBy(a.map(({value:h})=>({label:j.capitalize(h),value:h})),"label"),p=l.map(({label:h,value:g})=>({label:`NOT ${h}`,value:`!${g}`}));return[...l,...p]},[a]);return e.jsxs(fe,{children:[e.jsxs(b,{vertical:!0,gap:6,children:[e.jsx(xe,{isDirty:s,dirt:JSON.stringify(i),onSave:t,isSaving:o}),e.jsx(J,{data:()=>We(n),fileName:"items.json",disabled:s,hasNewData:r,block:!0})]}),e.jsx(P,{className:"my-4"}),e.jsx(w.Text,{type:"secondary",children:"Tools"}),e.jsx(R,{label:"Show Search",value:!c("hideSearch"),onChange:l=>d("hideSearch",l?"":"true",""),className:"full-width m-0"}),e.jsx(R,{label:"Show Randomizer",value:c("showRandomizer"),onChange:l=>d("showRandomizer",l?"true":"",""),className:"full-width m-0"}),e.jsx(w.Text,{type:"secondary",children:"Input"}),e.jsx(H,{label:"Hide Decks",value:c("hideDecks"),onChange:l=>d("hideDecks",l?"true":""),className:"full-width m-0"}),e.jsx(H,{label:"Hide Aliases",value:c("hideAliases"),onChange:l=>d("hideAliases",l?"true":""),className:"full-width m-0"}),e.jsx(w.Text,{type:"secondary",children:"Display"}),e.jsx(R,{label:"Simplified UI",value:c("simplified"),onChange:l=>d("simplified",l?"true":""),className:"full-width m-0"}),e.jsx(R,{label:"Deck Checkboxes",value:c("deckCheckboxes"),onChange:l=>d("deckCheckboxes",l?"true":""),className:"full-width m-0"}),e.jsx(R,{label:"Thing Verifier",value:c("showVerifyThing"),onChange:l=>d("showVerifyThing",l?"true":""),className:"full-width m-0",disabled:c("simplified")}),e.jsx(P,{className:"my-4"}),e.jsx(he,{label:"Deck",value:k.get("deck")??"all",onChange:l=>d("deck",l,"all"),options:[{label:"All",value:"all"},{label:"NSFW",value:"nsfw"},{label:"SFW",value:"!nsfw"},...m,{label:"No decks",value:"!all"}]}),e.jsx(P,{className:"my-4"}),e.jsx(He,{}),e.jsx(P,{className:"my-4"}),e.jsx(J,{data:()=>qe(n),fileName:"items-gpt.json",disabled:s,block:!0,icon:e.jsx(Te,{}),children:"Open AI JSON"})]})}function We(s){console.log("Preparing file for download...");const t=j.cloneDeep(s);return Object.values(t).reduce((n,a)=>(a.aliasesEn=Object.values(a.aliasesEn??{}).sort(),a.aliasesEn.length===0&&(a.aliasesEn=void 0),a.aliasesPt=Object.values(a.aliasesPt??{}).sort(),a.aliasesPt.length===0&&(a.aliasesPt=void 0),a.decks=Object.values((a==null?void 0:a.decks)??{}).sort(),a.decks.length===0&&(a.decks=void 0),n[a.id]=a,n),{}),q(je(t))}function qe(s){return q(Object.values(j.cloneDeep(s)).reduce((t,n)=>{const a={id:n.id,names:{"en-US":n.name.en,"pt-BR":n.name.pt},aliases:{"en-US":n.aliasesEn,"pt-BR":n.aliasesPt}};return t[a.id]=a,t},{}))}function Qe(){const{listing:s}=I(),[t,n]=f.useState([]),a=L(),[i,o]=f.useState(5),r=()=>{n(j.sampleSize(s,i))},k=[{label:"Copy IDs",key:"copy_ids"},{label:"Copy Names EN",key:"copy_names_en"},{label:"Copy Names PT",key:"copy_names_pt"}],c=({key:m})=>{if(m==="copy_ids"){const l=t.map(p=>p.id);a(JSON.stringify(l));return}if(m==="copy_names_en"){const l=t.map(p=>p.name.en).join(", ");a(l);return}if(m==="copy_names_pt"){const l=t.map(p=>p.name.pt).join(", ");a(l);return}},d=()=>{const m=j.chunk(j.sampleSize(s,i*15),i).map(l=>l.filter(p=>!p.nsfw)).map(l=>l.map(p=>p.name.en).join(", ")).map((l,p)=>`${p+1}) ${l}`).join(`
`);a(m)};return e.jsxs("div",{children:[e.jsxs(w.Title,{level:2,children:["Randomized Sample"," ",e.jsx(y,{size:"small",icon:e.jsx(W,{}),onClick:d,children:"MJ"})]}),e.jsxs(b,{gap:12,children:[e.jsx(A.Item,{label:"Quantity"}),e.jsx("div",{children:e.jsx(ge,{min:3,max:15,value:i,onChange:m=>o(Number(m)),style:{minWidth:"100px"}})}),e.jsx(y,{onClick:r,type:"primary",children:"Get Sample"}),e.jsx(Ce.Button,{menu:{items:k,onClick:c},disabled:t.length===0,onClick:()=>a(JSON.stringify(t,null,2)),icon:e.jsx(W,{}),children:"Copy"})]}),e.jsx(z,{wrap:!0,className:"my-4",children:t.map(m=>e.jsx(E,{item:m,simplified:!0},m.id))})]})}function Ge(){const{items:s,isLoading:t,isSaving:n}=I(),[a,i]=f.useState(null),{queryParams:o,addParam:r}=O(),k=c=>{const d=Number(o.get("pageSize")??64),m=Number(c),l=Math.floor(m/d)+1;r("page",l.toString())};return e.jsxs(f.Fragment,{children:[e.jsx(w.Title,{level:2,children:"Search for an item"}),e.jsx("div",{children:e.jsx(ye,{items:s,isPending:t||n,onFinish:c=>i([s[c]]),onFinishMultiple:c=>i(ke(c).map(d=>s[d]))})}),a&&(a==null?void 0:a.length)>0&&e.jsxs(b,{gap:8,children:[e.jsxs(w.Paragraph,{className:"mt-1 italic",children:[a==null?void 0:a.length," items found"]}),e.jsx(y,{icon:e.jsx(re,{}),onClick:()=>i(null),size:"small",type:"text"})]}),e.jsx(b,{className:"my-4",gap:8,wrap:"wrap",children:a==null?void 0:a.map(c=>e.jsxs(z,{direction:"vertical",className:"my-4",children:[e.jsx(E,{item:c}),e.jsx(y,{onClick:()=>k(c.id),block:!0,icon:e.jsx(be,{}),children:"Find in listing"})]},c.id))})]},`item-search-${t}`)}function Ke(){const{isLoading:s,error:t,hasResponseData:n}=I(),{is:a}=O();return e.jsx(Z,{title:"Items",subtitle:"Listing",children:e.jsxs(V,{hasSider:!0,children:[e.jsx(ie,{children:e.jsx(Je,{})}),e.jsx(V.Content,{className:"content",children:e.jsxs(ee,{isLoading:s,error:t,hasResponseData:n,children:[!s&&e.jsxs(e.Fragment,{children:[e.jsxs(z,{size:"large",align:"start",children:[!a("hideSearch")&&e.jsx(Ge,{}),a("showRandomizer")&&e.jsx(Qe,{})]}),e.jsx(P,{})]}),e.jsx(Ue,{})]})})]})})}function Us(){return e.jsx(ze,{children:e.jsx(Ke,{})})}export{Us as default};
