import{r as I,a as Rr,_ as Ir,j as t,T as w,g as qr,e as Nr,b as K,c as Ar,d as kr,B as Te,R as Dr,I as Mr,D as Er,P as Br,L as Ne}from"./index-BUCQLO0w.js";import{D as Fr}from"./DataLoadingWrapper-KtIEp7Y2.js";import{l as k,P as Wr}from"./useBaseUrl-C8kAU6ch.js";import{u as Hr}from"./useCardWidth-DK4JtuC0.js";import{u as re}from"./useQueryParams-B9khQq8x.js";import{s as Y,a as Lr}from"./index-CyrvyyDs.js";import{D as Ae}from"./EditableFields-DXRXxTkX.js";import{S as we}from"./SuspectImageCard-BnA3g3Qb.js";import{u as ie}from"./useDebounce-BJtguiix.js";import{D as mr}from"./index-Bcyhkb_N.js";import{F as T}from"./index-ZkMgzlNO.js";import{S as Z}from"./index-ClWB0cin.js";import{I as gr}from"./index-D5Lk72Tc.js";import{R as ke}from"./index-CPa9D6oZ.js";import{S as ee}from"./index-_sx3ox9_.js";import{u as $r}from"./useCopyToClipboardFunction-DOEfmgSG.js";import{T as V}from"./index-CoDWJdex.js";import{S as zr,b as Gr,a as De}from"./FilterEntries-DQ9pFqHJ.js";import{R as Kr}from"./AppstoreOutlined-qDeU2FYH.js";import{S as Me}from"./index-mJYGwyu9.js";import{R as Ur,a as Yr}from"./WomanOutlined-D70mS7L2.js";import{R as Vr,a as Qr}from"./ColumnWidthOutlined-k6j4jvUY.js";import{F as Jr}from"./Table-D3GwGAv-.js";import{S as Xr}from"./SiderContent-BTI1XaoE.js";import{D as Zr}from"./DownloadButton-7WxXnfbE.js";import{F as et}from"./FirestoreConsoleLink-eVpuVM2y.js";import{S as rt}from"./SaveButton-Dab0M01Y.js";import{S as tt}from"./SuspectsStyleVariantSelector-RH7cCdyf.js";import{u as nt}from"./useResourceFirestoreData-DS-Ud6M5.js";import"./constants-DbPBHhY7.js";import"./Item-DFYBH5R0.js";import"./LanguageFlag-DFsWVU0G.js";import"./FireFilled-LLZLtkEv.js";import"./IdcardOutlined-Ca8VRokA.js";import"./ImageCard-jZKdwy17.js";import"./gapSize-U1swVQyS.js";import"./Input-BnTeV5TB.js";import"./index-Ryw6SLTC.js";import"./index-B5RqVnhD.js";import"./index-DE0g4Jif.js";import"./scrollTo-C3-IxNFy.js";import"./Pagination-8dcugb3U.js";import"./useMutation-DyqpvZjD.js";import"./index-DXqFwdmJ.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-D4aoFKMR.js";import"./useGetFirestoreDoc-D2sQmMXt.js";import"./useTDResource-B4HyOAy_.js";import"./useUpdateFirestoreDoc-zr8kc8W5.js";var at={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"},it=function(o,i){return I.createElement(Rr,Ir({},o,{ref:i,icon:at}))},ot=I.forwardRef(it);const st=["18-21","21-30","30-40","40-50","50-60","60-70","70-80","80-90"].map(e=>({label:e,value:e})),lt=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Non-binary",value:"non-binary"},{label:"Other",value:"other"}],ut=[{label:"Caucasian",value:"caucasian"},{label:"Black",value:"black"},{label:"Asian",value:"asian"},{label:"Latino",value:"latino"},{label:"Indigenous",value:"indigenous"},{label:"Indian",value:"indian"},{label:"Middle Eastern",value:"middle-eastern"},{label:"Mixed",value:"mixed"},{label:"Other",value:"other"}];function ct({data:e,addEntryToUpdate:o}){const{removeParam:i,queryParams:n}=re(),a=n.get("suspectId"),r=e[a??""],[s,u]=I.useState((r==null?void 0:r.name.pt)||""),[f,l]=I.useState((r==null?void 0:r.name.en)||""),[m,b]=I.useState((r==null?void 0:r.note)||"");if(I.useEffect(()=>{r&&(u(r.name.pt),l(r.name.en),b(r.note||""))},[r==null?void 0:r.id]),ie(()=>{r&&s!==r.name.pt&&o(r.id,{...r,name:{...r.name,pt:s}})},500,[s]),ie(()=>{r&&f!==r.name.en&&o(r.id,{...r,name:{...r.name,en:f}})},500,[f]),ie(()=>{r&&m!==r.note&&o(r.id,{...r,note:m})},500,[m]),!r)return null;const x={pt:s,en:f};return t.jsx(mr,{onClose:()=>i("suspectId"),open:!!r,placement:"right",title:r.name.pt,width:400,children:t.jsxs("div",{className:"suspect__drawer",children:[t.jsxs("div",{className:"grid",style:{gridTemplateColumns:"1fr 1.25fr"},children:[t.jsx(we,{id:r.id,width:100}),t.jsxs(T,{gap:4,vertical:!0,children:[t.jsx(Ae,{language:"pt",onChange:h=>u(h.target.value),value:x}),t.jsx(Ae,{language:"en",onChange:h=>l(h.target.value),value:x}),t.jsx("div",{children:t.jsx(Z,{onChange:h=>{o(r.id,{...r,age:h})},options:st,placeholder:"Select Age",size:"small",style:{width:80},value:r.age})}),t.jsx("div",{children:t.jsx(Z,{onChange:h=>{o(r.id,{...r,gender:h})},options:lt,size:"small",style:{width:120},value:r.gender})}),t.jsx("div",{children:t.jsx(Z,{onChange:h=>{o(r.id,{...r,ethnicity:h})},options:ut,size:"small",style:{width:150},value:r.ethnicity})}),t.jsx("div",{children:t.jsx(gr,{onChange:h=>b(h.target.value),size:"small",value:m})})]},`${x.pt}-${x.en}`)]}),t.jsxs("div",{className:"grid grid-2",children:[t.jsxs(T,{vertical:!0,children:[t.jsx(w.Text,{strong:!0,children:"Build"}),t.jsx(ke.Group,{onChange:h=>{o(r.id,{...r,build:h.target.value})},options:ft,size:"small",style:{display:"flex",flexDirection:"column",gap:3},value:r.build})]}),t.jsxs(T,{vertical:!0,children:[t.jsx(w.Text,{strong:!0,children:"Height"}),t.jsx(ke.Group,{onChange:h=>{o(r.id,{...r,height:h.target.value})},options:pt,size:"small",style:{display:"flex",flexDirection:"column",gap:3},value:r.height})]})]}),t.jsx(dt,{addEntryToUpdate:o,suspect:r})]})})}function dt({suspect:e,addEntryToUpdate:o}){const i=e.features??[],n=a=>{const r=i.includes(a)?i.filter(s=>s!==a):[...i,a];o(e.id,{...e,features:r})};return t.jsx("div",{className:"grid grid-2",children:Re.map(a=>t.jsxs("div",{className:"my-4",children:[t.jsx(w.Text,{strong:!0,children:a.title}),a.features.map(r=>t.jsxs(T,{className:"my-2",gap:4,children:[t.jsx(ee,{checked:i.includes(r.id),onChange:()=>n(r.id),size:"small"})," ",r.label]},r.id))]},a.title))})}const ft=["thin","average","muscular","large"],pt=["short","medium","tall"],Re=[{title:"Hair Length",features:[{id:"shortHair",label:"Short Hair"},{id:"longHair",label:"Long Hair"},{id:"mediumHair",label:"Medium Hair"},{id:"bald",label:"Bald"}]},{title:"Hair Color",features:[{id:"blackHair",label:"Black Hair"},{id:"brownHair",label:"Brown Hair"},{id:"blondeHair",label:"Blonde Hair"},{id:"redHair",label:"Red Hair"},{id:"greyHair",label:"Grey Hair"},{id:"coloredHair",label:"Colored Hair"}]},{title:"Face",features:[{id:"beard",label:"Beard"},{id:"mustache",label:"Mustache"},{id:"goatee",label:"Goatee"},{id:"lipstick",label:"Lipstick"}]},{title:"Specific",features:[{id:"buttonShirt",label:"Button Shirt"},{id:"showTeeth",label:"Showing Teeth"},{id:"avoidingCamera",label:"Avoiding Camera"},{id:"hairyChest",label:"Exposed Hairy Chest"}]},{title:"Accessories",features:[{id:"noAccessories",label:"No Accessories"},{id:"glasses",label:"Glasses"},{id:"piercings",label:"Piercings"},{id:"earrings",label:"Earrings"},{id:"necklace",label:"Necklace"},{id:"hat",label:"Hat"},{id:"scarf",label:"Scarf"},{id:"hoodie",label:"Hoodie"},{id:"tie",label:"Tie"},{id:"headscarf",label:"Headscarf/Bandana"},{id:"bow",label:"Bow"},{id:"wearingFlowers",label:"Wearing Flowers"},{id:"hairTie",label:"Hair Tie"}]},{title:"Clothing",features:[{id:"whiteShirt",label:"White Shirt"},{id:"blackClothes",label:"Black Clothes"},{id:"blueClothes",label:"Blue Clothes"},{id:"redClothes",label:"Red Clothes"},{id:"greenClothes",label:"Green Clothes"},{id:"yellowClothes",label:"Yellow Clothes"},{id:"purpleClothes",label:"Purple Clothes"},{id:"pinkClothes",label:"Pink Clothes"},{id:"orangeClothes",label:"Orange Clothes"},{id:"brownClothes",label:"Brown Clothes"},{id:"patternedShirt",label:"Patterned Shirt"},{id:"wearingStripes",label:"Wearing Stripes"}]}],vr=k.orderBy(Re.reduce((e,o)=>(o.features.forEach(i=>{e.push({value:i.id,label:i.label})}),e),[]),["label"],["asc"]);console.log("flatFeatures",vr.map(e=>e.value));function ht(){const{addParam:e,queryParams:o}=re();return t.jsxs(T,{align:"center",className:"my-2",gap:8,children:[t.jsx(w.Text,{children:"Feature Highlight:"})," ",t.jsx(Z,{allowClear:!0,onChange:i=>e("activeFeature",i),options:vr,size:"small",style:{width:200},value:o.get("activeFeature")||void 0})]})}var W={},oe={exports:{}},se={exports:{}},Ee;function te(){return Ee||(Ee=1,function(e){function o(i){"@babel/helpers - typeof";return e.exports=o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,o(i)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(se)),se.exports}var Be;function ne(){return Be||(Be=1,function(e){var o=te().default;function i(a){if(typeof WeakMap!="function")return null;var r=new WeakMap,s=new WeakMap;return(i=function(f){return f?s:r})(a)}function n(a,r){if(!r&&a&&a.__esModule)return a;if(a===null||o(a)!="object"&&typeof a!="function")return{default:a};var s=i(r);if(s&&s.has(a))return s.get(a);var u={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in a)if(l!=="default"&&{}.hasOwnProperty.call(a,l)){var m=f?Object.getOwnPropertyDescriptor(a,l):null;m&&(m.get||m.set)?Object.defineProperty(u,l,m):u[l]=a[l]}return u.default=a,s&&s.set(a,u),u}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(oe)),oe.exports}var le={exports:{}},Fe;function U(){return Fe||(Fe=1,function(e){function o(i){return i&&i.__esModule?i:{default:i}}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(le)),le.exports}var ue={exports:{}},We;function xr(){return We||(We=1,function(e){function o(){return e.exports=o=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(i[r]=a[r])}return i},e.exports.__esModule=!0,e.exports.default=e.exports,o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(ue)),ue.exports}var Q={},He;function mt(){if(He)return Q;He=1,Object.defineProperty(Q,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482.88 128c-84.35 0-156.58 52.8-185.68 126.98-60.89 8.13-115.3 43.63-146.6 97.84-42.16 73-32.55 161.88 17.14 224.16-23.38 56.75-19.85 121.6 11.42 175.78 42.18 73.02 124.1 109.15 202.94 97.23C419.58 898.63 477.51 928 540.12 928c84.35 0 156.58-52.8 185.68-126.98 60.89-8.13 115.3-43.62 146.6-97.84 42.16-73 32.55-161.88-17.14-224.16 23.38-56.75 19.85-121.6-11.42-175.78-42.18-73.02-124.1-109.15-202.94-97.23C603.42 157.38 545.49 128 482.88 128m0 61.54c35.6 0 68.97 13.99 94.22 37.74-1.93 1.03-3.92 1.84-5.83 2.94l-136.68 78.91a46.11 46.11 0 00-23.09 39.78l-.84 183.6-65.72-38.34V327.4c0-76 61.9-137.86 137.94-137.86m197.7 75.9c44.19 3.14 86.16 27.44 109.92 68.57 17.8 30.8 22.38 66.7 14.43 100.42-1.88-1.17-3.6-2.49-5.53-3.6l-136.73-78.91a46.23 46.23 0 00-46-.06l-159.47 91.1.36-76.02 144.5-83.41a137.19 137.19 0 0178.53-18.09m-396.92 55.4c-.07 2.2-.3 4.35-.3 6.56v157.75a46.19 46.19 0 0022.91 39.9l158.68 92.5-66.02 37.67-144.55-83.35c-65.86-38-88.47-122.53-50.45-188.34 17.78-30.78 46.55-52.69 79.73-62.68m340.4 79.93l144.54 83.35c65.86 38 88.47 122.53 50.45 188.34-17.78 30.78-46.55 52.69-79.73 62.68.07-2.19.3-4.34.3-6.55V570.85a46.19 46.19 0 00-22.9-39.9l-158.69-92.5zM511.8 464.84l54.54 31.79-.3 63.22-54.84 31.31-54.54-31.85.3-63.16zm100.54 58.65l65.72 38.35V728.6c0 76-61.9 137.86-137.94 137.86-35.6 0-68.97-13.99-94.22-37.74 1.93-1.03 3.92-1.84 5.83-2.94l136.68-78.9a46.11 46.11 0 0023.09-39.8zm-46.54 89.55l-.36 76.02-144.5 83.41c-65.85 38-150.42 15.34-188.44-50.48-17.8-30.8-22.38-66.7-14.43-100.42 1.88 1.17 3.6 2.5 5.53 3.6l136.74 78.91a46.23 46.23 0 0046 .06z"}}]},name:"open-a-i",theme:"outlined"};return Q.default=e,Q}var H={},ce={exports:{}},de={exports:{}},Le;function gt(){return Le||(Le=1,function(e){function o(i){if(Array.isArray(i))return i}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(de)),de.exports}var fe={exports:{}},$e;function vt(){return $e||($e=1,function(e){function o(i,n){var a=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(a!=null){var r,s,u,f,l=[],m=!0,b=!1;try{if(u=(a=a.call(i)).next,n===0){if(Object(a)!==a)return;m=!1}else for(;!(m=(r=u.call(a)).done)&&(l.push(r.value),l.length!==n);m=!0);}catch(x){b=!0,s=x}finally{try{if(!m&&a.return!=null&&(f=a.return(),Object(f)!==f))return}finally{if(b)throw s}}return l}}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(fe)),fe.exports}var pe={exports:{}},he={exports:{}},ze;function xt(){return ze||(ze=1,function(e){function o(i,n){(n==null||n>i.length)&&(n=i.length);for(var a=0,r=Array(n);a<n;a++)r[a]=i[a];return r}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(he)),he.exports}var Ge;function bt(){return Ge||(Ge=1,function(e){var o=xt();function i(n,a){if(n){if(typeof n=="string")return o(n,a);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(n,a):void 0}}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(pe)),pe.exports}var me={exports:{}},Ke;function yt(){return Ke||(Ke=1,function(e){function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(me)),me.exports}var Ue;function br(){return Ue||(Ue=1,function(e){var o=gt(),i=vt(),n=bt(),a=yt();function r(s,u){return o(s)||i(s,u)||n(s,u)||a()}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(ce)),ce.exports}var ge={exports:{}},ve={exports:{}},xe={exports:{}},Ye;function jt(){return Ye||(Ye=1,function(e){var o=te().default;function i(n,a){if(o(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,a||"default");if(o(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(xe)),xe.exports}var Ve;function Ct(){return Ve||(Ve=1,function(e){var o=te().default,i=jt();function n(a){var r=i(a,"string");return o(r)=="symbol"?r:r+""}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(ve)),ve.exports}var Qe;function yr(){return Qe||(Qe=1,function(e){var o=Ct();function i(n,a,r){return(a=o(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(ge)),ge.exports}var be={exports:{}},ye={exports:{}},Je;function _t(){return Je||(Je=1,function(e){function o(i,n){if(i==null)return{};var a={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(n.includes(r))continue;a[r]=i[r]}return a}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(ye)),ye.exports}var Xe;function jr(){return Xe||(Xe=1,function(e){var o=_t();function i(n,a){if(n==null)return{};var r,s,u=o(n,a);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(n);for(s=0;s<f.length;s++)r=f[s],a.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(u[r]=n[r])}return u}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(be)),be.exports}const Cr=qr(Nr);var L={},Ze;function _r(){if(Ze)return L;Ze=1,Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var e=K(),o=(0,e.createContext)({});return L.default=o,L}var $={},je={exports:{}},er;function Sr(){return er||(er=1,function(e){var o=yr();function i(a,r){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);r&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),s.push.apply(s,u)}return s}function n(a){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?i(Object(s),!0).forEach(function(u){o(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(je)),je.exports}var R={},D={},Ce={exports:{}},rr;function St(){return rr||(rr=1,function(e){function o(i){return i&&i.__esModule?i:{default:i}}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(Ce)),Ce.exports}var _e={exports:{}},Se={exports:{}},tr;function wt(){return tr||(tr=1,function(e){function o(i,n,a){return n in i?Object.defineProperty(i,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[n]=a,i}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(Se)),Se.exports}var nr;function Pt(){return nr||(nr=1,function(e){var o=wt();function i(a,r){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);r&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),s.push.apply(s,u)}return s}function n(a){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?i(Object(s),!0).forEach(function(u){o(a,u,s[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(s,u))})}return a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(_e)),_e.exports}var J={},ar;function Ot(){if(ar)return J;ar=1,Object.defineProperty(J,"__esModule",{value:!0}),J.default=e;function e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}return J}var X={},ir;function Tt(){if(ir)return X;ir=1,Object.defineProperty(X,"__esModule",{value:!0}),X.default=e;function e(o,i){if(!o)return!1;if(o.contains)return o.contains(i);for(var n=i;n;){if(n===o)return!0;n=n.parentNode}return!1}return X}var or;function Rt(){if(or)return D;or=1;var e=St().default;Object.defineProperty(D,"__esModule",{value:!0}),D.clearContainerCache=c,D.injectCSS=x,D.removeCSS=C,D.updateCSS=g;var o=e(Pt()),i=e(Ot()),n=e(Tt()),a="data-rc-order",r="data-rc-priority",s="rc-util-key",u=new Map;function f(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=d.mark;return p?p.startsWith("data-")?p:"data-".concat(p):s}function l(d){if(d.attachTo)return d.attachTo;var p=document.querySelector("head");return p||document.body}function m(d){return d==="queue"?"prependQueue":d?"prepend":"append"}function b(d){return Array.from((u.get(d)||d).children).filter(function(p){return p.tagName==="STYLE"})}function x(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,i.default)())return null;var v=p.csp,j=p.prepend,_=p.priority,P=_===void 0?0:_,O=m(j),A=O==="prependQueue",S=document.createElement("style");S.setAttribute(a,O),A&&P&&S.setAttribute(r,"".concat(P)),v!=null&&v.nonce&&(S.nonce=v==null?void 0:v.nonce),S.innerHTML=d;var q=l(p),M=q.firstChild;if(j){if(A){var F=(p.styles||b(q)).filter(function(E){if(!["prepend","prependQueue"].includes(E.getAttribute(a)))return!1;var ae=Number(E.getAttribute(r)||0);return P>=ae});if(F.length)return q.insertBefore(S,F[F.length-1].nextSibling),S}q.insertBefore(S,M)}else q.appendChild(S);return S}function h(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=l(p);return(p.styles||b(v)).find(function(j){return j.getAttribute(f(p))===d})}function C(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=h(d,p);if(v){var j=l(p);j.removeChild(v)}}function y(d,p){var v=u.get(d);if(!v||!(0,n.default)(document,v)){var j=x("",p),_=j.parentNode;u.set(d,_),d.removeChild(j)}}function c(){u.clear()}function g(d,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=l(v),_=b(j),P=(0,o.default)((0,o.default)({},v),{},{styles:_});y(j,P);var O=h(p,P);if(O){var A,S;if((A=P.csp)!==null&&A!==void 0&&A.nonce&&O.nonce!==((S=P.csp)===null||S===void 0?void 0:S.nonce)){var q;O.nonce=(q=P.csp)===null||q===void 0?void 0:q.nonce}return O.innerHTML!==d&&(O.innerHTML=d),O}var M=x(d,P);return M.setAttribute(f(P),p),M}return D}var z={},sr;function It(){if(sr)return z;sr=1,Object.defineProperty(z,"__esModule",{value:!0}),z.getShadowRoot=i,z.inShadow=o;function e(n){var a;return n==null||(a=n.getRootNode)===null||a===void 0?void 0:a.call(n)}function o(n){return e(n)instanceof ShadowRoot}function i(n){return o(n)?e(n):null}return z}var N={},lr;function qt(){if(lr)return N;lr=1,Object.defineProperty(N,"__esModule",{value:!0}),N.call=r,N.default=void 0,N.note=n,N.noteOnce=u,N.preMessage=void 0,N.resetWarned=a,N.warning=i,N.warningOnce=s;var e={},o=N.preMessage=function(l){};function i(f,l){}function n(f,l){}function a(){e={}}function r(f,l,m){!l&&!e[m]&&(f(!1,m),e[m]=!0)}function s(f,l){r(i,f,l)}function u(f,l){r(n,f,l)}return s.preMessage=o,s.resetWarned=a,s.noteOnce=u,N.default=s,N}var ur;function Ie(){if(ur)return R;ur=1;var e=ne().default,o=U().default;Object.defineProperty(R,"__esModule",{value:!0}),R.generate=C,R.getSecondaryColor=y,R.iconStyles=void 0,R.isIconDefinition=x,R.normalizeAttrs=h,R.normalizeTwoToneColors=c,R.useInsertStyles=R.svgBaseProps=void 0,R.warning=b;var i=o(Sr()),n=o(te()),a=Cr,r=Rt(),s=It(),u=o(qt()),f=e(K()),l=o(_r());function m(d){return d.replace(/-(.)/g,function(p,v){return v.toUpperCase()})}function b(d,p){(0,u.default)(d,"[@ant-design/icons] ".concat(p))}function x(d){return(0,n.default)(d)==="object"&&typeof d.name=="string"&&typeof d.theme=="string"&&((0,n.default)(d.icon)==="object"||typeof d.icon=="function")}function h(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(d).reduce(function(p,v){var j=d[v];switch(v){case"class":p.className=j,delete p.class;break;default:delete p[v],p[m(v)]=j}return p},{})}function C(d,p,v){return v?f.default.createElement(d.tag,(0,i.default)((0,i.default)({key:p},h(d.attrs)),v),(d.children||[]).map(function(j,_){return C(j,"".concat(p,"-").concat(d.tag,"-").concat(_))})):f.default.createElement(d.tag,(0,i.default)({key:p},h(d.attrs)),(d.children||[]).map(function(j,_){return C(j,"".concat(p,"-").concat(d.tag,"-").concat(_))}))}function y(d){return(0,a.generate)(d)[0]}function c(d){return d?Array.isArray(d)?d:[d]:[]}R.svgBaseProps={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};var g=R.iconStyles=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;return R.useInsertStyles=function(p){var v=(0,f.useContext)(l.default),j=v.csp,_=v.prefixCls,P=v.layer,O=g;_&&(O=O.replace(/anticon/g,_)),P&&(O="@layer ".concat(P,` {
`).concat(O,`
}`)),(0,f.useEffect)(function(){var A=p.current,S=(0,s.getShadowRoot)(A);(0,r.updateCSS)(O,"@ant-design-icons",{prepend:!P,csp:j,attachTo:S})},[])},R}var cr;function wr(){if(cr)return $;cr=1;var e=U().default,o=ne().default;Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var i=e(jr()),n=e(Sr()),a=o(K()),r=Ie(),s=["icon","className","onClick","style","primaryColor","secondaryColor"],u={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function f(b){var x=b.primaryColor,h=b.secondaryColor;u.primaryColor=x,u.secondaryColor=h||(0,r.getSecondaryColor)(x),u.calculated=!!h}function l(){return(0,n.default)({},u)}var m=function(x){var h=x.icon,C=x.className,y=x.onClick,c=x.style,g=x.primaryColor,d=x.secondaryColor,p=(0,i.default)(x,s),v=a.useRef(),j=u;if(g&&(j={primaryColor:g,secondaryColor:d||(0,r.getSecondaryColor)(g)}),(0,r.useInsertStyles)(v),(0,r.warning)((0,r.isIconDefinition)(h),"icon should be icon definiton, but got ".concat(h)),!(0,r.isIconDefinition)(h))return null;var _=h;return _&&typeof _.icon=="function"&&(_=(0,n.default)((0,n.default)({},_),{},{icon:_.icon(j.primaryColor,j.secondaryColor)})),(0,r.generate)(_.icon,"svg-".concat(_.name),(0,n.default)((0,n.default)({className:C,onClick:y,style:c,"data-icon":_.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},p),{},{ref:v}))};return m.displayName="IconReact",m.getTwoToneColors=l,m.setTwoToneColors=f,$.default=m,$}var G={},dr;function Nt(){if(dr)return G;dr=1;var e=U().default;Object.defineProperty(G,"__esModule",{value:!0}),G.getTwoToneColor=r,G.setTwoToneColor=a;var o=e(br()),i=e(wr()),n=Ie();function a(s){var u=(0,n.normalizeTwoToneColors)(s),f=(0,o.default)(u,2),l=f[0],m=f[1];return i.default.setTwoToneColors({primaryColor:l,secondaryColor:m})}function r(){var s=i.default.getTwoToneColors();return s.calculated?[s.primaryColor,s.secondaryColor]:s.primaryColor}return G}var fr;function At(){if(fr)return H;fr=1;var e=U().default,o=ne().default;Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var i=e(xr()),n=e(br()),a=e(yr()),r=e(jr()),s=o(K()),u=e(Ar()),f=Cr,l=e(_r()),m=e(wr()),b=Nt(),x=Ie(),h=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,b.setTwoToneColor)(f.blue.primary);var C=s.forwardRef(function(y,c){var g=y.className,d=y.icon,p=y.spin,v=y.rotate,j=y.tabIndex,_=y.onClick,P=y.twoToneColor,O=(0,r.default)(y,h),A=s.useContext(l.default),S=A.prefixCls,q=S===void 0?"anticon":S,M=A.rootClassName,F=(0,u.default)(M,q,(0,a.default)((0,a.default)({},"".concat(q,"-").concat(d.name),!!d.name),"".concat(q,"-spin"),!!p||d.name==="loading"),g),E=j;E===void 0&&_&&(E=-1);var ae=v?{msTransform:"rotate(".concat(v,"deg)"),transform:"rotate(".concat(v,"deg)")}:void 0,Pr=(0,x.normalizeTwoToneColors)(P),qe=(0,n.default)(Pr,2),Or=qe[0],Tr=qe[1];return s.createElement("span",(0,i.default)({role:"img","aria-label":d.name},O,{ref:c,tabIndex:E,onClick:_,className:F}),s.createElement(m.default,{icon:d,primaryColor:Or,secondaryColor:Tr,style:ae}))});return C.displayName="AntdIcon",C.getTwoToneColor=b.getTwoToneColor,C.setTwoToneColor=b.setTwoToneColor,H.default=C,H}var pr;function kt(){if(pr)return W;pr=1;var e=ne().default,o=U().default;Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var i=o(xr()),n=e(K()),a=o(mt()),r=o(At()),s=function(l,m){return n.createElement(r.default,(0,i.default)({},l,{ref:m,icon:a.default}))},u=n.forwardRef(s);return W.default=u,W}var Dt=kt();const Mt=kr(Dt),Pe="TD_ADMIN_SUSPECTS_PROMPT",Oe="TD_ADMIN_SUSPECTS_PROMPT_SUFFIX";function Et(){const[e,o]=I.useState(localStorage.getItem(Pe)??"Make a pixar version of this image, keep the Polaroid frame and aspect ratio at 2:3. It's a"),[i,n]=I.useState(localStorage.getItem(Oe)==="true"),a=s=>{const u=s.target.value;o(u),localStorage.setItem(Pe,u)},r=s=>{n(s),localStorage.setItem(Oe,s?"true":"false")};return t.jsxs(T,{align:"center",className:"my-2",gap:8,children:[t.jsx(w.Text,{children:"Prompt Prefix:"}),t.jsx(gr,{onChange:a,placeholder:"AI Prompt",style:{width:320},value:e}),t.jsx(ee,{checked:i,checkedChildren:"Include Features",onChange:r,unCheckedChildren:"No Features"})]})}function hr({suspect:e}){const o=$r(),i=()=>{let a=`${localStorage.getItem(Pe)??""} ${e.prompt}`;localStorage.getItem(Oe)==="true"&&(a+=` make sure it has the following features: ${e.features.join(", ")}`),console.log(a),o(a)};return t.jsx(Te,{onClick:i,size:"small",children:t.jsx(Mt,{})})}function Bt({data:e,addEntryToUpdate:o}){const{addParam:i,queryParams:n}=re(),[a,r]=I.useState("cards"),s=n.get("variant")??"gb",u=n.get("sortBy")??"id",f=Number(n.get("cardsPerRow"))||10,l=n.get("activeFeature")||"",m=n.get("suspectId"),[b,x]=Hr(f,{margin:0,gap:8}),h=I.useMemo(()=>k.orderBy(Object.values(e),c=>u==="id"?Number(c.id.split("-").at(-1)):u==="name.pt"?Y(c.name.pt).toLowerCase():u==="name.en"?Y(c.name.en).toLowerCase():c[u]??c.id,["asc"]),[e,u]),C=(c,g)=>{const d=e[c];if(!d)return;const p=d.features||[];p.includes(g)?o(c,{...d,features:p.filter(v=>v!==g)}):o(c,{...d,features:[...p,g]})},y=I.useMemo(()=>[{title:"ID",dataIndex:"id",key:"id",width:80,sorter:(c,g)=>Number(c.id.split("-").at(-1))-Number(g.id.split("-").at(-1)),render:(c,g)=>t.jsxs(T,{align:"center",gap:4,vertical:!0,children:[t.jsxs(T,{align:"center",gap:6,children:[t.jsx(V,{children:c})," ",t.jsx(hr,{suspect:g})]}),t.jsx(we,{className:"suspect__image",id:g.id,width:b/1.5})]})},{title:"Name (PT)",dataIndex:["name","pt"],key:"name.pt",sorter:(c,g)=>Y(c.name.pt.toLocaleLowerCase()).localeCompare(Y(g.name.pt.toLocaleLowerCase())),render:(c,g)=>t.jsxs(T,{vertical:!0,children:[t.jsx(w.Text,{children:g.name.pt}),t.jsx(w.Text,{children:g.name.en})]})},{title:"Note",dataIndex:"note",key:"note",render:c=>t.jsx(w.Text,{type:"secondary",children:k.truncate(c,{length:30})})},{title:"Gender",dataIndex:"gender",key:"gender",sorter:(c,g)=>c.gender.localeCompare(g.gender)},{title:"Age",dataIndex:"age",key:"age",render:c=>t.jsx(V,{children:c}),sorter:(c,g)=>c.age.localeCompare(g.age)},{title:"Ethnicity",dataIndex:"ethnicity",key:"ethnicity",sorter:(c,g)=>c.ethnicity.localeCompare(g.ethnicity)},{title:"Build",dataIndex:"build",key:"build",sorter:(c,g)=>c.build.localeCompare(g.build)},{title:"Height",dataIndex:"height",key:"height",sorter:(c,g)=>c.height.localeCompare(g.height)},{title:"Features",dataIndex:"features",key:"features",sorter:(c,g)=>c.features.length-g.features.length,render:(c,g)=>t.jsxs(T,{gap:8,vertical:!0,children:[t.jsx(T,{gap:8,wrap:"wrap",children:c.map(d=>t.jsx(V,{children:d},d))}),!!l&&t.jsxs(T,{className:"mt-2 mb-4",gap:8,children:[t.jsxs(w.Text,{keyboard:!0,children:[l,":"]}),t.jsx(ee,{checked:c==null?void 0:c.includes(l),checkedChildren:"âœ“",onChange:()=>C(g.id,l),unCheckedChildren:"âœ—"})]})]})}],[l,b]);return t.jsxs(t.Fragment,{children:[t.jsxs(T,{align:"center",justify:"space-between",children:[t.jsxs(w.Title,{level:2,children:["Deck ",s," (",h.length,")"]}),t.jsx(zr,{onChange:c=>r(c),options:[{value:"cards",icon:t.jsx(Kr,{})},{value:"table",icon:t.jsx(Dr,{})}]})]}),t.jsxs(Me,{children:[t.jsx(ht,{})," ",t.jsx(Et,{})]}),t.jsxs(Mr.PreviewGroup,{children:[a==="cards"&&t.jsx(Me,{className:"my-2",ref:x,wrap:!0,children:h.map(c=>{var g,d,p;return t.jsxs("div",{className:"suspect",style:{width:`${b}px`},children:[t.jsx(we,{className:"suspect__image",id:c.id,width:b}),t.jsxs("div",{className:"suspect__name",children:[t.jsxs(T,{align:"center",gap:6,children:[t.jsx(V,{children:c.id})," ",t.jsx(hr,{suspect:c})]}),t.jsx(w.Text,{italic:!0,type:"secondary",children:t.jsx("small",{children:k.truncate(c.note||"-",{length:18})})}),t.jsxs("div",{children:["ðŸ‡§ðŸ‡· ",c.name.pt]}),t.jsxs("div",{children:["ðŸ‡ºðŸ‡¸ ",c.name.en]}),t.jsxs("div",{className:"suspect__info",style:Ft(c),children:[t.jsxs("div",{children:[t.jsxs("div",{children:[c.gender==="male"?t.jsx(Ur,{}):t.jsx(Yr,{})," ",c.age]}),t.jsx("div",{children:t.jsx("em",{children:c.ethnicity})})]}),t.jsxs("div",{className:"uppercase",children:[t.jsx(Vr,{}),t.jsx("br",{}),c.build.charAt(0)]}),t.jsxs("div",{className:"uppercase",children:[t.jsx(Qr,{}),t.jsx("br",{}),c.height.charAt(0)]}),t.jsxs("div",{children:[((g=c==null?void 0:c.features)==null?void 0:g.length)??0," features"]})]}),t.jsx(Te,{block:!0,danger:!(c!=null&&c.features)||((d=c==null?void 0:c.features)==null?void 0:d.length)<2,onClick:()=>i("suspectId",c.id),size:"small",children:t.jsx(ot,{})}),!!l&&t.jsxs(T,{className:"mt-2 mb-4",gap:8,children:[t.jsxs(w.Text,{keyboard:!0,children:[l,":"]}),t.jsx(ee,{checked:(p=c.features)==null?void 0:p.includes(l),checkedChildren:"âœ“",onChange:()=>C(c.id,l),unCheckedChildren:"âœ—"})]})]})]},c.id)})},s),a==="table"&&t.jsx(Jr,{columns:y,dataSource:h,pagination:!1,rowKey:"id"})]}),t.jsx(ct,{addEntryToUpdate:o,data:e},m)]})}const Ft=e=>!e.build||!e.height||e.build.length===1||e.height.length===1?{borderColor:"red"}:{};function B(e,o){return k.orderBy(Object.entries(e).map(([i,n])=>({key:i,label:k.capitalize(i),value:n,percentage:Math.round(n/o*100)})),["percentage"],["desc"])}function Wt({data:e}){const[o,i]=I.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(Te,{block:!0,onClick:()=>i(!0),children:"See Stats"}),o&&t.jsx(Ht,{data:e,onClose:()=>i(!1),open:o})]})}function Ht({data:e,open:o,onClose:i}){const{ages:n,ethnicities:a,genders:r,builds:s,heights:u}=I.useMemo(()=>{const l={},m={},b={},x={},h={};Object.values(e).forEach(y=>{l[y.age]=(l[y.age]??0)+1,m[y.ethnicity]=(m[y.ethnicity]??0)+1,b[y.gender]=(b[y.gender]??0)+1,x[y.build||"?"]=(x[y.build||"?"]??0)+1,h[y.height||"?"]=(h[y.height||"?"]??0)+1});const C=Object.keys(e).length;return{ages:B(l,C),ethnicities:B(m,C),genders:B(b,C),builds:B(x,C),heights:B(h,C)}},[e]),f=I.useMemo(()=>{const l={};Object.values(e).forEach(x=>{var h;(h=x.features)==null||h.forEach(C=>{l[C]=(l[C]??0)+1})});const m=Object.keys(e).length,b=Re.reduce((x,h)=>{const C=h.features.map(y=>y.id);return x.push(...C),x},[]);return k.orderBy(B(l,m),x=>b.findIndex(h=>h===x.key),["asc"])},[e]);return t.jsxs(mr,{onClose:i,open:o,placement:"right",title:"Suspects Statistics",width:400,children:[t.jsx(w.Text,{strong:!0,children:"Ethnicity"}),t.jsx("ul",{className:"statistic__list",children:a.map(l=>t.jsxs("li",{children:[t.jsx("strong",{children:l.label})," - ",l.percentage,"%"]},l.key))}),t.jsx(w.Text,{strong:!0,children:"Gender"}),t.jsx("ul",{className:"statistic__list",children:r.map(l=>t.jsxs("li",{children:[t.jsx("strong",{children:l.label})," - ",l.percentage,"%"]},l.key))}),t.jsx(w.Text,{strong:!0,children:"Age"}),t.jsx("ul",{className:"statistic__list",children:n.map(l=>t.jsxs("li",{children:[t.jsx("strong",{children:l.label})," - ",l.percentage,"%"]},l.key))}),t.jsx(w.Text,{strong:!0,children:"Build"}),t.jsx("ul",{className:"statistic__list",children:s.map(l=>t.jsxs("li",{children:[t.jsx("strong",{children:l.label})," - ",l.percentage,"%"]},l.key))}),t.jsx(w.Text,{strong:!0,children:"Height"}),t.jsx("ul",{className:"statistic__list",children:u.map(l=>t.jsxs("li",{children:[t.jsx("strong",{children:l.label})," - ",l.percentage,"%"]},l.key))}),t.jsx(w.Text,{strong:!0,children:"Features"}),t.jsx("ul",{className:"statistic__list",children:f.map(l=>t.jsxs("li",{children:[t.jsx("strong",{children:l.label})," - ",l.percentage,"% (",l.value,")"]},l.key))})]})}const Lt=[{value:"ct",label:"Cartoon (deprecated)"},{value:"ai",label:"AI (deprecated)"},{value:"md",label:"Models (deprecated)"},{value:"wc",label:"Wacky (deprecated)"}],$t=[{value:"id",label:"Id"},{value:"name.pt",label:"Name (PT)"},{value:"name.en",label:"Name (EN)"},{value:"ethnicity",label:"Ethnicity"},{value:"gender",label:"Gender"},{value:"age",label:"Age"},{value:"height",label:"Height"},{value:"build",label:"Build"}];function zt({data:e,save:o,isDirty:i,isSaving:n,entriesToUpdate:a,hasFirestoreData:r}){const{addParam:s,queryParams:u}=re();return t.jsxs(Xr,{children:[t.jsxs(T,{gap:12,vertical:!0,children:[t.jsx(rt,{dirt:JSON.stringify(a),isDirty:i,isSaving:n,onSave:o}),t.jsx(Zr,{block:!0,data:()=>Gt(e),disabled:i,fileName:"suspects.json",hasNewData:r}),t.jsx(et,{className:"text-center",path:"tdr/suspects"})]}),t.jsx(Er,{}),t.jsx(tt,{}),t.jsx(Gr,{label:"Cards Per Row",max:12,min:2,onChange:f=>s("cardsPerRow",f),value:Number(u.get("cardsPerRow")??"10")}),t.jsx(De,{label:"Sort By",onChange:f=>s("sortBy",f),options:$t,value:u.get("sortBy")??"id"}),t.jsx(De,{label:"Other Versions",onChange:f=>s("variant",f),options:Lt,value:u.get("variant")??"gb"}),t.jsx(Wt,{data:e})]})}function Gt(e){const o=k.cloneDeep(e);for(const i in o){const n=o[i];n.name.pt.endsWith(".")&&(n.name.pt=n.name.pt.slice(0,-1).trim()),n.name.en.endsWith(".")&&(n.name.en=n.name.en.slice(0,-1).trim()),Number(n.id.match(/\d+/))>114&&(n.gbExclusive=!0)}return Lr(o,["gender","ethnicity","age","height","build","features"])}function Ln(){const e=nt({tdrResourceName:"suspects",firestoreDataCollectionName:"suspects",serialize:!0});return t.jsx(Br,{subtitle:"Information",title:"Suspects",children:t.jsxs(Ne,{hasSider:!0,children:[t.jsx(Wr,{children:t.jsx(zt,{...e})}),t.jsx(Ne.Content,{className:"content",children:t.jsx(Fr,{error:e.error,hasResponseData:!k.isEmpty(e.data),isLoading:e.isLoading,children:t.jsx(Bt,{...e})})})]})})}export{Ln as default};
