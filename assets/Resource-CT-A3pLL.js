import{j as r,r as c,T as f,P as F,L as g}from"./index-BNJYKVIC.js";import{R as T}from"./ResponseState-BZX1qR8r.js";import{D as N}from"./DataLoadingWrapper-DdDgtoI9.js";import{P}from"./useBaseUrl-CnhjxzNY.js";import{L as x}from"./LanguageFlag-CVEjV-W1.js";import{R as $}from"./FireFilled-VAvgvixH.js";import{F as m}from"./index-FDrAMI0R.js";import{T as D}from"./index-aBvBbvdh.js";import{C as I}from"./index-CaJNatTm.js";import{R as h,C as u}from"./index-BxojlLAl.js";import{F as w}from"./FilterEntries-CCoAyxlA.js";import{S as A}from"./SiderContent-hSemqOY9.js";import{u as v}from"./useQueryParams-DLTpWxK3.js";import{R as J}from"./FileTextOutlined-D340_M9j.js";import{R as M}from"./TableOutlined-Co5m5TvT.js";import{R as _}from"./AppstoreOutlined-BepCDSR3.js";import{C}from"./CopyToClipboardButton-DYVnB9r_.js";import{S as q,R as W}from"./constants-DeGr9eff.js";import{S as z}from"./SearchDuplicates-CcvsXkSc.js";import{I as B}from"./index-CuHbruYb.js";import{u as H,R as Q}from"./useResourceState-Cr1bmMvV.js";import{F as U}from"./Table-CRIM2HBm.js";import"./gapSize-U1swVQyS.js";import"./index-r9K_hLPp.js";import"./PlusOutlined-BDsC9wFV.js";import"./index-PmBYYg5g.js";import"./index-B4ksTH7Q.js";import"./index-BqxBltHX.js";import"./useCopyToClipboardFunction-D1E4SsD2.js";import"./Item-_XCH4_tE.js";import"./index-C9mPKTN_.js";import"./SectionTitle-83PmK3CW.js";import"./Input-B6Tvl3x4.js";import"./index-D5MZdaPn.js";import"./index-BwvjNAnM.js";import"./index-HOUFTjH0.js";import"./scrollTo-nlbBddAi.js";import"./Pagination-CSwq09lh.js";function j({children:e}){return r.jsx(D,{children:e})}function d({children:e}){return r.jsx("span",{children:e})}function E({label:e,children:s}){return r.jsxs(m,{children:[r.jsx("div",{children:r.jsx(j,{children:e})}),r.jsx(d,{children:s})]})}function R({label:e,children:s}){return r.jsxs(m,{children:[r.jsx("div",{children:r.jsx(j,{children:e})}),r.jsx("ul",{className:"resource-card__list",children:s})]})}function b({children:e}){return r.jsx("li",{children:e})}function y({label:e,children:s}){const i=r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(x,{language:"en",width:"1em"})," ",s.en]}),r.jsxs("div",{children:[r.jsx(x,{language:"pt",width:"1em"})," ",s.pt]})]});return e?r.jsxs(m,{children:[r.jsx("div",{children:r.jsx(j,{children:e})}),r.jsx(d,{children:i})]}):r.jsx(d,{children:i})}function V({label:e="language",children:s}){return s?r.jsxs(m,{children:[r.jsx("div",{children:r.jsx(j,{children:e})}),r.jsx(d,{children:r.jsx(x,{language:s,width:"1em"})})]}):null}function Y({value:e}){return e?r.jsx(E,{label:"nsfw",children:r.jsx($,{style:{color:"hotpink"}})}):null}function G({entry:e,kind:s}){const i=Object.keys(e).filter(n=>n!=="id"),o=c.useMemo(()=>i.map(n=>{if(n==="id")return null;const t=e[n];return t==null?null:n==="nsfw"?r.jsx(Y,{value:t}):O(t)?r.jsx(y,{label:n,children:t}):Z(t)?r.jsx(V,{label:n,children:t}):K(t)?r.jsx(E,{label:n,children:t}):X(t)?r.jsx(R,{label:n,children:t.map((a,l)=>r.jsx(b,{children:a},`${e.id}-${a}-${l}`))}):k(t)?r.jsx(R,{label:n,children:Object.values(e.values).map((a,l)=>r.jsx(b,{children:r.jsx(y,{children:a})},`${e.id}-${a}-${l}`))}):(console.log("Skip",n,t),r.jsx(c.Fragment,{},n))}),[s]);return r.jsx(I,{className:"resource-card",size:"small",title:e.id,children:o})}const O=e=>typeof e=="object"&&e.pt&&e.en,K=e=>typeof e=="string"||typeof e=="number",L=e=>Array.isArray(e),X=e=>L(e)&&typeof e[0]=="string",Z=e=>e==="pt"||e==="en",k=e=>L(e)&&O(e[0]);function rr({response:e,resourceName:s}){const i=Object.values(e);return r.jsxs(r.Fragment,{children:[r.jsxs(f.Title,{level:2,children:["Cards (",i.length,")"]}),r.jsx(h,{gutter:[16,16],children:i.map(o=>r.jsx(u,{lg:8,md:4,sm:6,xl:6,xs:6,children:r.jsx(G,{entry:o,kind:s??""})},o.id))})]})}function er(){const{queryParams:e,addParam:s}=v();return r.jsx(A,{children:r.jsx(w,{label:"Display",onChange:i=>s("display",i),options:[{title:"JSON",icon:r.jsx(J,{}),value:"json"},{title:"Table",icon:r.jsx(M,{}),value:"table"},{title:"Cards",icon:r.jsx(_,{}),value:"cards"}],value:e.get("display")??"json"})})}function sr({response:e,resourceName:s}){const i=s?q[s]:"text",o=c.useMemo(()=>JSON.stringify(e,null,4),[e]);return r.jsxs(r.Fragment,{children:[r.jsxs(f.Title,{level:2,children:["JSON ",r.jsx(C,{content:o})]}),r.jsxs(h,{gutter:16,children:[r.jsx(u,{span:16,children:r.jsx(B.TextArea,{cols:15,id:"",name:"output",readOnly:!0,rows:30,value:o})}),r.jsx(u,{span:8,children:r.jsx(z,{property:i,response:e})})]})]})}function tr({response:e}){const s=Object.values(e),i=c.useMemo(()=>{const o={};return s.forEach(n=>{Object.keys(n).forEach(t=>{o[t]===void 0&&(o[t]=!0)})}),Object.keys(o).map(n=>({title:n,dataIndex:n,key:n,render:t=>{const a=typeof t=="string"?t:JSON.stringify(t,null,2);return r.jsxs("span",{children:[a," ",!!a.trim()&&r.jsx(C,{content:a})]})}}))},[s]);return r.jsxs(r.Fragment,{children:[r.jsxs(f.Title,{level:2,children:["Table (",s.length,")"]}),r.jsx(h,{gutter:16,children:r.jsx(u,{span:24,children:r.jsx(U,{columns:i,dataSource:s})})})]})}const S=Object.values(W);function zr(){const{resourceName:e="",language:s="",isLoading:i,enabled:o,error:n,hasResponseData:t,response:a}=H(S),{queryParams:l}=v(),p=l.get("display")??"json";return r.jsx(F,{subtitle:e&&s?`Data for ${e}-${s}`:"",title:"Resource",children:r.jsxs(g,{hasSider:!0,children:[r.jsxs(P,{children:[r.jsx(T,{error:n,hasResponseData:t,isIdle:!o,isLoading:i}),r.jsx(Q,{resourceNames:S}),r.jsx(er,{})]}),r.jsx(g.Content,{className:"content",children:r.jsxs(N,{error:n,hasResponseData:t,isIdle:!o,isLoading:i,children:[p==="json"&&r.jsx(sr,{resourceName:e??"",response:a??{}}),p==="table"&&r.jsx(tr,{resourceName:e??"",response:a??{}}),p==="cards"&&r.jsx(rr,{resourceName:e??"",response:a??{}})]})})]})})}export{zr as default};
