import{l as O}from"./useBaseUrl-BFpYqAji.js";const V=(n,l,a,b)=>{const{reliabilityThreshold:u=4,projectionThreshold:p=55}={},i=`us-gb-${n.split("-")[1]}`,t=O.isEmpty(a[n])?[]:a[n],o=t.some(e=>e===32||e===-32);let f=0,c=0,s=0,M=0,r=0;t.forEach(e=>{e===32?f+=35:e===-32?c+=35:e===4?f+=4:e===-4?c+=4:e>0?s+=e:e<0&&(M+=Math.abs(e)),r+=Math.abs(e)});const C=s+M,y=Math.max(r,u),h=r===0?0:Math.round((f+s)/y*100),m=r===0?0:Math.round((c+M)/y*100),d=f+s,A=c+M,S=r===0?100:Math.round((y-d-A)/y*100),T=o||r>=u,D=o||C>u/1.5||r>=4,E=D&&r>u&&Math.abs(h-m)>=40,j=E&&Math.abs(h-m)>40?h>m?"ğŸ‘":"ğŸ‘":null,x=Math.abs(h-m)<50?null:h>=p?"ğŸ‘":m>=p?"ğŸ‘":null;return{suspectCardId:n,imageId:i,questionId:l,enoughData:D,reliable:E,total:r,yesCount:d,yesPercentage:h,noCount:A,noPercentage:m,blankPercentage:S,complete:T,values:t,resolution:j,projection:x}};function k(n){const l=n.map(t=>t===0?-1:t),a=n.filter(t=>t===-32||t===32||t===4||t===-4),b=l.filter(t=>t===-1||t===1),u=l.filter(t=>![-32,32,4,-4,-1,1].includes(t)).flatMap(t=>Array.from({length:Math.abs(t)},()=>t>0?1:-1)),p=[...b,...u].sort((t,o)=>t-o),g={"-1":0,1:0};p.forEach(t=>{(t===-1||t===1)&&(g[t]+=1)});const i=8;for(const[t,o]of Object.entries(g)){const f=Math.floor(o/i),c=o%i;for(let s=0;s<f;s++)a.push(t==="-1"?-i:i);if(c>0){const s=Array.from({length:c},()=>t==="-1"?-1:1);a.push(...s)}}return a.sort((t,o)=>t-o)}const F=n=>n.reduce((l,a)=>{const b=Math.abs(a);return b?l+b:l},0);export{V as a,F as c,k as n};
