import{r as x,a as H,_ as B,j as s,T as U,B as V,Z as te,a0 as se,b1 as Ae,aj as O,af as Ee,D as we,b2 as Le,b3 as Oe,Y as Ne,X as Te,$ as oe,P as Me,L as le}from"./index-BpOPtDno.js";import{u as he}from"./useQueryParams-0iU09vdH.js";import{R as fe}from"./main-CmHhfdXr.js";import{a as Re,C as Ye,u as ge}from"./useArteRuimDrawings-Cw0W7WFe.js";import{u as xe}from"./useMutation-DYAWxsN6.js";import{g as Ge,u as _e}from"./useGetFirestoreDoc-b19109Z3.js";import{h as _}from"./moment-C5S46NFB.js";import{a as ne,m as ke,r as Pe}from"./index-DDOyUl_x.js";import{F as b}from"./index-CoMLl3xt.js";import{S as Q}from"./index-Opn2dpJE.js";import{I as ie}from"./index-SF4J-b2h.js";import{T as Qe,a as ee,F as qe}from"./FilterEntries-Ca_ivSrS.js";import{T as $}from"./index-BVwjVxAw.js";import{S as Ve}from"./index-DixHne5n.js";import{F as Fe}from"./FirestoreConsoleLink-C75tSe7R.js";import{C as Ue}from"./CopyToClipboardButton-DW3Ty4bb.js";import{I as ce}from"./ImageCard-BNF_1J-X.js";import{f as $e,W as He,d as q,g as K}from"./constants-CR1AS5tN.js";import{I as F}from"./Item-E5GiKY6X.js";import{l as m,P as Be}from"./useBaseUrl-DGQ0WeaR.js";import{g as We,u as k,D as j,a as P,c as je,L as Ie}from"./constants-hr1a1cN0.js";import{R as ze,a as Je}from"./DoubleRightOutlined-BiilVoOD.js";import{F as ye}from"./Table-DPJJWGVM.js";import{D as Ke}from"./DataLoadingWrapper-B86QopG6.js";import{u as N}from"./useTDResource-Gj2sjeOb.js";import{u as re}from"./useLoadWordLibrary-DUd99IG1.js";import{u as Ze}from"./daily-teoria-de-conjuntos-PWBVUj8N.js";import{u as ve}from"./useDailyHistoryQuery-CcTWWHvG.js";import{R as Xe}from"./SaveOutlined-BgQlvX8X.js";import{S as et}from"./SiderContent-B5DdMimI.js";import"./gapSize-U1swVQyS.js";import"./Input-Bu1Bxuxa.js";import"./index-BJjapmBU.js";import"./index-Bso3DuBd.js";import"./index-D5RiZbBy.js";import"./useCopyToClipboardFunction-CS1IN1Vw.js";import"./CopyOutlined-Ca3mpWe6.js";import"./Pagination-CUJ_Pm05.js";import"./index-BKCVE1-P.js";import"./index-aKvSwoWC.js";import"./scrollTo-Bn6L7X6K.js";import"./extendsObject-keMuGWqj.js";var tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},st={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 .5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2.6-93.4-62.7-172.1-148.6-194.9z"}},{tag:"path",attrs:{d:"M376.9 656.4c1.8-33.5 15.7-64.7 39.5-88.6 25.4-25.5 60-39.8 96-39.8 36.2 0 70.3 14.1 96 39.8 1.4 1.4 2.7 2.8 4.1 4.3l-25 19.6a8 8 0 003 14.1l98.2 24c5 1.2 9.9-2.6 9.9-7.7l.5-101.3c0-6.7-7.6-10.5-12.9-6.3L663 532.7c-36.6-42-90.4-68.6-150.5-68.6-107.4 0-195 85.1-199.4 191.7-.2 4.5 3.4 8.3 8 8.3H369c4.2-.1 7.7-3.4 7.9-7.7zM703 664h-47.9c-4.2 0-7.7 3.3-8 7.6-1.8 33.5-15.7 64.7-39.5 88.6-25.4 25.5-60 39.8-96 39.8-36.2 0-70.3-14.1-96-39.8-1.4-1.4-2.7-2.8-4.1-4.3l25-19.6a8 8 0 00-3-14.1l-98.2-24c-5-1.2-9.9 2.6-9.9 7.7l-.4 101.4c0 6.7 7.6 10.5 12.9 6.3l23.2-18.2c36.6 42 90.4 68.6 150.5 68.6 107.4 0 195-85.1 199.4-191.7.2-4.5-3.4-8.3-8-8.3z"}}]},name:"cloud-sync",theme:"outlined"},nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},it={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M396 512a112 112 0 10224 0 112 112 0 10-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]},name:"eye",theme:"filled"},at=function(i,n){return x.createElement(H,B({},i,{ref:n,icon:tt}))},ot=x.forwardRef(at),lt=function(i,n){return x.createElement(H,B({},i,{ref:n,icon:st}))},ct=x.forwardRef(lt),dt=function(i,n){return x.createElement(H,B({},i,{ref:n,icon:nt}))},ut=x.forwardRef(dt),mt=function(i,n){return x.createElement(H,B({},i,{ref:n,icon:rt}))},pt=x.forwardRef(mt),ht=function(i,n){return x.createElement(H,B({},i,{ref:n,icon:it}))},ft=x.forwardRef(ht);function gt(){const[t,i]=x.useState(""),[n,o]=x.useState(7),[e,r]=x.useState(!1),[a,l]=x.useState(!1),[c,d]=x.useState(""),{isLoading:p,isError:u,data:g}=xt(t,n,a),h=I=>{r(!1),l(!1),i(I.trim())},y=I=>{l(!1),o(I)},A=()=>{const I=_(t,"YYYY-MM-DD",!0).isValid();r(I),l(I)},S=x.useMemo(()=>{if(!g||Object.keys(g).length===0)return{};if(!c)return g;const I=c;if(!Object.values(g).every(v=>v==null?void 0:v[I]))return g;const C={};return Object.values(g).forEach(v=>{const f=v==null?void 0:v[I],T=f==null?void 0:f.number;C[T]&&console.error(`Duplicate entry for game ${I} with number ${T}`),C[T]=ne(f,["number","language","text"])}),C},[g,c]);return s.jsxs("div",{children:[s.jsx(U.Title,{level:2,children:"Data Archive"}),s.jsxs(b,{justify:"space-between",align:"center",className:"mb-6",children:[s.jsxs(b,{gap:12,align:"center",children:[s.jsxs(Q.Compact,{children:[s.jsx(ie,{placeholder:"YYYY-MM-DD",value:t,onChange:I=>h(I.target.value)}),s.jsx(Qe,{min:1,max:100,value:n,onChange:I=>y(I??1)}),s.jsx(V,{type:"primary",onClick:A,disabled:!t||!_(t,"YYYY-MM-DD",!0).isValid(),children:"Load"})]}),t&&s.jsxs("span",{children:[s.jsx($,{children:t}),n>1&&s.jsxs(s.Fragment,{children:["to"," ",s.jsx($,{children:_(t).add(n-1,"days").format("YYYY-MM-DD")})]})]}),s.jsx("span",{children:s.jsx($,{color:p?"blue":u?"red":e?"green":"gray",children:p?"Loading...":u?"Error":e?"Valid":"Ready"})})]}),s.jsxs(b,{gap:12,align:"center",children:[s.jsx(jt,{}),s.jsx(Ve,{style:{width:200},placeholder:"Filter by game",allowClear:!0,onChange:I=>d(I),options:[{value:"",label:"All games"},{value:"aqui-o",label:"Aqui Ã“"},{value:"arte-ruim",label:"Arte Ruim"},{value:"artista",label:"Artista"},{value:"comunicacao-alienigena",label:"ComunicaÃ§Ã£o AlienÃ­gena"},{value:"controle-de-estoque",label:"Controle de Estoque"},{value:"filmaco",label:"FilmaÃ§o"},{value:"palavreado",label:"Palavreado"},{value:"portais-magicos",label:"Portais MÃ¡gicos"},{value:"quartetos",label:"Quartetos"},{value:"ta-na-cara",label:"TÃ¡ na Cara"},{value:"teoria-de-conjuntos",label:"Teoria de Conjuntos"}]})]})]}),s.jsx(fe,{src:S,theme:"twilight",collapsed:1})]})}const xt=(t,i,n)=>{const o=x.useMemo(()=>{if(!n||!_(t,"YYYY-MM-DD",!0).isValid())return[];const c=[],d=_(t);for(let p=0;p<i;p++){const u=d.clone().add(p,"days").format("YYYY-MM-DD");c.push({queryKey:["firebase","diario",u],queryFn:Ge("diario",u),enabled:!0})}return c},[t,i,n]),e=Re({queries:o}),r=e.some(c=>c.isLoading),a=e.some(c=>c.isError),l=x.useMemo(()=>r||a?{}:e.reduce((c,d,p)=>{if(d.data&&Object.keys(d.data).length>0){const u=_(t).add(p,"days").format("YYYY-MM-DD");c[u]=d.data}return c},{}),[e,t,r,a]);return{isLoading:r,isError:a,data:l,results:e}};function jt(){const t=xe({mutationFn:async()=>{const i="2024-01-01",n="2024-04-30";try{const o=_(i),e=_(n);for(let r=0;r<=e.diff(o,"days");r++){const a=o.clone().add(r,"days").format("YYYY-MM-DD"),l=te(se,"diario",a);await Ae(l)}}catch(o){throw new Error(o)}},onError:i=>{console.error("Error deleting documents:",i)},onSuccess:()=>{console.log(" Documents deleted successfully")}});return s.jsx(V,{danger:!0,onClick:()=>t.mutate(),loading:t.isPending,disabled:!0,children:"Delete secured documents"})}function M({children:t}){return s.jsx(Q,{direction:"vertical",style:{maxWidth:120},children:t})}function R({children:t}){return s.jsxs($,{color:"cyan",children:["#",t]})}function E({label:t,children:i}){return s.jsxs(U.Text,{children:[s.jsxs("strong",{children:[t,":"]})," ",i]})}function Y({children:t}){return s.jsx(Ee,{trigger:"click",content:t,title:"Sneak Peek",children:s.jsx(V,{icon:s.jsx(ft,{})})})}const De=[{title:"Id",dataIndex:"id",key:"id",fixed:"left"},{title:"Arte Ruim",dataIndex:"arte-ruim",key:"arte-ruim",render:t=>{if(!t)return s.jsx(O,{message:"No entry",type:"error"});const{number:i,cardId:n,text:o,drawings:e}=t;return s.jsxs(M,{children:[s.jsx(R,{children:i}),s.jsx(E,{label:"CardId",children:n}),s.jsx(E,{label:"Drawings",children:e.length}),s.jsx(Y,{children:s.jsxs(b,{gap:6,vertical:!0,children:[s.jsxs("div",{children:['"',o.split("").map((r,a)=>a<2||r===" "?r:"â¹").join(""),'"']}),s.jsx(Q,{wrap:!0,children:e.map(r=>s.jsx(Ye,{drawing:r,width:75,height:75,className:"canvas"},r))})]})})]})}},{title:"Aqui O",dataIndex:"aqui-o",key:"aqui-o",render:t=>{if(!t)return s.jsx(O,{message:"No entry",type:"error"});const{number:i,setId:n,title:o,itemsIds:e}=t;return s.jsxs(M,{children:[s.jsx(R,{children:i}),s.jsx(E,{label:"SetId",children:n}),s.jsx(E,{label:"Title",children:o.pt}),s.jsx(E,{label:"Items",children:e.length}),s.jsx(Y,{children:s.jsx(b,{gap:6,wrap:!0,style:{maxWidth:500},children:e.map(r=>s.jsx(F,{id:r,width:50},r))})})]})}},{title:"AlienÃ­gena",dataIndex:"comunicacao-alienigena",key:"comunicacao-alienigena",render:t=>{if(!t)return s.jsx(O,{message:"No entry",type:"error"});const{number:i,itemsIds:n,attributes:o}=t;return s.jsxs(M,{children:[s.jsx(R,{children:i}),s.jsx(E,{label:"Items",children:n.length}),s.jsx(Y,{children:s.jsxs(b,{gap:6,style:{maxWidth:"300px"},vertical:!0,children:[s.jsx(Q,{wrap:!0,children:o.map(e=>s.jsx($e,{id:`sign-${e.spriteId}`,width:50},e.spriteId))}),s.jsx(Q,{wrap:!0,children:n.map(e=>s.jsx(F,{id:e,width:50},e))})]})})]})}},{title:"Conjuntos",dataIndex:"teoria-de-conjuntos",key:"teoria-de-conjuntos",render:t=>{if(!t)return s.jsx(O,{message:"No entry",type:"error"});const{number:i,rule1:n,intersectingThing:o,rule2:e,title:r,things:a}=t;return s.jsxs(M,{children:[s.jsx(R,{children:i}),s.jsx(E,{label:"Title",children:r}),s.jsx(Y,{children:s.jsxs(b,{vertical:!0,gap:6,children:[s.jsxs(b,{gap:6,children:[s.jsx(F,{id:n.thing.id,width:50}),s.jsx(F,{id:o.id,width:50}),s.jsx(F,{id:e.thing.id,width:50})]}),s.jsx(b,{gap:6,children:a.map(l=>s.jsx(F,{id:l.id,width:35},l.id))})]})})]})}},{title:"Estoque",dataIndex:"controle-de-estoque",key:"controle-de-estoque",render:t=>{if(!t)return s.jsx(O,{message:"No entry",type:"error"});const{number:i,title:n,goods:o}=t;return s.jsxs(M,{children:[s.jsx(R,{children:i}),s.jsx(E,{label:"Title",children:n}),s.jsx(E,{label:"Goods",children:o.length}),s.jsx(Y,{children:s.jsx(b,{gap:6,wrap:!0,style:{maxWidth:245},children:o.map(e=>s.jsx(He,{id:e,width:50},e))})})]})}},{title:"FilmaÃ§o",dataIndex:"filmaco",key:"filmaco",render:t=>{if(!t)return s.jsx(O,{message:"No entry",type:"error"});const{number:i,setId:n,title:o,year:e}=t;return s.jsxs(M,{children:[s.jsx(R,{children:i}),s.jsx(E,{label:"SetId",children:n}),s.jsx(Y,{children:s.jsxs(b,{gap:6,vertical:!0,children:[s.jsxs("span",{children:["Year: ",e]}),s.jsxs("span",{children:["Title:"," ",o.split("").map((r,a)=>a<1||r===" "?r:"â¹").join("")]})]})})]})}},{title:"Palavreado",dataIndex:"palavreado",key:"palavreado",render:t=>{if(!t)return s.jsx(O,{message:"No entry",type:"error"});const{number:i,letters:n,keyword:o,words:e}=t;return s.jsxs(M,{children:[s.jsx(R,{children:i}),s.jsx(E,{label:"Letters",children:n.length}),s.jsx(E,{label:"Keyword",children:o}),s.jsx(Y,{children:s.jsx(Q,{direction:"vertical",children:e.map((r,a)=>s.jsx("span",{children:r.split("").map((l,c)=>c===a||l===" "?l:"â¹").join("")},`${i}-${r}`))})})]})}},{title:"Portais",dataIndex:"portais-magicos",key:"portais-magicos",render:t=>{if(!t)return s.jsx(O,{message:"No entry",type:"error"});const{number:i,setId:n,corridors:o}=t;return s.jsxs(M,{children:[s.jsx(R,{children:i}),s.jsx(E,{label:"SetId",children:m.truncate(n,{length:9})}),s.jsx(Y,{children:s.jsx(b,{gap:6,vertical:!0,children:o.map(e=>s.jsxs(b,{gap:6,vertical:!0,children:[s.jsxs("span",{children:["Passcode: ",e.passcode]}),s.jsx(b,{children:e.imagesIds.map(r=>s.jsx(ce,{id:r,width:50},r))})]},e.passcode))})})]})}},{title:"Quartetos",dataIndex:"quartetos",key:"quartetos",render:t=>{if(!t)return s.jsx(O,{message:"No entry",type:"error"});const{number:i,setId:n,sets:o}=t;return s.jsxs(M,{children:[s.jsx(R,{children:i}),s.jsx(E,{label:"SetId",children:m.truncate(n,{length:9})}),s.jsx(Y,{children:s.jsx(b,{gap:6,children:o.map(e=>s.jsx(b,{gap:6,vertical:!0,children:e.itemsIds.map(r=>s.jsx(F,{id:r,width:50},r))},e.id))})})]})}},{title:"PicaÃ§o",dataIndex:"artista",key:"artista",render:t=>{if(!t)return s.jsx(O,{message:"No entry",type:"error"});const{number:i,cards:n}=t;return s.jsxs(M,{children:[s.jsx(R,{children:i}),s.jsx(E,{label:"Cards",children:n.length}),s.jsx(Y,{children:s.jsx(b,{gap:6,vertical:!0,style:{maxHeight:500,overflowY:"auto"},children:n.map((o,e)=>s.jsx("span",{children:o.text},`${o.id}-${e}`))})})]})}},{title:"TÃ¡ Na Cara",dataIndex:"ta-na-cara",key:"ta-na-cara",render:t=>{if(!t)return s.jsx(O,{message:"No entry",type:"error"});const{number:i,suspectsIds:n,testimonies:o}=t;return s.jsxs(M,{children:[s.jsx(R,{children:i}),s.jsx(E,{label:"Suspects",children:n==null?void 0:n.length}),s.jsx(E,{label:"Questions",children:o.length}),s.jsx(Y,{children:s.jsxs(b,{vertical:!0,children:[s.jsx(Q,{direction:"vertical",style:{maxHeight:100,overflowY:"auto"},children:o.map(e=>s.jsx("span",{children:e.question},e.testimonyId))}),s.jsx(Q,{wrap:!0,style:{maxHeight:200,maxWidth:"500px",overflowY:"auto"},children:n==null?void 0:n.map(e=>s.jsx(ce,{id:e,width:48},e))})]})})]})}}];function It(){const[t,i]=x.useState(""),[n,o]=x.useState(!1),{isLoading:e,data:r}=_e("diario",t,{enabled:!!t&&n}),a=x.useMemo(()=>r?[ne(r,["number"])]:[],[r]),l=u=>{o(!1),i(u.trim())},c=()=>{o(_(t,"YYYY-MM-DD",!0).isValid())},d=()=>{const u=_(t).subtract(1,"days").format("YYYY-MM-DD");i(u)},p=()=>{const u=_(t).add(1,"days").format("YYYY-MM-DD");i(u)};return x.useEffect(()=>{!e&&r&&console.log(ne(r))},[r]),s.jsxs("div",{children:[s.jsx(U.Title,{level:2,children:"Data Verification"}),s.jsx(b,{justify:"space-between",align:"center",className:"mb-6",children:s.jsxs(b,{gap:12,align:"center",children:[s.jsxs(Q.Compact,{children:[s.jsx(ie,{placeholder:"YYYY-MM-DD",onChange:u=>l(u.target.value)}),s.jsx(V,{type:"primary",onClick:c,children:"Load"})]}),t&&s.jsxs(b,{gap:6,align:"center",children:[s.jsx(V,{icon:s.jsx(ze,{}),onClick:d}),s.jsx("span",{children:s.jsx($,{children:t})}),s.jsx(V,{icon:s.jsx(Je,{}),onClick:p,disabled:t===We()})]}),s.jsx("span",{children:s.jsx($,{color:e?"blue":n?"green":"red",children:e?"Loading...":n?"Valid":"Invalid"})}),s.jsx(Fe,{path:`/diario/${t}`,disabled:!r})]})}),s.jsx(ye,{loading:e,columns:De,dataSource:a,scroll:{x:"max-content"}}),s.jsx(we,{}),s.jsxs(b,{justify:"space-between",align:"center",className:"mb-4",wrap:!0,children:[s.jsx(Ue,{content:JSON.stringify(a[0],null,2),shape:"default",className:"mb-4",disabled:!r,children:"Copy to Clipboard"}),s.jsx(yt,{data:r})]}),s.jsx(fe,{src:a[0]??{},theme:"twilight"})]})}const de=(t,i)=>{if(!t||!i||i.length<2)return[];const n=[],o=i.toLowerCase(),e=(r,a=[])=>{r&&typeof r=="object"&&Object.entries(r).forEach(([l,c])=>{l.toLowerCase().includes(o)&&n.push([...a,l].join(".")),typeof c=="string"&&c.toLowerCase().includes(o)&&n.push([...a,l].join(".")),typeof c=="object"&&c!==null&&e(c,[...a,l])})};return e(t),n};function yt({data:t}){const[i,n]=x.useState([]),o=a=>{if(r(a),a.trim().length>1){const l=de(t,a.trim());n(l)}else n([])},[e,r]=x.useState("");return x.useEffect(()=>{if(t&&e.trim().length>1){const a=de(t,e.trim());n(a)}else n([])},[t]),s.jsxs(b,{vertical:!0,gap:8,children:[s.jsx(ie.Search,{placeholder:"Search in data...",allowClear:!0,onChange:a=>o(a.target.value),onSearch:o,style:{width:250}}),i.length>0&&s.jsxs("div",{children:[s.jsxs(U.Text,{children:["Found ",i.length," matches:"]}),s.jsx("ul",{style:{maxHeight:"200px",overflow:"auto",margin:"4px 0"},children:i.map((a,l)=>s.jsx("li",{children:s.jsx(U.Text,{code:!0,copyable:!0,children:a})},l))})]})]})}const J=new Oe({}),ae=(t,i)=>{J.setState(n=>({...n,[t]:i}))},vt=()=>{J.setState(()=>({}))},Dt=()=>Le(J,()=>J.state),bt=(t,i,n,o)=>{const[e]=k(j.AQUI_O,o),r=N("items",t),a=N("daily-disc-sets",t);return{entries:x.useMemo(()=>!t||!a.isSuccess||!e||!r.isSuccess?{}:Ct(n,e,a.data,r.data),[t,a,r,e,n]),isLoading:r.isLoading||a.isLoading}},Ct=(t,i,n,o)=>{console.count("Creating Aqui Ã“...");const e=m.shuffle(Object.values(n).filter(d=>d.itemsIds.filter(Boolean).length>=20)),r=e.filter(d=>!i.used.includes(d.id));r.length<t&&(console.log("ðŸ”† Not enough aqui-o sets left, shuffling..."),ae("aqui-o","Not enough aqui-o sets left"),r.push(...m.shuffle(e)));const a=Object.values(o).filter(d=>d!=null&&d.nsfw?!1:m.intersection(d.decks??[],["alien","dream","thing"]).length>0);let l=i.latestDate;const c={};for(let d=0;d<t;d++){const p=r[d];p||console.error("No aqui-o sets left");const u=P(l),g=je(u);l=u,g?c[u]={id:u,type:"aqui-o",number:i.latestNumber+d+1,setId:"special",title:{pt:"Especial Fim de Semana",en:"Weekend Special"},itemsIds:["0",...m.sampleSize(a,45).map(h=>h.id)]}:c[u]={id:u,type:"aqui-o",number:i.latestNumber+d+1,setId:p.id,title:p.title,itemsIds:["0",...m.sampleSize(p.itemsIds,20)]}}return c},St=(t,i,n,o)=>{const[e]=k(j.ARTE_RUIM,o),r=ge(t,i);return{entries:x.useMemo(()=>!t||r.isLoading||!e?[]:At(n,e,r,i),[t,r,i,e,n,r.isLoading]),isLoading:r.isLoading}},At=(t,i,n,o)=>{console.count("Creating Arte Ruim...");const e=Object.values(n.drawings).filter(c=>!(i.used.includes(c.id)||c.drawings.length<3)).map(c=>({id:c.id,type:"arte-ruim",language:o??"pt",cardId:c.id,text:c.text,drawings:c.drawings.map(d=>d.drawing),number:0,dataIds:c.drawings.map(d=>d.id)})),r=m.sampleSize(m.shuffle(e),t);let a=i.latestDate;return r.map((c,d)=>{const p=P(a);return a=p,{...c,id:p,number:i.latestNumber+d+1}})},Et=(t,i,n,o,e)=>{const[r]=k(j.ARTISTA,o),[a]=k(j.ARTE_RUIM,o),l=N(`arte-ruim-cards-${i}`,t),c=ge(t,i);return{entries:x.useMemo(()=>{if(!t||!l.isSuccess||c.isLoading||!r)return{};const p=e.map(u=>u.cardId);return wt(n,r,a,l.data,p,c.drawings)},[t,l,a,r,n,e,c.drawings,c.isLoading]),isLoading:l.isLoading||c.isLoading}},wt=(t,i,n,o,e,r)=>{console.count("Creating Artista...");let a=i.latestDate;const l={};for(let c=0;c<t;c++){const d=P(a),p=Object.keys(o??{}).filter(g=>{var h,y;return!n.used.includes(g)&&!e.includes(g)&&((y=(h=r==null?void 0:r[g])==null?void 0:h.drawings)==null?void 0:y.length)<3}),u=m.sampleSize(p,20).map(g=>o[g]);a=d,l[d]={id:d,type:"artista",number:i.latestNumber+c+1,cards:u}}return l},Lt=(t,i,n,o)=>{const[e]=k(j.COMUNICACAO_ALIENIGENA,o),r=N("items",t),a=N("items-attributes",t),l=N("items-attribute-values",t);return{entries:x.useMemo(()=>!t||!e||!a.isSuccess||!l.isSuccess||!r.isSuccess?{}:Ot(n,e,a.data,l.data,r.data),[t,n,e,e,a,l,r]),isLoading:r.isLoading||a.isLoading||l.isLoading}},Ot=(t,i,n,o,e)=>{console.count("Creating Comunicacao Alienigena...");let r=i.latestDate;const a=m.values(n),l=m.values(o).filter(u=>{var g;return u.complete&&((g=e==null?void 0:e[u.id])==null?void 0:g.nsfw)!==!0}),c={};let d=0;for(;m.keys(c).length<t&&d<100;){const u=Nt(a,l);if(u.valid&&!c[u.setId]&&!i.used.includes(u.setId)&&(c[u.setId]=u),m.keys(c).length>=t)break;d+=1}console.log(`ðŸ”† Generating this batch took ${d} tries`),d>=100&&ae("comunicacao-alienigena","Not enough valid comunicacao alienigena games (over 100 attempts)");const p={};return Object.values(c).forEach((u,g)=>{const h=P(r);r=h,p[h]={...u,id:h,number:i.latestNumber+g+1}}),p},Nt=(t,i)=>{const n=m.shuffle(i),o=m.shuffle(ke(50,0)),e=m.sampleSize(t,3).map(f=>({...f,spriteId:`${o.pop()}`})),r=[],a=[],l=[],c=[],d=[],p=[],u=[],g=[];n.forEach(f=>{const T=[q.DETERMINISTIC,q.RELATED],D=f.attributes[e[0].id]===q.DETERMINISTIC,w=T.includes(f.attributes[e[0].id]),L=f.attributes[e[0].id]===q.UNRELATED,Ce=f.attributes[e[1].id]===q.DETERMINISTIC,Z=T.includes(f.attributes[e[1].id]),W=f.attributes[e[1].id]===q.UNRELATED,Se=f.attributes[e[2].id]===q.DETERMINISTIC,X=T.includes(f.attributes[e[2].id]),z=f.attributes[e[2].id]===q.UNRELATED;if(L&&W&&z)return g.push(f.id);D&&W&&z&&r.push(f.id),L&&Ce&&z&&a.push(f.id),L&&W&&Se&&l.push(f.id),w&&Z&&z&&c.push(f.id),w&&W&&X&&d.push(f.id),L&&Z&&X&&p.push(f.id),w&&Z&&X&&u.push(f.id)});const h=e.map(f=>({id:f.id,name:f.name.pt,description:f.description.pt,spriteId:f.spriteId,itemsIds:[]}));h[0].itemsIds=m.sampleSize(r,r.length>3?3:Math.max(r.length-1,1)),h[1].itemsIds=m.sampleSize(a,a.length>3?3:Math.max(r.length-1,1)),h[2].itemsIds=m.sampleSize(l,l.length>3?3:Math.max(r.length-1,1));const y=[];h.forEach(f=>{y.push(...f.itemsIds)});const A=[];c.length>0&&A.push({spritesIds:[e[0].spriteId,e[1].spriteId],itemId:m.sample(c)??""}),d.length>0&&A.push({spritesIds:[e[0].spriteId,e[2].spriteId],itemId:m.sample(d)??""}),p.length>0&&A.push({spritesIds:[e[1].spriteId,e[2].spriteId],itemId:m.sample(p)??""}),u.length>0&&A.push({spritesIds:e.map(f=>f.spriteId),itemId:m.sample(u)??""});const S=[];r.length>0&&S.push({spritesIds:[e[0].spriteId],itemId:r.filter(f=>!y.includes(f))[0]}),a.length>0&&S.push({spritesIds:[e[1].spriteId],itemId:a.filter(f=>!y.includes(f))[0]}),l.length>0&&S.push({spritesIds:[e[2].spriteId],itemId:l.filter(f=>!y.includes(f))[0]});let I=m.sampleSize(A,4);I.length<3&&I.push(...m.sampleSize(S,4-I.length)),I.length<4&&console.log("ðŸ”† Not enough requests for an alien communication, marking it as invalid"),I=m.shuffle(I);const C=I.map(f=>f.itemId),v={id:"0000-00-00",setId:h.map(f=>f.id).sort().join("-"),number:0,type:"comunicaÃ§Ã£o-alienÃ­gena",attributes:h,requests:I,solution:C.join("-"),itemsIds:m.shuffle([...C,...m.sampleSize([g[0],g[1],g[2],g[3]],m.random(1,3))]).filter(Boolean),valid:!1};return v.valid=[v.attributes.length===3,v.requests.length===4,v.itemsIds.length>4,v.attributes.every(f=>f.itemsIds.length>0),v.requests.every(f=>f.itemId)].every(Boolean),v},Tt=(t,i,n,o)=>{const[e]=k(j.CONTROLE_DE_ESTOQUE,o);return{entries:x.useMemo(()=>!t||!e?{}:Mt(n,e),[t,n,e]),isLoading:!1}},Mt=(t,i)=>{console.count("Creating Controle de Estoque...");let n=i.latestDate;const o={};for(let e=0;e<t;e++){const r=P(n);n=r,o[r]=kt(r,i.latestNumber+e+1)}return o},Rt=256,Yt=16,Gt=4,_t=1,kt=(t,i)=>{const[n,o,e]=t.split("-").map(Number),a=new Date(n,o-1,e).getDay(),l=["Domingo","Segunda-feira","TerÃ§a-feira","Quarta-feira","Quinta-feira","Sexta-feira","SÃ¡bado"][a],c={id:t,number:i,type:"controle-de-estoque",language:"pt",title:l,goods:[],orders:[]},d=m.sampleSize(Array(Rt).fill("").map((u,g)=>`good-${g+1}`),Yt+_t),p=d.pop();if(c.goods=d,c.orders=m.sampleSize(c.goods,Gt),!p)throw new Error("No out of stock good");return c.orders.push(p),c.orders=m.shuffle(c.orders),c},Pt=(t,i,n,o)=>{const[e]=k(j.FILMACO,o),r=N("daily-movie-sets",t);return{entries:x.useMemo(()=>!t||!r.isSuccess||!e?{}:(Object.values(r.data).filter(c=>c.itemsIds.length>0&&!e.used.includes(c.id)).length<=n&&ae("filmaco","Not enough unused films"),Qt(n,e,r.data)),[t,r,e,n]),isLoading:r.isLoading}},Qt=(t,i,n)=>{console.count("Creating FilmaÃ§o...");const o=m.shuffle(Object.values(n).filter(l=>l.itemsIds.filter(Boolean).length>0)),e=o.filter(l=>!i.used.includes(l.id));e.length<t&&e.push(...m.shuffle(o));let r=i.latestDate;const a={};for(let l=0;l<t;l++){const c=e[l];if(!c){console.error("No filmaÃ§o sets left");break}const d=P(r);r=d,a[d]={id:d,type:"filmaco",number:i.latestNumber+l+1,setId:c.id,title:c.title,itemsIds:c.itemsIds,year:c.year}}return a},qt=(t,i,n,o)=>{const[e]=k(j.PALAVREADO,o),r=re(4,i,t),a=re(5,i,t);return{entries:x.useMemo(()=>!t||!r.data||!r.data.length||!a.data||!a.data.length||!e?{}:Vt(n,e,r.data,a.data),[t,r,a,e,n]),isLoading:r.isLoading||a.isLoading}},Vt=(t,i,n,o)=>{console.count("Creating Palavreado...");let e=i.latestDate;const r=[],a={};for(let l=0;l<t;l++){const c=P(e),d=je(c),p=d?5:4;e=c,a[c]={id:c,type:"palavreado",number:i.latestNumber+l+1,...Ft(d?o:n,[...Object.values(a).map(u=>u.keyword),...i.used],r,p)}}return a},Ft=(t,i,n,o=4,e)=>{let r=m.shuffle(m.difference(t,n,i));const a=e||(r.pop()??""),l=[];for(let c=0;c<o;c++){const d=Ut(t,a,l,c);l.push(d)}return n.push(a,...l),{keyword:a,words:l,letters:$t(l,a.length)}},Ut=(t,i,n,o)=>{const e=m.uniq([...m.flatMap(n.map(l=>l.split(""))),...i.split("")]),r=m.shuffle(t.filter(l=>l[o]===i[o]&&!n.includes(l)));return m.sortBy(r,l=>m.intersection(l.split(""),e).length)[0]},$t=(t,i)=>{const n=m.flatMap(t.map(a=>a.split(""))),o=i===4?[0,5,10,15]:[0,6,12,18,24],e=m.shuffle(n.filter((a,l)=>!o.includes(l))),r=[];for(let a=0;a<n.length;a++)o.includes(a)?r.push(n[a]):r.push(e.shift()??"");return r},Ht=(t,i,n,o)=>{const[e]=k(j.PORTAIS_MAGICOS,o),r=N("daily-passcode-sets",t),a=re(3,i,t);return{entries:x.useMemo(()=>{if(!t||!r.isSuccess||!a.isSuccess||!e)return{};const c=a.data.reduce((d,p)=>(p.split("").forEach(u=>{d[u]||(d[u]=[]),d[u].push(p)}),d),{" ":["  "],"-":[" - "]});return Bt(n,e,r.data,c)},[t,n,r.isSuccess,r.data,a.isSuccess,a.data,e]),isLoading:r.isLoading||a.isLoading}},Bt=(t,i,n,o)=>{console.count("Creating Portais MÃ¡gicos...");let e=i.latestDate;const r=i.used,a={};let l=m.shuffle(Object.values(n).filter(d=>d.imageCardsIds.length>0));const c={};for(let d=0;d<t;d++){const p=P(e),u=[];let g=[...l];const h=[];for(;h.length<3;){const y=g.pop();if(!y)throw new Error("Not enough sets available");const A=m.sample(y.passcode.filter(v=>v.length<=12&&!r.includes(v)))||"";if(!A)continue;const S=h.length+1;u.push(y.id),a[y.id]=!0;const I=A.split("").map(v=>m.sample(o[v])||` ${v} `),C=m.sampleSize(y.imageCardsIds,S);h.push({passcode:A,imagesIds:C,words:I}),g=g.filter(v=>!a[v.id]&&v.imageCardsIds.length>S)}e=p,c[p]={id:p,type:"portais-magicos",setId:u.join(K),number:i.latestNumber+d+1,corridors:h.reverse()},l=l.filter(y=>!a[y.id])}return c},Wt=(t,i,n,o)=>{const[e]=k(j.QUARTETOS,o),r=N("daily-quartet-sets",t),a=N("items-groups",t);return{entries:x.useMemo(()=>!t||r.isLoading||a.isLoading||!e?{}:zt(n,e,i,r.data,a.data),[t,i,e,n,r,a]),isLoading:r.isLoading||a.isLoading}},zt=(t,i,n,o,e)=>{console.count("Creating Quartetos...");let r=Object.values(o).filter(c=>c.itemsIds.length>=4&&!i.used.includes(c.id)&&!c.flagged),a=i.latestDate;const l={};return Array.from({length:t}).forEach((c,d)=>{const p=[],u={};let g=m.cloneDeep(r),h=0;for(;p.length<3&&h<500;){const D=m.sample(g);if(!D)throw Error("No potential set found for Quartetos game");g=g.filter(L=>L.id!==D.id);const w=m.orderBy(m.sampleSize(D.itemsIds,4),L=>Number(L));if(w.some(L=>u[L])){h++;continue}D.itemsIds.forEach(L=>{u[L]=!0}),p.push({id:D.id,title:D.title,itemsIds:w,level:D.level??1}),h=0}const y=p.map(D=>D.id);r=r.filter(D=>!y.includes(D.id));const A=Object.values(e).filter(D=>D.itemsIds.some(w=>!u[w])&&D.itemsIds.length>=4&&D.nsfw!==!0),S=m.sample(A);if(!S)throw Error("No eligible group found for Quartetos game");p.push({id:S.id,title:m.capitalize(S.name[n]),itemsIds:m.sampleSize(S.itemsIds,4),level:1});const I=Math.ceil(p.reduce((D,w)=>D+w.level,0)/p.length),C=m.orderBy(p,["level"],["desc"]).map((D,w)=>(D.level=w,D)),v=p.map(D=>D.id).join(K),f=m.shuffle(p.flatMap(D=>D.itemsIds)),T=P(a);a=T,l[T]={id:T,number:i.latestNumber+d+1,setId:v,type:"quartetos",grid:f,difficulty:I,sets:C}}),l},Jt=(t,i,n,o)=>{const[e]=k(j.TA_NA_CARA,o),r=N("suspects",t),a=N(`testimony-questions-${i}`,t);return{entries:x.useMemo(()=>!t||!r.isSuccess||!a.isSuccess||!e?{}:Kt(n,e,r.data,a.data),[t,r,a,e,n]),isLoading:r.isLoading||a.isLoading}},ue=15,me=13,Kt=(t,i,n,o)=>{console.count("Creating TÃ¡ Na Cara...");const e=be(i.used),r=m.orderBy(m.shuffle(Object.values(n)),[d=>(e==null?void 0:e[d.id])??0],["asc"]).slice(0,me*4).map(d=>{const[,p]=d.id.split("-");return{id:`us-gb-${p}`,used:0}}),a=m.orderBy(m.shuffle(Object.values(o)),[d=>e==null?void 0:e[d.id]],["asc"]).slice(0,ue*4).map(d=>({testimony:d,used:0}));let l=i.latestDate;const c={};for(let d=0;d<t;d++){const p=pe(a,ue).map(g=>({testimonyId:g.testimony.id,question:g.testimony.question,nsfw:!!g.testimony.nsfw})),u=P(l);l=u,c[u]={id:u,type:"ta-na-cara",number:i.latestNumber+d+1,suspectsIds:pe(r,me).map(g=>g.id),testimonies:p}}return c},pe=(t,i)=>{const o=m.orderBy(t,[e=>e.used],["asc"]).slice(0,i);return o.forEach(e=>{e.used+=1}),o},be=t=>t.reduce((i,n)=>{const o=n.split(K),e=o[0],r=Number(o[1]);if(e.startsWith("us")){const a=e.split("-"),l=`${a[0]}-${a[2]}`;return l.includes("undefined")||(i[l]=r||0),i}return i[e]=r||0,i},{}),Zt=(t,i)=>{const n=be(t);return i.forEach(o=>{var e;o.testimonies.forEach(r=>{n[r.testimonyId]===void 0&&(n[r.testimonyId]=0),n[r.testimonyId]+=1}),(e=o.suspectsIds)==null||e.forEach(r=>{const a=r.split("-"),l=`${a[0]}-${a[2]}`;n[l]===void 0&&(n[l]=0),n[l]+=1})}),Object.entries(n).map(([o,e])=>`${o}${K}${e}`)};function Xt(t,i,n){const o=Ie.DAILY[i??"pt"],e=ve(o,{enabled:t});x.useEffect(()=>{vt()},[n,i]);const r=t&&e.isSuccess,a=bt(r,i,n,e.data??{}),l=St(r,i,n,e.data??{}),c=Lt(r,i,n,e.data??{}),d=Tt(r,i,n,e.data??{}),p=Pt(r,i,n,e.data??{}),u=qt(r,i,n,e.data??{}),g=Wt(r,i,n,e.data??{}),h=Ze(r,i,n,e.data??{}),y=Ht(r,i,n,e.data??{}),A=Et(r,i,n,e.data??{},l.entries),S=Jt(r,i,n,e.data??{}),I=x.useMemo(()=>l.entries.length===0?[]:(console.count("Bundling entries..."),l.entries.map(C=>({id:C.id,"arte-ruim":C,"aqui-o":a.entries[C.id],"comunicacao-alienigena":c.entries[C.id],"controle-de-estoque":d.entries[C.id],filmaco:p.entries[C.id],palavreado:u.entries[C.id],"portais-magicos":y.entries[C.id],quartetos:g.entries[C.id],"teoria-de-conjuntos":h.entries[C.id],artista:A.entries[C.id],"ta-na-cara":S.entries[C.id]}))),[l.entries,a.entries,p.entries,c.entries,d.entries,u.entries,y.entries,g.entries,h.entries,A.entries,S.entries]);return{isLoading:e.isLoading||a.isLoading||l.isLoading||c.isLoading||d.isLoading||p.isLoading||u.isLoading||y.isLoading||g.isLoading||h.isLoading||A.isLoading||S.isLoading,entries:I}}function es(t){const{notification:i}=Ne.useApp(),n=Te(),o=Ie.DAILY[t??"pt"],[e,r]=x.useState(!1),a=ve(o,{enabled:!!o}),l=xe({mutationFn:async c=>{const d=c.map(h=>{const y=te(se,`${o}/${h.id}`);return oe(y,h)}),p=te(se,`${o}/history`),u=a.data;if(!u)throw new Error("No previous history");const g={...u,[j.AQUI_O]:G(j.AQUI_O,u,c,h=>h.setId),[j.ARTE_RUIM]:G(j.ARTE_RUIM,u,c,h=>h.cardId),[j.ARTISTA]:G(j.ARTISTA,u,c,null),[j.COMUNICACAO_ALIENIGENA]:G(j.COMUNICACAO_ALIENIGENA,u,c,h=>h.setId),[j.CONTROLE_DE_ESTOQUE]:G(j.CONTROLE_DE_ESTOQUE,u,c,null),[j.FILMACO]:G(j.FILMACO,u,c,h=>h.setId),[j.PALAVREADO]:G(j.PALAVREADO,u,c,h=>h.keyword),[j.PORTAIS_MAGICOS]:G(j.PORTAIS_MAGICOS,u,c,h=>h.corridors.map(y=>y.passcode)),[j.TA_NA_CARA]:G(j.TA_NA_CARA,u,c,null,Zt),[j.QUARTETOS]:G(j.QUARTETOS,u,c,h=>h.sets.map(y=>y.id)),[j.TEORIA_DE_CONJUNTOS]:G(j.TEORIA_DE_CONJUNTOS,u,c,h=>[h.intersectingThing.id,h.setId])};return oe(p,g),Promise.all(d)},onSuccess:()=>{i.info({message:"Data saved",placement:"bottomLeft"}),n.invalidateQueries({queryKey:[o,"history"]}),r(!1)},onError:()=>{i.error({message:"Error saving data",placement:"bottomLeft"})}});return{isDirty:e,setIsDirty:r,save:l.mutateAsync,isPending:l.isPending}}const G=(t,i,n,o,e)=>{var a;const r=JSON.parse(((a=i[t])==null?void 0:a.used)??"[]");return e?{latestDate:n[n.length-1].id,latestNumber:n[n.length-1][t].number,used:JSON.stringify(e(r,n.map(l=>l[t])))}:o===null?{latestDate:n[n.length-1].id,latestNumber:n[n.length-1][t].number,used:"[]"}:{latestDate:n[n.length-1].id,latestNumber:n[n.length-1][t].number,used:JSON.stringify(Pe([...r,...n.map(l=>l[t]).map(o)]).flat())}},ts="pt";function ss(){const[t,i]=x.useState(""),[n,o]=x.useState(3),[e,r]=x.useState(7),[a,l]=x.useState(Date.now());return s.jsxs("div",{children:[s.jsx(U.Title,{level:2,children:"Data Population"}),s.jsxs(b,{gap:12,children:[s.jsx(ee,{label:"Language",value:t,onChange:i,options:[ts],placeholder:"Select a language"}),s.jsx(ee,{label:"Minimum Drawings",value:n,onChange:o,options:[2,3,4],placeholder:"Select a number"}),s.jsx(ee,{label:"Batch Size",value:e,onChange:r,options:[3,7,14,21,28],placeholder:"Select a number"}),s.jsx(V,{onClick:()=>{l(Date.now())},icon:s.jsx(ct,{})})]}),s.jsx(ns,{language:t,batchSize:e},a)]})}function ns({language:t,batchSize:i}){const n=t,o=Xt(!!n,n,i),e=Dt();x.useEffect(()=>{m.isEmpty(e)||console.log(e)},[e]);const{save:r,isPending:a}=es(n??"pt");return s.jsxs(Ke,{isLoading:o.isLoading,error:null,hasResponseData:!o.isLoading,children:[s.jsxs(b,{justify:"space-between",align:"center",children:[s.jsxs(U.Title,{level:4,children:["Total: ",o.entries.length]}),s.jsx(V,{onClick:()=>r(o.entries),loading:a,disabled:(o.entries??[]).length===0,type:"primary",size:"large",icon:s.jsx(Xe,{}),children:"Save"})]}),Object.values(e).map(l=>s.jsx(O,{message:l,type:"warning",showIcon:!0,banner:!0},l)),s.jsx(ye,{columns:De,dataSource:o.entries??[],scroll:{x:"max-content"}})]})}function rs(){const{queryParams:t}=he();return t.get("display")==="archive"?s.jsx(gt,{}):t.get("display")==="check"?s.jsx(It,{}):s.jsx(ss,{})}function is(){const{queryParams:t,addParams:i}=he();return s.jsx(s.Fragment,{children:s.jsx(et,{children:s.jsx(qe,{label:"Display",value:t.get("display")??"population",onChange:n=>i({display:n}),options:[{title:"Population",icon:s.jsx(ut,{}),value:"population"},{title:"Check",icon:s.jsx(ot,{}),value:"check"},{title:"Archive",icon:s.jsx(pt,{}),value:"archive"}]})})})}function Ws(){return s.jsx(Me,{title:"Daily Setup",children:s.jsxs(le,{hasSider:!0,children:[s.jsx(Be,{children:s.jsx(is,{})}),s.jsx(le.Content,{className:"content",children:s.jsx(rs,{})})]})})}export{Ws as default};
