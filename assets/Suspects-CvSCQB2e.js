import{r as T,d as ie,_ as oe,j as r,F as y,T as S,av as Lr,aw as zr,ax as Y,ay as Hr,ak as Wr,i as $r,B as H,b as _r,a4 as Gr,az as Kr,I as Ur,D as X,c as Jr,P as Vr,L as Be}from"./index-DvtZzqb8.js";import{D as Yr}from"./DataLoadingWrapper-BwaHjfcB.js";import{l as I,P as Zr}from"./useBaseUrl-HNzBeRFU.js";import{c as Ee}from"./clsx-B-dksMZM.js";import{u as Xr}from"./useCardWidth-FtClwuEW.js";import{u as B}from"./useQueryParams-ChLQAyiM.js";import{s as Q,a as Tr}from"./index-DyccDf2T.js";import{S as se}from"./index-BtJVU87b.js";import{u as Qr}from"./useCopyToClipboardFunction-DMI9v4Po.js";import{S as ne}from"./index-DjsvBeaX.js";import{S as qe}from"./SuspectImageCard-DlKE5ZVS.js";import{D as wr}from"./index-DKorfSB-.js";import{S as Pr}from"./index-wQgLPfCw.js";import{R as et}from"./index-GGxA5DhQ.js";import{T as ee}from"./index-lqdUi5lk.js";import{R as rt}from"./AppstoreOutlined-DBbWTiGM.js";import{S as Le}from"./index-DPRw0GQ5.js";import{a as tt,R as at}from"./WomanOutlined-D3XZ1qk5.js";import{R as nt,a as it}from"./ColumnWidthOutlined-CZo3P8Qe.js";import{F as ot}from"./Table-DwS3zApA.js";import{c as st,a as de}from"./FilterEntries-_P8npkgz.js";import{S as lt}from"./SiderContent-CD2PFVs1.js";import{D as ze}from"./DownloadButton-CnW_wGPU.js";import{a as He}from"./FirestoreConsoleLink-CCI6CWRW.js";import{S as We}from"./SaveButton-LVOYUPR5.js";import{S as ct}from"./SuspectsStyleVariantSelector-DY7Hk4La.js";import{u as $e}from"./useResourceFirestoreData-CYhxhXFF.js";import"./constants-BRzsFuv9.js";import"./Item-CIoqhlfM.js";import"./ImageCard-Byw_XtgF.js";import"./index-C2nG1GOY.js";import"./index-D_RbXA2Z.js";import"./scrollTo-BJDzhJg4.js";import"./Pagination-Dy1duZup.js";import"./useMutation-D64GK_vz.js";import"./index-Dc1-l0Kf.js";import"./moment-BYTvHWBW.js";import"./SaveOutlined-BQLb4Dmc.js";import"./useGetFirestoreDoc-sIXAu7aB.js";import"./useTDResource-BdlfzREJ.js";import"./useUpdateFirestoreDoc-BCrsvBCA.js";var ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"},dt=function(t,a){return T.createElement(ie,oe({},t,{ref:a,icon:ut}))},Ge=T.forwardRef(dt),pt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M910.5 553.2l-109-370.8c-6.8-20.4-23.1-34.1-44.9-34.1s-39.5 12.3-46.3 32.7l-72.2 215.4H386.2L314 181.1c-6.8-20.4-24.5-32.7-46.3-32.7s-39.5 13.6-44.9 34.1L113.9 553.2c-4.1 13.6 1.4 28.6 12.3 36.8l385.4 289 386.7-289c10.8-8.1 16.3-23.1 12.2-36.8z"}}]},name:"gitlab",theme:"filled"},ft=function(t,a){return T.createElement(ie,oe({},t,{ref:a,icon:pt}))},ht=T.forwardRef(ft),gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},mt=function(t,a){return T.createElement(ie,oe({},t,{ref:a,icon:gt}))},vt=T.forwardRef(mt),xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.3 338.4a447.57 447.57 0 00-96.1-143.3 443.09 443.09 0 00-143-96.3A443.91 443.91 0 00512 64h-2c-60.5.3-119 12.3-174.1 35.9a444.08 444.08 0 00-141.7 96.5 445 445 0 00-95 142.8A449.89 449.89 0 0065 514.1c.3 69.4 16.9 138.3 47.9 199.9v152c0 25.4 20.6 46 45.9 46h151.8a447.72 447.72 0 00199.5 48h2.1c59.8 0 117.7-11.6 172.3-34.3A443.2 443.2 0 00827 830.5c41.2-40.9 73.6-88.7 96.3-142 23.5-55.2 35.5-113.9 35.8-174.5.2-60.9-11.6-120-34.8-175.6zM312.4 560c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.4 48-47.9 48zm199.6 0c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.5 48-47.9 48zm199.6 0c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.5 48-47.9 48z"}}]},name:"message",theme:"filled"},bt=function(t,a){return T.createElement(ie,oe({},t,{ref:a,icon:xt}))},yt=T.forwardRef(bt);const jt=["18-21","21-30","30-40","40-50","50-60","60-70","70-80","80-90"].map(e=>({label:e,value:e})),Ct=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Non-binary",value:"non-binary"},{label:"Other",value:"other"}],St=[{label:"White",value:"white"},{label:"Black",value:"black"},{label:"Asian",value:"asian"},{label:"Brown",value:"brown"},{label:"Indigenous",value:"indigenous"},{label:"Mixed",value:"mixed"},{label:"Other",value:"other"}],_t=["thin","average","muscular","large"].map(e=>({label:e,value:e})),Tt=["short","medium","tall"].map(e=>({label:e,value:e})),wt=["INTJ","INTP","ENTJ","ENTP","INFJ","INFP","ENFJ","ENFP","ISTJ","ISFJ","ESTJ","ESFJ","ISTP","ISFP","ESTP","ESFP"],Pt=["aries","taurus","gemini","cancer","leo","virgo","libra","scorpio","sagittarius","capricorn","aquarius","pisces"].map(e=>({label:I.capitalize(e),value:e})),Ot=["lawful-good","neutral-good","chaotic-good","lawful-neutral","true-neutral","chaotic-neutral","lawful-evil","neutral-evil","chaotic-evil"].map(e=>({label:I.capitalize(e.replace("-"," ")),value:e})),It=[{label:"Straight",value:"straight"},{label:"Gay",value:"gay"},{label:"Bisexual",value:"bisexual"},{label:"Other",value:"other"}],Rt=[{label:"None",value:"none"},{label:"Basic",value:"basic"},{label:"College",value:"college"},{label:"High Education",value:"high"}],Nt=[{label:"Lower",value:"lower"},{label:"Middle",value:"middle"},{label:"Upper",value:"upper"}],Me=[{title:"Hair Length",features:[{id:"shortHair",label:"Short Hair"},{id:"longHair",label:"Long Hair"},{id:"mediumHair",label:"Medium Hair"},{id:"bald",label:"Bald"}]},{title:"Hair Color",features:[{id:"blackHair",label:"Black Hair"},{id:"brownHair",label:"Brown Hair"},{id:"blondeHair",label:"Blonde Hair"},{id:"redHair",label:"Red Hair"},{id:"greyHair",label:"Grey Hair"},{id:"coloredHair",label:"Colored Hair"}]},{title:"Face",features:[{id:"beard",label:"Beard"},{id:"mustache",label:"Mustache"},{id:"goatee",label:"Goatee"},{id:"lipstick",label:"Lipstick"}]},{title:"Specific",features:[{id:"showTeeth",label:"Showing Teeth"},{id:"avoidingCamera",label:"Avoiding Camera"},{id:"hairyChest",label:"Exposed Hairy Chest"},{id:"shirtless",label:"Shirtless"},{id:"noHairInfo",label:"No Hair Info"}]},{title:"Accessories",features:[{id:"noAccessories",label:"No Accessories"},{id:"glasses",label:"Glasses"},{id:"piercings",label:"Piercings"},{id:"earrings",label:"Earrings"},{id:"necklace",label:"Necklace"},{id:"hat",label:"Hat"},{id:"scarf",label:"Scarf"},{id:"hoodie",label:"Hoodie"},{id:"tie",label:"Tie"},{id:"headscarf",label:"Headscarf/Bandana"},{id:"bow",label:"Bow"},{id:"wearingFlowers",label:"Wearing Flowers"},{id:"hairTie",label:"Hair Tie"}]},{title:"Clothing",features:[{id:"whiteShirt",label:"White Shirt"},{id:"blackClothes",label:"Black Clothes"},{id:"blueClothes",label:"Blue Clothes"},{id:"redClothes",label:"Red Clothes"},{id:"greenClothes",label:"Green Clothes"},{id:"yellowClothes",label:"Yellow Clothes"},{id:"purpleClothes",label:"Purple Clothes"},{id:"pinkClothes",label:"Pink Clothes"},{id:"orangeClothes",label:"Orange Clothes"},{id:"brownClothes",label:"Brown Clothes"},{id:"patternedShirt",label:"Patterned Shirt"},{id:"wearingStripes",label:"Wearing Stripes"},{id:"buttonShirt",label:"Button Shirt"}]}],Or=I.orderBy(Me.reduce((e,t)=>(t.features.forEach(a=>{e.push({value:a.id,label:`${t.title}: ${a.label}`})}),e),[]),["label"],["asc"]);console.log("flatFeatures",Or.map(e=>e.value));function qt(){const{addParam:e,queryParams:t}=B();return r.jsxs(y,{align:"center",className:"my-2",gap:8,children:[r.jsx(S.Text,{children:"Feature Highlight:"})," ",r.jsx(se,{allowClear:!0,onChange:a=>e("activeFeature",a),options:Or,size:"small",style:{width:275},value:t.get("activeFeature")||void 0})]})}var $={},pe={exports:{}},fe={exports:{}},Ke;function le(){return Ke||(Ke=1,function(e){function t(a){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(fe)),fe.exports}var Ue;function ce(){return Ue||(Ue=1,function(e){var t=le().default;function a(i){if(typeof WeakMap!="function")return null;var o=new WeakMap,c=new WeakMap;return(a=function(p){return p?c:o})(i)}function n(i,o){if(!o&&i&&i.__esModule)return i;if(i===null||t(i)!="object"&&typeof i!="function")return{default:i};var c=a(o);if(c&&c.has(i))return c.get(i);var d={__proto__:null},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in i)if(l!=="default"&&{}.hasOwnProperty.call(i,l)){var g=p?Object.getOwnPropertyDescriptor(i,l):null;g&&(g.get||g.set)?Object.defineProperty(d,l,g):d[l]=i[l]}return d.default=i,c&&c.set(i,d),d}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(pe)),pe.exports}var he={exports:{}},Je;function Z(){return Je||(Je=1,function(e){function t(a){return a&&a.__esModule?a:{default:a}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(he)),he.exports}var ge={exports:{}},Ve;function Ir(){return Ve||(Ve=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)({}).hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(ge)),ge.exports}var re={},Ye;function kt(){if(Ye)return re;Ye=1,Object.defineProperty(re,"__esModule",{value:!0});var e={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482.88 128c-84.35 0-156.58 52.8-185.68 126.98-60.89 8.13-115.3 43.63-146.6 97.84-42.16 73-32.55 161.88 17.14 224.16-23.38 56.75-19.85 121.6 11.42 175.78 42.18 73.02 124.1 109.15 202.94 97.23C419.58 898.63 477.51 928 540.12 928c84.35 0 156.58-52.8 185.68-126.98 60.89-8.13 115.3-43.62 146.6-97.84 42.16-73 32.55-161.88-17.14-224.16 23.38-56.75 19.85-121.6-11.42-175.78-42.18-73.02-124.1-109.15-202.94-97.23C603.42 157.38 545.49 128 482.88 128m0 61.54c35.6 0 68.97 13.99 94.22 37.74-1.93 1.03-3.92 1.84-5.83 2.94l-136.68 78.91a46.11 46.11 0 00-23.09 39.78l-.84 183.6-65.72-38.34V327.4c0-76 61.9-137.86 137.94-137.86m197.7 75.9c44.19 3.14 86.16 27.44 109.92 68.57 17.8 30.8 22.38 66.7 14.43 100.42-1.88-1.17-3.6-2.49-5.53-3.6l-136.73-78.91a46.23 46.23 0 00-46-.06l-159.47 91.1.36-76.02 144.5-83.41a137.19 137.19 0 0178.53-18.09m-396.92 55.4c-.07 2.2-.3 4.35-.3 6.56v157.75a46.19 46.19 0 0022.91 39.9l158.68 92.5-66.02 37.67-144.55-83.35c-65.86-38-88.47-122.53-50.45-188.34 17.78-30.78 46.55-52.69 79.73-62.68m340.4 79.93l144.54 83.35c65.86 38 88.47 122.53 50.45 188.34-17.78 30.78-46.55 52.69-79.73 62.68.07-2.19.3-4.34.3-6.55V570.85a46.19 46.19 0 00-22.9-39.9l-158.69-92.5zM511.8 464.84l54.54 31.79-.3 63.22-54.84 31.31-54.54-31.85.3-63.16zm100.54 58.65l65.72 38.35V728.6c0 76-61.9 137.86-137.94 137.86-35.6 0-68.97-13.99-94.22-37.74 1.93-1.03 3.92-1.84 5.83-2.94l136.68-78.9a46.11 46.11 0 0023.09-39.8zm-46.54 89.55l-.36 76.02-144.5 83.41c-65.85 38-150.42 15.34-188.44-50.48-17.8-30.8-22.38-66.7-14.43-100.42 1.88 1.17 3.6 2.5 5.53 3.6l136.74 78.91a46.23 46.23 0 0046 .06z"}}]},name:"open-a-i",theme:"outlined"};return re.default=e,re}var G={},me={exports:{}},ve={exports:{}},Ze;function At(){return Ze||(Ze=1,function(e){function t(a){if(Array.isArray(a))return a}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(ve)),ve.exports}var xe={exports:{}},Xe;function Mt(){return Xe||(Xe=1,function(e){function t(a,n){var i=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(i!=null){var o,c,d,p,l=[],g=!0,x=!1;try{if(d=(i=i.call(a)).next,n===0){if(Object(i)!==i)return;g=!1}else for(;!(g=(o=d.call(i)).done)&&(l.push(o.value),l.length!==n);g=!0);}catch(m){x=!0,c=m}finally{try{if(!g&&i.return!=null&&(p=i.return(),Object(p)!==p))return}finally{if(x)throw c}}return l}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(xe)),xe.exports}var be={exports:{}},ye={exports:{}},Qe;function Dt(){return Qe||(Qe=1,function(e){function t(a,n){(n==null||n>a.length)&&(n=a.length);for(var i=0,o=Array(n);i<n;i++)o[i]=a[i];return o}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(ye)),ye.exports}var er;function Ft(){return er||(er=1,function(e){var t=Dt();function a(n,i){if(n){if(typeof n=="string")return t(n,i);var o={}.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(n,i):void 0}}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(be)),be.exports}var je={exports:{}},rr;function Bt(){return rr||(rr=1,function(e){function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(je)),je.exports}var tr;function Rr(){return tr||(tr=1,function(e){var t=At(),a=Mt(),n=Ft(),i=Bt();function o(c,d){return t(c)||a(c,d)||n(c,d)||i()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}(me)),me.exports}var Ce={exports:{}},Se={exports:{}},_e={exports:{}},ar;function Et(){return ar||(ar=1,function(e){var t=le().default;function a(n,i){if(t(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var c=o.call(n,i||"default");if(t(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(_e)),_e.exports}var nr;function Lt(){return nr||(nr=1,function(e){var t=le().default,a=Et();function n(i){var o=a(i,"string");return t(o)=="symbol"?o:o+""}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Se)),Se.exports}var ir;function Nr(){return ir||(ir=1,function(e){var t=Lt();function a(n,i,o){return(i=t(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(Ce)),Ce.exports}var Te={exports:{}},we={exports:{}},or;function zt(){return or||(or=1,function(e){function t(a,n){if(a==null)return{};var i={};for(var o in a)if({}.hasOwnProperty.call(a,o)){if(n.includes(o))continue;i[o]=a[o]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(we)),we.exports}var sr;function qr(){return sr||(sr=1,function(e){var t=zt();function a(n,i){if(n==null)return{};var o,c,d=t(n,i);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(n);for(c=0;c<p.length;c++)o=p[c],i.includes(o)||{}.propertyIsEnumerable.call(n,o)&&(d[o]=n[o])}return d}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(Te)),Te.exports}const kr=Lr(zr);var K={},lr;function Ar(){if(lr)return K;lr=1,Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var e=Y(),t=(0,e.createContext)({});return K.default=t,K}var U={},Pe={exports:{}},cr;function Mr(){return cr||(cr=1,function(e){var t=Nr();function a(i,o){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);o&&(d=d.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),c.push.apply(c,d)}return c}function n(i){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?a(Object(c),!0).forEach(function(d){t(i,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):a(Object(c)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(c,d))})}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Pe)),Pe.exports}var O={},D={},Oe={exports:{}},ur;function Ht(){return ur||(ur=1,function(e){function t(a){return a&&a.__esModule?a:{default:a}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Oe)),Oe.exports}var Ie={exports:{}},Re={exports:{}},dr;function Wt(){return dr||(dr=1,function(e){function t(a,n,i){return n in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i,a}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Re)),Re.exports}var pr;function $t(){return pr||(pr=1,function(e){var t=Wt();function a(i,o){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);o&&(d=d.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),c.push.apply(c,d)}return c}function n(i){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?a(Object(c),!0).forEach(function(d){t(i,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):a(Object(c)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(c,d))})}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Ie)),Ie.exports}var te={},fr;function Gt(){if(fr)return te;fr=1,Object.defineProperty(te,"__esModule",{value:!0}),te.default=e;function e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}return te}var ae={},hr;function Kt(){if(hr)return ae;hr=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=e;function e(t,a){if(!t)return!1;if(t.contains)return t.contains(a);for(var n=a;n;){if(n===t)return!0;n=n.parentNode}return!1}return ae}var gr;function Ut(){if(gr)return D;gr=1;var e=Ht().default;Object.defineProperty(D,"__esModule",{value:!0}),D.clearContainerCache=A,D.injectCSS=m,D.removeCSS=j,D.updateCSS=q;var t=e($t()),a=e(Gt()),n=e(Kt()),i="data-rc-order",o="data-rc-priority",c="rc-util-key",d=new Map;function p(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s.mark;return u?u.startsWith("data-")?u:"data-".concat(u):c}function l(s){if(s.attachTo)return s.attachTo;var u=document.querySelector("head");return u||document.body}function g(s){return s==="queue"?"prependQueue":s?"prepend":"append"}function x(s){return Array.from((d.get(s)||s).children).filter(function(u){return u.tagName==="STYLE"})}function m(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,a.default)())return null;var h=u.csp,b=u.prepend,C=u.priority,w=C===void 0?0:C,P=g(b),k=P==="prependQueue",_=document.createElement("style");_.setAttribute(i,P),k&&w&&_.setAttribute(o,"".concat(w)),h!=null&&h.nonce&&(_.nonce=h?.nonce),_.innerHTML=s;var R=l(u),E=R.firstChild;if(b){if(k){var W=(u.styles||x(R)).filter(function(L){if(!["prepend","prependQueue"].includes(L.getAttribute(i)))return!1;var ue=Number(L.getAttribute(o)||0);return w>=ue});if(W.length)return R.insertBefore(_,W[W.length-1].nextSibling),_}R.insertBefore(_,E)}else R.appendChild(_);return _}function v(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=l(u);return(u.styles||x(h)).find(function(b){return b.getAttribute(p(u))===s})}function j(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=v(s,u);if(h){var b=l(u);b.removeChild(h)}}function f(s,u){var h=d.get(s);if(!h||!(0,n.default)(document,h)){var b=m("",u),C=b.parentNode;d.set(s,C),s.removeChild(b)}}function A(){d.clear()}function q(s,u){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=l(h),C=x(b),w=(0,t.default)((0,t.default)({},h),{},{styles:C});f(b,w);var P=v(u,w);if(P){var k,_;if((k=w.csp)!==null&&k!==void 0&&k.nonce&&P.nonce!==((_=w.csp)===null||_===void 0?void 0:_.nonce)){var R;P.nonce=(R=w.csp)===null||R===void 0?void 0:R.nonce}return P.innerHTML!==s&&(P.innerHTML=s),P}var E=m(s,w);return E.setAttribute(p(w),u),E}return D}var J={},mr;function Jt(){if(mr)return J;mr=1,Object.defineProperty(J,"__esModule",{value:!0}),J.getShadowRoot=a,J.inShadow=t;function e(n){var i;return n==null||(i=n.getRootNode)===null||i===void 0?void 0:i.call(n)}function t(n){return e(n)instanceof ShadowRoot}function a(n){return t(n)?e(n):null}return J}var N={},vr;function Vt(){if(vr)return N;vr=1,Object.defineProperty(N,"__esModule",{value:!0}),N.call=o,N.default=void 0,N.note=n,N.noteOnce=d,N.preMessage=void 0,N.resetWarned=i,N.warning=a,N.warningOnce=c;var e={},t=N.preMessage=function(l){};function a(p,l){}function n(p,l){}function i(){e={}}function o(p,l,g){!l&&!e[g]&&(p(!1,g),e[g]=!0)}function c(p,l){o(a,p,l)}function d(p,l){o(n,p,l)}return c.preMessage=t,c.resetWarned=i,c.noteOnce=d,N.default=c,N}var xr;function De(){if(xr)return O;xr=1;var e=ce().default,t=Z().default;Object.defineProperty(O,"__esModule",{value:!0}),O.generate=j,O.getSecondaryColor=f,O.iconStyles=void 0,O.isIconDefinition=m,O.normalizeAttrs=v,O.normalizeTwoToneColors=A,O.useInsertStyles=O.svgBaseProps=void 0,O.warning=x;var a=t(Mr()),n=t(le()),i=kr,o=Ut(),c=Jt(),d=t(Vt()),p=e(Y()),l=t(Ar());function g(s){return s.replace(/-(.)/g,function(u,h){return h.toUpperCase()})}function x(s,u){(0,d.default)(s,"[@ant-design/icons] ".concat(u))}function m(s){return(0,n.default)(s)==="object"&&typeof s.name=="string"&&typeof s.theme=="string"&&((0,n.default)(s.icon)==="object"||typeof s.icon=="function")}function v(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(s).reduce(function(u,h){var b=s[h];switch(h){case"class":u.className=b,delete u.class;break;default:delete u[h],u[g(h)]=b}return u},{})}function j(s,u,h){return h?p.default.createElement(s.tag,(0,a.default)((0,a.default)({key:u},v(s.attrs)),h),(s.children||[]).map(function(b,C){return j(b,"".concat(u,"-").concat(s.tag,"-").concat(C))})):p.default.createElement(s.tag,(0,a.default)({key:u},v(s.attrs)),(s.children||[]).map(function(b,C){return j(b,"".concat(u,"-").concat(s.tag,"-").concat(C))}))}function f(s){return(0,i.generate)(s)[0]}function A(s){return s?Array.isArray(s)?s:[s]:[]}O.svgBaseProps={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};var q=O.iconStyles=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;return O.useInsertStyles=function(u){var h=(0,p.useContext)(l.default),b=h.csp,C=h.prefixCls,w=h.layer,P=q;C&&(P=P.replace(/anticon/g,C)),w&&(P="@layer ".concat(w,` {
`).concat(P,`
}`)),(0,p.useEffect)(function(){var k=u.current,_=(0,c.getShadowRoot)(k);(0,o.updateCSS)(P,"@ant-design-icons",{prepend:!w,csp:b,attachTo:_})},[])},O}var br;function Dr(){if(br)return U;br=1;var e=Z().default,t=ce().default;Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var a=e(qr()),n=e(Mr()),i=t(Y()),o=De(),c=["icon","className","onClick","style","primaryColor","secondaryColor"],d={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function p(x){var m=x.primaryColor,v=x.secondaryColor;d.primaryColor=m,d.secondaryColor=v||(0,o.getSecondaryColor)(m),d.calculated=!!v}function l(){return(0,n.default)({},d)}var g=function(m){var v=m.icon,j=m.className,f=m.onClick,A=m.style,q=m.primaryColor,s=m.secondaryColor,u=(0,a.default)(m,c),h=i.useRef(),b=d;if(q&&(b={primaryColor:q,secondaryColor:s||(0,o.getSecondaryColor)(q)}),(0,o.useInsertStyles)(h),(0,o.warning)((0,o.isIconDefinition)(v),"icon should be icon definiton, but got ".concat(v)),!(0,o.isIconDefinition)(v))return null;var C=v;return C&&typeof C.icon=="function"&&(C=(0,n.default)((0,n.default)({},C),{},{icon:C.icon(b.primaryColor,b.secondaryColor)})),(0,o.generate)(C.icon,"svg-".concat(C.name),(0,n.default)((0,n.default)({className:j,onClick:f,style:A,"data-icon":C.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:h}))};return g.displayName="IconReact",g.getTwoToneColors=l,g.setTwoToneColors=p,U.default=g,U}var V={},yr;function Yt(){if(yr)return V;yr=1;var e=Z().default;Object.defineProperty(V,"__esModule",{value:!0}),V.getTwoToneColor=o,V.setTwoToneColor=i;var t=e(Rr()),a=e(Dr()),n=De();function i(c){var d=(0,n.normalizeTwoToneColors)(c),p=(0,t.default)(d,2),l=p[0],g=p[1];return a.default.setTwoToneColors({primaryColor:l,secondaryColor:g})}function o(){var c=a.default.getTwoToneColors();return c.calculated?[c.primaryColor,c.secondaryColor]:c.primaryColor}return V}var jr;function Zt(){if(jr)return G;jr=1;var e=Z().default,t=ce().default;Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var a=e(Ir()),n=e(Rr()),i=e(Nr()),o=e(qr()),c=t(Y()),d=e(Hr()),p=kr,l=e(Ar()),g=e(Dr()),x=Yt(),m=De(),v=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,x.setTwoToneColor)(p.blue.primary);var j=c.forwardRef(function(f,A){var q=f.className,s=f.icon,u=f.spin,h=f.rotate,b=f.tabIndex,C=f.onClick,w=f.twoToneColor,P=(0,o.default)(f,v),k=c.useContext(l.default),_=k.prefixCls,R=_===void 0?"anticon":_,E=k.rootClassName,W=(0,d.default)(E,R,(0,i.default)((0,i.default)({},"".concat(R,"-").concat(s.name),!!s.name),"".concat(R,"-spin"),!!u||s.name==="loading"),q),L=b;L===void 0&&C&&(L=-1);var ue=h?{msTransform:"rotate(".concat(h,"deg)"),transform:"rotate(".concat(h,"deg)")}:void 0,Fr=(0,m.normalizeTwoToneColors)(w),Fe=(0,n.default)(Fr,2),Br=Fe[0],Er=Fe[1];return c.createElement("span",(0,a.default)({role:"img","aria-label":s.name},P,{ref:A,tabIndex:L,onClick:C,className:W}),c.createElement(g.default,{icon:s,primaryColor:Br,secondaryColor:Er,style:ue}))});return j.displayName="AntdIcon",j.getTwoToneColor=x.getTwoToneColor,j.setTwoToneColor=x.setTwoToneColor,G.default=j,G}var Cr;function Xt(){if(Cr)return $;Cr=1;var e=ce().default,t=Z().default;Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var a=t(Ir()),n=e(Y()),i=t(kt()),o=t(Zt()),c=function(l,g){return n.createElement(o.default,(0,a.default)({},l,{ref:g,icon:i.default}))},d=n.forwardRef(c);return $.default=d,$}var Qt=Xt();const ea=Wr(Qt),ke="TD_ADMIN_SUSPECTS_PROMPT",Ae="TD_ADMIN_SUSPECTS_PROMPT_SUFFIX",ra={ghibli:"Make this picture ghibli style in 2:3 aspect-ratio. It's a",fox:"Now make the image in the Family Guy style, aspect ratio at 2:3. It's a",pixar:"Now make the image in the 3d Pixar style, aspect ratio at 2:3. It's a",realistic:"Make this image realistic style, keep the Polaroid frame (don't make the image granular) and aspect ratio at 2:3. It's a",zootopia:"Make this image to look like a character from Zootopia, keep the Polaroid frame (don't make the image granular) and aspect ratio at 2:3. It's a"};function ta(){const[e,t]=T.useState(localStorage.getItem(ke)??"Make a pixar version of this image, keep the Polaroid frame and aspect ratio at 2:3. It's a"),[a,n]=T.useState(localStorage.getItem(Ae)==="true"),{queryParams:i}=B(),o=d=>{const p=d.target.value;t(p),localStorage.setItem(ke,p)},c=d=>{n(d),localStorage.setItem(Ae,d?"true":"false")};return r.jsxs(y,{align:"center",className:"my-2",gap:8,children:[r.jsx(S.Text,{children:"Custom Prompt:"}),r.jsx(_r,{disabled:i.has("prompt"),onChange:o,placeholder:"AI Prompt",style:{width:320},value:e}),r.jsx(ne,{checked:a,checkedChildren:"Include Features",onChange:c,unCheckedChildren:"No Features"})]})}function Sr({suspect:e,extendedInfo:t}){const a=Qr(),{notification:n}=$r.useApp(),{queryParams:i}=B(),o=i.get("prompt"),c=()=>{console.log("promptQP",o);let d=o?ra[o]:localStorage.getItem(ke)??"";if(o==="zootopia"){if(!t.animal){n.error({message:"Error",description:"Suspect does not have an animal type defined."});return}d+=`${t.animal} `}if(!t.prompt){n.error({message:"Error",description:"Suspect does not have a prompt defined."});return}let p=`${d} ${t.prompt}`;localStorage.getItem(Ae)==="true"&&(p+=` make sure it has the following features: ${e.features.join(", ")}`),console.log(p),a(p)};return r.jsx(H,{onClick:c,size:"small",children:r.jsx(ea,{})})}function aa({suspects:e,suspectsExtendedInfos:t,addSuspectEntryToUpdate:a,addExtendedInfoEntryToUpdate:n}){const{removeParam:i,queryParams:o,addParam:c}=B(),d=o.get("suspectId"),p=o.get("drawerTab")||"Basic",l=e[d??""],g=(m,v,j)=>{const f=e[m];f&&f[v]!==j&&a(m,{...f,[v]:j})},x=(m,v,j)=>{const f=t[m];f&&f[v]!==j&&n(m,{...f,[v]:j})};return l?r.jsx(wr,{footer:r.jsx(na,{}),onClose:()=>i("suspectId"),open:!!l,placement:"right",title:l.name.pt,width:400,children:r.jsxs("div",{className:"suspect__drawer",children:[r.jsxs("div",{className:"grid",style:{gridTemplateColumns:"1fr 1.25fr",height:"100%",overflowY:"auto"},children:[r.jsx("div",{children:r.jsx("div",{style:{top:64,position:"fixed"},children:r.jsx(qe,{cardId:l.id,cardWidth:100})})}),r.jsxs(y,{gap:4,vertical:!0,children:[r.jsx(Pr,{onChange:m=>c("drawerTab",m),options:["Basic","Features","Extended"],value:p}),r.jsx(M,{defaultValue:l.name.pt,label:"Name in PT",prefix:r.jsx("span",{children:"ðŸ‡§ðŸ‡·"}),suspect:l,suspectId:l.id,updater:a,valueKey:"name.pt"}),r.jsx(M,{defaultValue:l.name.en,label:"Name in EN",prefix:r.jsx("span",{children:"ðŸ‡ºðŸ‡¸"}),suspect:l,suspectId:l.id,updater:a,valueKey:"name.en"}),r.jsx("div",{children:r.jsx(se,{onChange:m=>g(l.id,"age",m),options:jt,placeholder:"Select Age",style:{width:128},value:l.age})})]})]}),p==="Basic"&&r.jsx(ia,{suspect:l,updateSuspectKeyValue:g},d),p==="Features"&&r.jsx(sa,{addEntryToUpdate:a,suspect:l},d),p==="Extended"&&r.jsx(oa,{addExtendedInfoEntryToUpdate:n,suspect:l,suspectExtendedInfo:t[l.id]||{},updateExtendedKeyValue:x},d)]})}):null}function na(){const{queryParams:e,addParam:t}=B(),a=e.get("suspectId")??"",n=()=>{const o=Number(a?.split("-")[1])??0;console.log("num",o),o&&t("suspectId",`us-${(o+1).toString().padStart(3,"0")}`)},i=()=>{const o=Number(a?.split("-")[1])??0;o&&o>1&&t("suspectId",`us-${(o-1).toString().padStart(3,"0")}`)};return r.jsxs(y,{gap:8,justify:"end",children:[r.jsx(H,{onClick:i,children:"Previous"}),r.jsx(H,{onClick:n,children:"Next"})]})}function M({label:e,defaultValue:t,suspect:a,suspectId:n,updater:i,valueKey:o,...c}){const[d,p]=T.useState(t||"");T.useEffect(()=>{t&&p(t)},[a.id]);const l=()=>{if(n&&d!==t){const g=I.cloneDeep(a);I.set(g,o,d),i(a.id,g)}};return r.jsx(_r,{onBlur:l,onChange:g=>p(g.target.value),placeholder:e?String(e):"",value:d,...c})}function F({label:e,suspectId:t,valueKey:a,value:n,options:i,updater:o}){return r.jsxs(y,{vertical:!0,children:[r.jsx(S.Text,{strong:!0,children:e}),r.jsx(et.Group,{onChange:c=>o(t,a,c.target.value),options:i,size:"small",style:{display:"flex",flexDirection:"column",gap:3},value:n})]})}function Ne({label:e,suspectId:t,valueKey:a,value:n,options:i,updater:o,disabled:c}){return r.jsxs(y,{vertical:!0,children:[r.jsx(S.Text,{strong:!0,children:e}),r.jsx(se,{disabled:c,onChange:d=>o(t,a,d),options:i,placeholder:typeof e=="string"?e:"",style:{width:"100%",marginTop:6},value:n})]})}function ia({suspect:e,updateSuspectKeyValue:t}){return r.jsxs("div",{className:"grid grid-2 gap-4 my-4",children:[r.jsx(F,{label:"Gender",options:Ct,suspectId:e.id,updater:t,value:e.gender,valueKey:"gender"}),r.jsx(F,{label:"Race",options:St,suspectId:e.id,updater:t,value:e.race,valueKey:"race"}),r.jsx(F,{label:"Build",options:_t,suspectId:e.id,updater:t,value:e.build,valueKey:"build"}),r.jsx(F,{label:"Height",options:Tt,suspectId:e.id,updater:t,value:e.height,valueKey:"height"})]})}function oa({suspect:e,suspectExtendedInfo:t,updateExtendedKeyValue:a,addExtendedInfoEntryToUpdate:n}){const i=r.jsx(Gr,{title:"This field is inferred from Testimony Answers",children:r.jsx(vt,{})});return r.jsxs(r.Fragment,{children:[r.jsxs(y,{gap:8,vertical:!0,children:[r.jsx(S.Title,{italic:!0,level:5,children:"Extended Info"}),r.jsxs(y,{gap:4,vertical:!0,children:[r.jsx(S.Text,{strong:!0,children:"Persona"}),r.jsx(M,{defaultValue:t.persona?.pt||"",label:"Persona in PT",prefix:r.jsx("span",{children:"ðŸ‡§ðŸ‡·"}),suspect:t,suspectId:e.id,updater:n,valueKey:"persona.pt"}),r.jsx(M,{defaultValue:t.persona?.en||"",label:"Persona in EN",prefix:r.jsx("span",{children:"ðŸ‡ºðŸ‡¸"}),suspect:t,suspectId:e.id,updater:n,valueKey:"persona.en"})]}),r.jsxs(y,{gap:4,vertical:!0,children:[r.jsx(S.Text,{strong:!0,children:"Prompt"}),r.jsx(M,{defaultValue:t.prompt||"",label:"Prompt",suspect:t,suspectId:e.id,updater:n,valueKey:"prompt"})]}),r.jsxs(y,{gap:4,vertical:!0,children:[r.jsx(S.Text,{strong:!0,children:"Description"}),r.jsx(M,{defaultValue:t.description||"",label:"Description",suspect:t,suspectId:e.id,updater:n,valueKey:"description"})]})]}),r.jsxs("div",{className:"grid grid-2 gap-4 my-4",children:[r.jsxs(y,{gap:6,vertical:!0,children:[r.jsx(S.Text,{strong:!0,children:"Animal"}),r.jsx(M,{defaultValue:t.animal||"",label:"Animal",suspect:t,suspectId:e.id,updater:n,valueKey:"animal"})]}),r.jsxs(y,{gap:6,vertical:!0,children:[r.jsx(S.Text,{strong:!0,children:"Occupation"}),r.jsx(M,{defaultValue:t.profession||"",label:"Occupation",suspect:t,suspectId:e.id,updater:n,valueKey:"profession"})]}),r.jsxs(y,{gap:6,vertical:!0,children:[r.jsx(S.Text,{strong:!0,children:"Ethnicity"}),r.jsx(M,{defaultValue:t.ethnicity||"",label:"Ethnicity",suspect:t,suspectId:e.id,updater:n,valueKey:"ethnicity"})]}),r.jsx(Ne,{disabled:!0,label:r.jsxs(r.Fragment,{children:["Zodiac Sign ",i]}),options:Pt,suspectId:e.id,updater:a,value:t.zodiacSign,valueKey:"zodiacSign"}),r.jsx(Ne,{disabled:!0,label:r.jsxs(r.Fragment,{children:["Alignment ",i]}),options:Ot,suspectId:e.id,updater:a,value:t.alignment,valueKey:"alignment"}),r.jsx(Ne,{disabled:!0,label:r.jsxs(r.Fragment,{children:["MBTI ",i]}),options:wt.map(o=>({label:o,value:o})),suspectId:e.id,updater:a,value:t.mbti,valueKey:"mbti"}),r.jsx(F,{label:"Sexual Orientation",options:It,suspectId:e.id,updater:a,value:t.sexualOrientation,valueKey:"sexualOrientation"}),r.jsx(F,{label:"Economic Status",options:Nt,suspectId:e.id,updater:a,value:t.economicClass,valueKey:"economicClass"}),r.jsx(F,{label:"Education Level",options:Rt,suspectId:e.id,updater:a,value:t.educationLevel,valueKey:"educationLevel"}),r.jsxs(y,{gap:4,vertical:!0,children:[r.jsx(S.Text,{strong:!0,children:"Personality Traits"}),r.jsx(se,{defaultValue:t.personalityTraits??[],mode:"tags",onChange:o=>a(e.id,"personalityTraits",o.sort()),placeholder:"Personality Traits",size:"small",style:{width:"100%"}})]})]})]})}function sa({suspect:e,addEntryToUpdate:t}){const a=e.features??[],n=i=>{const o=a.includes(i)?a.filter(c=>c!==i):[...a,i];t(e.id,{...e,features:o})};return r.jsxs(y,{gap:6,vertical:!0,children:[r.jsx(S.Title,{italic:!0,level:5,children:"Image Features for gb style"}),r.jsx("div",{className:"grid grid-2",children:Me.map(i=>r.jsxs("div",{className:"my-4",children:[r.jsx(S.Text,{strong:!0,children:i.title}),i.features.map(o=>r.jsxs(y,{className:"my-2",gap:4,children:[r.jsx(ne,{checked:a.includes(o.id),onChange:()=>n(o.id),size:"small"})," ",o.label]},o.id))]},i.title))})]})}function la({suspectsQuery:e,suspectsExtendedInfoQuery:t}){const a=e.data,n=t.data,{addParam:i,queryParams:o}=B(),[c,d]=T.useState("cards"),p=o.get("variant")??"gb",l=o.get("sortBy")??"id",g=Number(o.get("cardsPerRow"))||10,x=o.get("activeFeature")||"",m=o.get("suspectId"),[v,j]=Xr(g,{margin:0,gap:8}),f=T.useMemo(()=>I.orderBy(Object.values(a),s=>l==="name.pt"?Q(s.name.pt).toLowerCase():l==="name.en"?Q(s.name.en).toLowerCase():s[l]??s.id,["asc"]),[a,l]),A=(s,u)=>{const h=a[s];if(!h)return;const b=h.features||[];b.includes(u)?e.addEntryToUpdate(s,{...h,features:b.filter(C=>C!==u)}):e.addEntryToUpdate(s,{...h,features:[...b,u]})},q=T.useMemo(()=>[{title:"ID",dataIndex:"id",key:"id",width:80,sorter:(s,u)=>Number(s.id.split("-").at(-1))-Number(u.id.split("-").at(-1)),render:(s,u)=>r.jsxs(y,{align:"center",gap:4,vertical:!0,children:[r.jsxs(y,{align:"center",gap:6,children:[r.jsx(ee,{children:s})," ",r.jsx(Sr,{extendedInfo:n[u.id],suspect:u})]}),r.jsx(qe,{cardId:u.id,cardWidth:v/1.5,className:"suspect__image"})]})},{title:"Name (PT)",dataIndex:["name","pt"],key:"name.pt",sorter:(s,u)=>Q(s.name.pt.toLocaleLowerCase()).localeCompare(Q(u.name.pt.toLocaleLowerCase())),render:(s,u)=>r.jsxs(y,{vertical:!0,children:[r.jsx(S.Text,{children:u.name.pt}),r.jsx(S.Text,{children:u.name.en})]})},{title:"Gender",dataIndex:"gender",key:"gender",sorter:(s,u)=>s.gender.localeCompare(u.gender)},{title:"Age",dataIndex:"age",key:"age",render:s=>r.jsx(ee,{children:s}),sorter:(s,u)=>s.age.localeCompare(u.age)},{title:"Race",dataIndex:"race",key:"race",sorter:(s,u)=>s.race.localeCompare(u.race)},{title:"Build",dataIndex:"build",key:"build",sorter:(s,u)=>s.build.localeCompare(u.build)},{title:"Height",dataIndex:"height",key:"height",sorter:(s,u)=>s.height.localeCompare(u.height)},{title:"Features",dataIndex:"features",key:"features",sorter:(s,u)=>s.features.length-u.features.length,render:(s,u)=>r.jsxs(y,{gap:8,vertical:!0,children:[r.jsx(y,{gap:8,wrap:"wrap",children:s.map(h=>r.jsx(ee,{children:h},h))}),!!x&&r.jsxs(y,{className:"mt-2 mb-4",gap:8,children:[r.jsxs(S.Text,{keyboard:!0,children:[x,":"]}),r.jsx(ne,{checked:s?.includes(x),checkedChildren:"âœ“",onChange:()=>A(u.id,x),unCheckedChildren:"âœ—"})]})]})},{title:"Edit",dataIndex:"id",key:"edit",width:80,render:s=>r.jsx(H,{block:!0,onClick:()=>i("suspectId",s),size:"small",children:r.jsx(Ge,{})})}],[x,v]);return r.jsxs(r.Fragment,{children:[r.jsxs(y,{align:"center",justify:"space-between",children:[r.jsxs(S.Title,{level:2,children:["Total Suspects: ",f.length]}),r.jsx(Pr,{onChange:s=>d(s),options:[{value:"cards",icon:r.jsx(rt,{})},{value:"table",icon:r.jsx(Kr,{})}]})]}),r.jsxs(Le,{style:{position:"sticky",top:0,background:"black",zIndex:1,width:"100%"},children:[r.jsx(qt,{})," ",r.jsx(ta,{})]}),r.jsxs(Ur.PreviewGroup,{children:[c==="cards"&&r.jsx(Le,{className:"my-2",ref:j,wrap:!0,children:f.map(s=>{const u=n[s.id];return r.jsxs("div",{className:"suspect",style:{width:`${v}px`},children:[r.jsx(qe,{cardId:s.id,cardWidth:v,className:"suspect__image"}),r.jsxs("div",{className:"suspect__name",children:[r.jsxs(y,{align:"center",gap:3,children:[r.jsx(ee,{children:s.id})," ",r.jsx(Sr,{extendedInfo:u,suspect:s})," ",!u.prompt&&r.jsx(yt,{style:{color:"red"}})," ",!!u.animal&&r.jsx(ht,{style:{color:"sandybrown"}})]}),r.jsxs("div",{style:{backgroundColor:s.name.pt?"transparent":"red"},children:["ðŸ‡§ðŸ‡· ",s.name.pt]}),r.jsx(S.Text,{className:Ee({"missing-value":!u.persona.pt}),ellipsis:!0,italic:!0,type:"secondary",children:r.jsx("small",{children:I.truncate(u.persona.pt||"-",{length:18})})}),r.jsxs("div",{style:{backgroundColor:s.name.en?"transparent":"red"},children:["ðŸ‡ºðŸ‡¸ ",s.name.en]}),r.jsx(S.Text,{className:Ee({"missing-value":!u.persona.en}),ellipsis:!0,italic:!0,type:"secondary",children:r.jsx("small",{children:I.truncate(u.persona.en||"-",{length:18})})}),r.jsxs("div",{className:"suspect__info",style:ca(s),children:[r.jsxs("div",{children:[r.jsxs("div",{children:[s.gender==="male"?r.jsx(tt,{}):r.jsx(at,{})," ",s.age]}),r.jsx("div",{children:r.jsx("em",{children:s.race})})]}),r.jsxs("div",{className:"uppercase",children:[r.jsx(nt,{}),r.jsx("br",{}),s.build.charAt(0)]}),r.jsxs("div",{className:"uppercase",children:[r.jsx(it,{}),r.jsx("br",{}),s.height.charAt(0)]}),r.jsxs("div",{children:[s?.features?.length??0," features"]})]}),r.jsx(H,{block:!0,danger:!s?.features||s?.features?.length<2,onClick:()=>i("suspectId",s.id),size:"small",children:r.jsx(Ge,{})}),!!x&&r.jsxs(y,{className:"mt-2 mb-4",gap:8,children:[r.jsxs(S.Text,{keyboard:!0,children:[x,":"]}),r.jsx(ne,{checked:s.features?.includes(x),checkedChildren:"âœ“",onChange:()=>A(s.id,x),unCheckedChildren:"âœ—"})]})]})]},s.id)})},p),c==="table"&&r.jsx(ot,{columns:q,dataSource:f,pagination:!1,rowKey:"id"})]}),r.jsx(aa,{addExtendedInfoEntryToUpdate:t.addEntryToUpdate,addSuspectEntryToUpdate:e.addEntryToUpdate,suspects:a,suspectsExtendedInfos:t.data},m)]})}const ca=e=>!e.build||!e.height||e.build.length===1||e.height.length===1?{borderColor:"red"}:{};function z(e,t){return I.orderBy(Object.entries(e).map(([a,n])=>({key:a,label:I.capitalize(a),value:n,percentage:Math.round(n/t*100)})),["percentage"],["desc"])}function ua({data:e}){const[t,a]=T.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsx(H,{block:!0,onClick:()=>a(!0),children:"See Stats"}),t&&r.jsx(da,{data:e,onClose:()=>a(!1),open:t})]})}function da({data:e,open:t,onClose:a}){const{ages:n,races:i,genders:o,builds:c,heights:d}=T.useMemo(()=>{const l={},g={},x={},m={},v={};Object.values(e).forEach(f=>{f.age||console.log("ðŸŽ‚ Missing age for suspect:",f.id),l[f.age]=(l[f.age]??0)+1,f.race||console.log("ðŸŒ Missing race for suspect:",f.id),g[f.race]=(g[f.race]??0)+1,f.gender||console.log("âš§ï¸ Missing gender for suspect:",f.id),x[f.gender]=(x[f.gender]??0)+1,f.build||console.log("ðŸ’ª Missing build for suspect:",f.id),m[f.build||"?"]=(m[f.build||"?"]??0)+1,f.height||console.log("ðŸ“ Missing height for suspect:",f.id),v[f.height||"?"]=(v[f.height||"?"]??0)+1});const j=Object.keys(e).length;return{ages:z(l,j),races:z(g,j),genders:z(x,j),builds:z(m,j),heights:z(v,j)}},[e]),p=T.useMemo(()=>{const l={};Object.values(e).forEach(m=>{m.features?.forEach(v=>{l[v]=(l[v]??0)+1})});const g=Object.keys(e).length,x=Me.reduce((m,v)=>{const j=v.features.map(f=>f.id);return m.push(...j),m},[]);return I.orderBy(z(l,g),m=>x.indexOf(m.key),["asc"])},[e]);return r.jsxs(wr,{onClose:a,open:t,placement:"right",title:"Suspects Statistics",width:400,children:[r.jsx(S.Text,{strong:!0,children:"Race"}),r.jsx("ul",{className:"statistic__list",children:i.map(l=>r.jsxs("li",{children:[r.jsx("strong",{children:l.label})," - ",l.percentage,"%"]},l.key))}),r.jsx(S.Text,{strong:!0,children:"Gender"}),r.jsx("ul",{className:"statistic__list",children:o.map(l=>r.jsxs("li",{children:[r.jsx("strong",{children:l.label})," - ",l.percentage,"%"]},l.key))}),r.jsx(S.Text,{strong:!0,children:"Age"}),r.jsx("ul",{className:"statistic__list",children:n.map(l=>r.jsxs("li",{children:[r.jsx("strong",{children:l.label})," - ",l.percentage,"%"]},l.key))}),r.jsx(S.Text,{strong:!0,children:"Build"}),r.jsx("ul",{className:"statistic__list",children:c.map(l=>r.jsxs("li",{children:[r.jsx("strong",{children:l.label})," - ",l.percentage,"%"]},l.key))}),r.jsx(S.Text,{strong:!0,children:"Height"}),r.jsx("ul",{className:"statistic__list",children:d.map(l=>r.jsxs("li",{children:[r.jsx("strong",{children:l.label})," - ",l.percentage,"%"]},l.key))}),r.jsx(S.Text,{strong:!0,children:"Features"}),r.jsx("ul",{className:"statistic__list",children:p.map(l=>r.jsxs("li",{children:[r.jsx("strong",{children:l.label})," - ",l.percentage,"% (",l.value,")"]},l.key))})]})}const pa=[{value:"ct",label:"Cartoon (deprecated)"},{value:"ai",label:"AI (deprecated)"},{value:"md",label:"Models (deprecated)"},{value:"wc",label:"Wacky (deprecated)"}],fa=[{value:"id",label:"Id"},{value:"name.pt",label:"Name (PT)"},{value:"name.en",label:"Name (EN)"},{value:"ethnicity",label:"Ethnicity"},{value:"gender",label:"Gender"},{value:"age",label:"Age"},{value:"height",label:"Height"},{value:"build",label:"Build"}],ha=[{value:"",label:"No Prompt/Custom"},{value:"ghibli",label:"Ghibli Style"},{value:"realistic",label:"Realistic Style"},{value:"pixar",label:"Pixar Style"},{value:"fox",label:"Fox Style"},{value:"zootopia",label:"Zootopia Style"}];function ga({suspectsQuery:e,suspectsExtendedInfoQuery:t}){const{addParam:a,queryParams:n}=B();return r.jsxs(lt,{children:[r.jsxs(y,{gap:12,vertical:!0,children:[r.jsx(We,{dirt:JSON.stringify(e.entriesToUpdate),isDirty:e.isDirty,isSaving:e.isSaving,onSave:e.save,children:"Save Suspects"}),r.jsx(ze,{block:!0,data:()=>ma(e.data),disabled:e.isDirty,fileName:"suspects.json",hasNewData:e.hasFirestoreData}),r.jsx(y,{justify:"center",children:r.jsx(He,{docId:"suspects",path:"tdr",queryKey:["tdr","suspects"]})})]}),r.jsx(X,{}),r.jsxs(y,{gap:12,vertical:!0,children:[r.jsx(We,{dirt:JSON.stringify(t.entriesToUpdate),isDirty:t.isDirty,isSaving:t.isSaving,onSave:t.save,children:"Save Extended"}),r.jsx(ze,{block:!0,data:()=>va(t.data),disabled:t.isDirty,fileName:"suspects-extended-info.json",hasNewData:t.hasFirestoreData}),r.jsx(y,{justify:"center",children:r.jsx(He,{docId:"suspectsExtendedInfo",path:"tdr",queryKey:["tdr","suspectsExtendedInfo"]})})]}),r.jsx(X,{}),r.jsx(ct,{}),r.jsx(X,{}),r.jsxs(Jr,{layout:"vertical",children:[r.jsx(st,{label:"Cards Per Row",max:12,min:2,onChange:i=>a("cardsPerRow",i),value:Number(n.get("cardsPerRow")??"10")}),r.jsx(de,{label:"Sort By",onChange:i=>a("sortBy",i),options:fa,value:n.get("sortBy")??"id"}),r.jsx(de,{label:"Other Versions",onChange:i=>a("variant",i),options:pa,value:n.get("variant")??"gb"}),r.jsx(de,{label:"Prompt Style",onChange:i=>a("prompt",i),options:ha,value:n.get("prompt")??""})]}),r.jsx(X,{}),r.jsx(ua,{data:e.data})]})}function ma(e){const t=I.cloneDeep(e);return Tr(t,["id","name","gender","race","ethnicity","age","height","build","features","gbExclusive"])}function va(e){return Tr(e,["id","persona","prompt","description"])}function on(){const e=$e({tdrResourceName:"suspects",firestoreDataCollectionName:"suspects",serialize:!0}),t=$e({tdrResourceName:"suspects-extended-info",firestoreDataCollectionName:"suspectsExtendedInfo",serialize:!0});return r.jsx(Vr,{subtitle:"Information",title:"Suspects",children:r.jsxs(Be,{hasSider:!0,children:[r.jsx(Zr,{children:r.jsx(ga,{suspectsExtendedInfoQuery:t,suspectsQuery:e})}),r.jsx(Be.Content,{className:"content",children:r.jsx(Yr,{error:e.error||t.error,hasResponseData:!I.isEmpty(e.data)&&!I.isEmpty(t.data),isLoading:e.isLoading||t.isLoading,children:r.jsx(la,{suspectsExtendedInfoQuery:t,suspectsQuery:e})})})]})})}export{on as default};
