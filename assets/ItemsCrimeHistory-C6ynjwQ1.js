import{r as C,j as e,F as d,B as j,aD as h,b as w,P as b,L as g}from"./index-BsoPVhT3.js";import{D as $}from"./DataLoadingWrapper-CI8yioyp.js";import{C as S}from"./CopyToClipboardButton-BSFTFLB_.js";import{I as p}from"./Item-Bvy7-S4d.js";import{u as F}from"./useCopyToClipboardFunction-gSE_1188.js";import{u as f}from"./useTDResource-L4x7-JAp.js";import{l as c,P as T}from"./useBaseUrl-BU9lWO28.js";import{I as u,b as i}from"./ItemBuildingBlocks-C3kaFBUx.js";import{S as L}from"./index-D0xYznwp.js";import{F as k}from"./Table-DAmMWKz_.js";import"./LanguageFlag-_fzgf_PA.js";import"./IdcardOutlined-SFxoASck.js";import"./index-DEhzfEP7.js";import"./index-BLH0sDOo.js";import"./index-BwErxVyH.js";import"./index-CnnupVpL.js";import"./scrollTo-gND1_r2P.js";import"./Pagination-BjN7dakp.js";function E(){const n=f("items"),I=F(),v=C.useMemo(()=>{const s=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("suspect"))),t=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("weapon"))),r=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("evidence"))),o=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("location"))),l=Math.max(s.length,t.length,r.length,o.length),x=[];for(let a=0;a<l;a++)x.push({id:`crime-${a}`,suspect:s[a],weapon:t[a],evidence:r[a],location:o[a]});return x},[n.data]),m=(s,t)=>{const o={id:`dmhk-${t==="weapon"?"wp":"ev"}-000`,type:t,name:{en:s.name.en,pt:s.name.pt},itemId:s.id},l=JSON.stringify({[o.id]:o},null,2);I(l.substring(1,l.length-1))},y=[{title:"id",dataIndex:"id"},{title:"Suspect",dataIndex:"suspect",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"})]}):"?"})},{title:"Means of Murder",dataIndex:"weapon",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"}),e.jsx(j,{icon:e.jsx(h,{}),onClick:()=>m(s,"weapon"),size:"small",children:"Crime"})]}):"?"})},{title:"Evidence",dataIndex:"evidence",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"}),e.jsx(j,{icon:e.jsx(h,{}),onClick:()=>m(s,"evidence"),size:"small",children:"Crime"})]}):"?"})},{title:"Location",dataIndex:"location",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"})]}):"?"})},{title:"Crime",dataIndex:"id",render:(s,t)=>{const r=`${t.id} - Suspect: ${t.suspect?.name?.en} (id: ${t.suspect.id}), Means of Murder:${t.weapon?.name?.en} (id: ${t.weapon.id}), Piece of Evidence: ${t?.evidence?.name?.en} (id: ${t.evidence.id}), and the Location: ${t?.location?.name?.en} (id: ${t.location.id})`;return e.jsxs(d,{vertical:!0,children:[e.jsx(S,{content:r}),e.jsx(w.TextArea,{readOnly:!0,rows:3,value:r})]})}}];return e.jsx(L,{className:"my-4",direction:"vertical",children:e.jsx(k,{columns:y,dataSource:v,pagination:{showQuickJumper:!0},rowKey:"id"})})}function V(){const n=f("items");return e.jsx(b,{subtitle:"Crime History Random Sets",title:"Items",children:e.jsxs(g,{hasSider:!0,children:[e.jsx(T,{children:"-"}),e.jsx(g.Content,{className:"content",children:e.jsx($,{error:n.error,hasResponseData:!c.isEmpty(n.data),isLoading:n.isLoading,children:e.jsx(E,{})})})]})})}export{V as ItemsCrimeHistorySets,V as default};
