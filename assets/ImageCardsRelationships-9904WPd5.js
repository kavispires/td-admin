import{f as l,r as h,h as _,K as T,n as $,y as L,k as St,m as Ct,z as Ot,o as tt,C as W,A as et,E as ot,F as wt,G as nt,J as rt,M as jt,p as It,N as Bt,O as Et,Q as Rt,a as at,_ as it,U as Pt,j as s,I as zt,x as Tt,V as _t,P as Nt,L as J}from"./index-BNJYKVIC.js";import{u as st,R as Mt,I as Ft}from"./RelationshipsStats-hUPW9OuD.js";import{T as qt}from"./TransparentButton-IMQzLKNX.js";import{I as Lt}from"./IdTag-CXhwROsX.js";import{D as Dt}from"./DataLoadingWrapper-DdDgtoI9.js";import{l as A,P as Gt}from"./useBaseUrl-CnhjxzNY.js";import{I as Ht}from"./ImageCard-D6AuhLer.js";import{R as kt}from"./RelationshipCountTag-CZlw2FwN.js";import{C as Vt}from"./index-CaJNatTm.js";import{R as At}from"./VerticalAlignTopOutlined-CF96dUvT.js";import{g as Wt,s as Ut}from"./scrollTo-nlbBddAi.js";import{t as Xt}from"./throttleByAnimationFrame-CtOfX4HG.js";import{c as Zt}from"./index-BxojlLAl.js";import{B as Jt,D as Kt}from"./DownloadButton-VHM-XuBD.js";import{R as lt}from"./FileTextOutlined-D340_M9j.js";import{R as Qt}from"./Item-_XCH4_tE.js";import{R as Yt}from"./SyncOutlined-CJG-lUjk.js";import{c as K,a as k}from"./FilterEntries-CCoAyxlA.js";import{R as te}from"./ResponseState-BZX1qR8r.js";import{S as ee}from"./SaveButton-_SvePNBb.js";import{S as V}from"./SiderContent-hSemqOY9.js";import{T as oe,c as ne,C as re}from"./constants-DeGr9eff.js";import{F as ae}from"./index-FDrAMI0R.js";import"./hooks-C9Xav8N-.js";import"./useMutation-DjmQ5E5Z.js";import"./useQueryParams-DLTpWxK3.js";import"./index-C9mPKTN_.js";import"./useCopyToClipboardFunction-D1E4SsD2.js";import"./index-aBvBbvdh.js";import"./index-r9K_hLPp.js";import"./PlusOutlined-BDsC9wFV.js";import"./index-PmBYYg5g.js";import"./index-B4ksTH7Q.js";import"./index-BqxBltHX.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-BuXNrql8.js";import"./gapSize-U1swVQyS.js";const U=l.createContext(void 0),{Provider:ie}=U;var se=function(t,r){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(o[e[n]]=t[e[n]]);return o};const le=t=>{const{icon:r,description:o,prefixCls:e,className:n}=t,a=se(t,["icon","description","prefixCls","className"]),u=l.createElement("div",{className:`${e}-icon`},l.createElement(lt,null));return l.createElement("div",Object.assign({},a,{className:_(n,`${e}-content`)}),r||o?l.createElement(l.Fragment,null,r&&l.createElement("div",{className:`${e}-icon`},r),o&&l.createElement("div",{className:`${e}-description`},o)):u)},ce=h.memo(le),Q=t=>t===0?0:t-Math.sqrt(Math.pow(t,2)/2),de=t=>{const{componentCls:r,floatButtonSize:o,motionDurationSlow:e,motionEaseInOutCirc:n,calc:a}=t,u=new T("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${$(o)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),f=new T("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${$(o)}, 0)`,transformOrigin:"0 0",opacity:0}}),p=new T("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${$(a(o).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),m=new T("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${$(a(o).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),c=new T("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${$(a(o).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),i=new T("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${$(a(o).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0}}),C=new T("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${$(o)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),v=new T("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${$(o)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),d=`${r}-group`;return[{[d]:{[`&${d}-top ${d}-wrap`]:L(`${d}-wrap`,u,f,e,!0),[`&${d}-bottom ${d}-wrap`]:L(`${d}-wrap`,c,i,e,!0),[`&${d}-left ${d}-wrap`]:L(`${d}-wrap`,C,v,e,!0),[`&${d}-right ${d}-wrap`]:L(`${d}-wrap`,p,m,e,!0)}},{[`${d}-wrap`]:{[`&${d}-wrap-enter, &${d}-wrap-appear`]:{opacity:0,animationTimingFunction:n},[`&${d}-wrap-leave`]:{opacity:1,animationTimingFunction:n}}}]},ue=t=>{const{antCls:r,componentCls:o,floatButtonSize:e,margin:n,borderRadiusLG:a,borderRadiusSM:u,badgeOffset:f,floatButtonBodyPadding:p,zIndexPopupBase:m,calc:c}=t,i=`${o}-group`;return{[i]:Object.assign(Object.assign({},tt(t)),{zIndex:m,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:e,minHeight:e,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,borderRadius:a,[`${i}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${i}-rtl`]:{direction:"rtl"},[o]:{position:"static"}}),[`${i}-top > ${i}-wrap`]:{flexDirection:"column",top:"auto",bottom:c(e).add(n).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:n,bottom:c(n).mul(-1).equal()}},[`${i}-bottom > ${i}-wrap`]:{flexDirection:"column",top:c(e).add(n).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:n,top:c(n).mul(-1).equal()}},[`${i}-right > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:c(e).add(n).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:n,height:"100%",left:{_skip_check_:!0,value:c(n).mul(-1).equal()}}},[`${i}-left > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:c(e).add(n).equal()},"&::after":{content:'""',position:"absolute",width:n,height:"100%",right:{_skip_check_:!0,value:c(n).mul(-1).equal()}}},[`${i}-circle`]:{gap:n,[`${i}-wrap`]:{gap:n}},[`${i}-square`]:{[`${o}-square`]:{padding:0,borderRadius:0,[`&${i}-trigger`]:{borderRadius:a},"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${$(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${r}-badge`]:{[`${r}-badge-count`]:{top:c(c(p).add(f)).mul(-1).equal(),insetInlineEnd:c(c(p).add(f)).mul(-1).equal()}}},[`${i}-wrap`]:{borderRadius:a,boxShadow:t.boxShadowSecondary,[`${o}-square`]:{boxShadow:"none",borderRadius:0,padding:p,[`${o}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:u}}}},[`${i}-top > ${i}-wrap, ${i}-bottom > ${i}-wrap`]:{[`> ${o}-square`]:{"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${$(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-left > ${i}-wrap, ${i}-right > ${i}-wrap`]:{[`> ${o}-square`]:{"&:first-child":{borderStartStartRadius:a,borderEndStartRadius:a},"&:last-child":{borderStartEndRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:"none",borderInlineEnd:`${$(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-circle-shadow`]:{boxShadow:"none"},[`${i}-square-shadow`]:{boxShadow:t.boxShadowSecondary,[`${o}-square`]:{boxShadow:"none",padding:p,[`${o}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:u}}}}},me=t=>{const{antCls:r,componentCls:o,floatButtonBodyPadding:e,floatButtonIconSize:n,floatButtonSize:a,borderRadiusLG:u,badgeOffset:f,dotOffsetInSquare:p,dotOffsetInCircle:m,zIndexPopupBase:c,calc:i}=t;return{[o]:Object.assign(Object.assign({},tt(t)),{border:"none",position:"fixed",cursor:"pointer",zIndex:c,display:"block",width:a,height:a,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,boxShadow:t.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${r}-badge`]:{width:"100%",height:"100%",[`${r}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:i(f).mul(-1).equal(),insetInlineEnd:i(f).mul(-1).equal()}},[`${o}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${t.motionDurationMid}`,[`${o}-content`]:{overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${$(i(e).div(2).equal())} ${$(e)}`,[`${o}-icon`]:{textAlign:"center",margin:"auto",width:n,fontSize:n,lineHeight:1}}}}),[`${o}-rtl`]:{direction:"rtl"},[`${o}-circle`]:{height:a,borderRadius:"50%",[`${r}-badge`]:{[`${r}-badge-dot`]:{top:m,insetInlineEnd:m}},[`${o}-body`]:{borderRadius:"50%"}},[`${o}-square`]:{height:"auto",minHeight:a,borderRadius:u,[`${r}-badge`]:{[`${r}-badge-dot`]:{top:p,insetInlineEnd:p}},[`${o}-body`]:{height:"auto",borderRadius:u}},[`${o}-default`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,[`${o}-body`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorFillContent},[`${o}-content`]:{[`${o}-icon`]:{color:t.colorText},[`${o}-description`]:{display:"flex",alignItems:"center",lineHeight:$(t.fontSizeLG),color:t.colorText,fontSize:t.fontSizeSM}}}},[`${o}-primary`]:{backgroundColor:t.colorPrimary,[`${o}-body`]:{backgroundColor:t.colorPrimary,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorPrimaryHover},[`${o}-content`]:{[`${o}-icon`]:{color:t.colorTextLightSolid},[`${o}-description`]:{display:"flex",alignItems:"center",lineHeight:$(t.fontSizeLG),color:t.colorTextLightSolid,fontSize:t.fontSizeSM}}}}}},pe=t=>({dotOffsetInCircle:Q(t.controlHeightLG/2),dotOffsetInSquare:Q(t.borderRadiusLG)}),ct=St("FloatButton",t=>{const{colorTextLightSolid:r,colorBgElevated:o,controlHeightLG:e,marginXXL:n,marginLG:a,fontSize:u,fontSizeIcon:f,controlItemBgHover:p,paddingXXS:m,calc:c}=t,i=Ct(t,{floatButtonBackgroundColor:o,floatButtonColor:r,floatButtonHoverBackgroundColor:p,floatButtonFontSize:u,floatButtonIconSize:c(f).mul(1.5).equal(),floatButtonSize:e,floatButtonInsetBlockEnd:n,floatButtonInsetInlineEnd:a,floatButtonBodySize:c(e).sub(c(m).mul(2)).equal(),floatButtonBodyPadding:m,badgeOffset:c(m).mul(1.5).equal()});return[ue(i),me(i),Ot(t),de(i)]},pe);var fe=function(t,r){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(o[e[n]]=t[e[n]]);return o};const D="float-btn",ge=l.forwardRef((t,r)=>{const{prefixCls:o,className:e,rootClassName:n,style:a,type:u="default",shape:f="circle",icon:p,description:m,tooltip:c,htmlType:i="button",badge:C={}}=t,v=fe(t,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:d,direction:g}=h.useContext(W),w=h.useContext(U),S=d(D,o),E=et(S),[b,R,P]=ct(S,E),z=w||f,N=_(R,P,E,S,e,n,`${S}-${u}`,`${S}-${z}`,{[`${S}-rtl`]:g==="rtl"}),[x]=ot("FloatButton",a==null?void 0:a.zIndex),y=Object.assign(Object.assign({},a),{zIndex:x}),j=wt(C,["title","children","status","text"]);let I=l.createElement("div",{className:`${S}-body`},l.createElement(ce,{prefixCls:S,description:m,icon:p}));"badge"in t&&(I=l.createElement(Jt,Object.assign({},j),I));const M=Zt(c);return M&&(I=l.createElement(nt,Object.assign({},M),I)),b(t.href?l.createElement("a",Object.assign({ref:r},v,{className:N,style:y}),I):l.createElement("button",Object.assign({ref:r},v,{className:N,style:y,type:i}),I))}),O=ge;var he=function(t,r){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(o[e[n]]=t[e[n]]);return o};const dt=l.forwardRef((t,r)=>{const{prefixCls:o,className:e,type:n="default",shape:a="circle",visibilityHeight:u=400,icon:f=l.createElement(At,null),target:p,onClick:m,duration:c=450}=t,i=he(t,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[C,v]=h.useState(u===0),d=l.useRef(null);l.useImperativeHandle(r,()=>({nativeElement:d.current}));const g=()=>{var x;return((x=d.current)===null||x===void 0?void 0:x.ownerDocument)||window},w=Xt(x=>{const y=Wt(x.target);v(y>=u)});h.useEffect(()=>{const y=(p||g)();return w({target:y}),y==null||y.addEventListener("scroll",w),()=>{w.cancel(),y==null||y.removeEventListener("scroll",w)}},[p]);const S=x=>{Ut(0,{getContainer:p||g,duration:c}),m==null||m(x)},{getPrefixCls:E}=h.useContext(W),b=E(D,o),R=E(),z=h.useContext(U)||a,N=Object.assign({prefixCls:b,icon:f,type:n,shape:z},i);return l.createElement(rt,{visible:C,motionName:`${R}-fade`},({className:x},y)=>l.createElement(O,Object.assign({ref:jt(d,y)},N,{onClick:S,className:_(e,x)})))});var be=function(t,r){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(o[e[n]]=t[e[n]]);return o};const ut=t=>{var r;const{prefixCls:o,className:e,style:n,shape:a="circle",type:u="default",placement:f="top",icon:p=l.createElement(lt,null),closeIcon:m,description:c,trigger:i,children:C,onOpenChange:v,open:d,onClick:g}=t,w=be(t,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:S,getPrefixCls:E,closeIcon:b}=It("floatButtonGroup"),R=(r=m??b)!==null&&r!==void 0?r:l.createElement(Rt,null),P=E(D,o),z=et(P),[N,x,y]=ct(P,z),j=`${P}-group`,I=i&&["click","hover"].includes(i),M=f&&["top","left","right","bottom"].includes(f),pt=_(j,x,y,z,e,{[`${j}-rtl`]:S==="rtl",[`${j}-${a}`]:a,[`${j}-${a}-shadow`]:!I,[`${j}-${f}`]:I&&M}),[ft]=ot("FloatButton",n==null?void 0:n.zIndex),gt=Object.assign(Object.assign({},n),{zIndex:ft}),ht=_(x,`${j}-wrap`),[F,bt]=Bt(!1,{value:d}),X=l.useRef(null),Z=i==="hover",G=i==="click",q=Et(B=>{F!==B&&(bt(B),v==null||v(B))}),yt=()=>{Z&&q(!0)},vt=()=>{Z&&q(!1)},xt=B=>{G&&q(!F),g==null||g(B)};return l.useEffect(()=>{if(G){const B=$t=>{var H;!((H=X.current)===null||H===void 0)&&H.contains($t.target)||q(!1)};return document.addEventListener("click",B,{capture:!0}),()=>document.removeEventListener("click",B,{capture:!0})}},[G]),N(l.createElement(ie,{value:a},l.createElement("div",{ref:X,className:pt,style:gt,onMouseEnter:yt,onMouseLeave:vt},I?l.createElement(l.Fragment,null,l.createElement(rt,{visible:F,motionName:`${j}-wrap`},({className:B})=>l.createElement("div",{className:_(B,ht)},C)),l.createElement(O,Object.assign({type:u,icon:F?R:p,description:c,"aria-label":t["aria-label"],className:`${j}-trigger`,onClick:xt},w))):C)))};var mt=function(t,r){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(o[e[n]]=t[e[n]]);return o};const Y=t=>{var{backTop:r}=t,o=mt(t,["backTop"]);return r?h.createElement(dt,Object.assign({},o,{visibilityHeight:0})):h.createElement(O,Object.assign({},o))},ye=t=>{var{className:r,items:o}=t,e=mt(t,["className","items"]);const{prefixCls:n}=e,{getPrefixCls:a}=h.useContext(W),f=`${a(D,n)}-pure`;return o?h.createElement(ut,Object.assign({className:_(r,f)},e),o.map((p,m)=>h.createElement(Y,Object.assign({key:m},p)))):h.createElement(Y,Object.assign({className:_(r,f)},e))};O.BackTop=dt;O.Group=ut;O._InternalPanelDoNotUseOrYouWillBeFired=ye;var ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},xe=function(r,o){return h.createElement(at,it({},r,{ref:o,icon:ve}))},$e=h.forwardRef(xe),Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 100c-61.8 0-112 50.2-112 112 0 47.7 29.9 88.5 72 104.6v27.6L512 601.4 312 344.2v-27.6c42.1-16.1 72-56.9 72-104.6 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 50.6 33.8 93.5 80 107.3v34.4c0 9.7 3.3 19.3 9.3 27L476 672.3v33.6c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-33.6l226.7-291.6c6-7.7 9.3-17.3 9.3-27v-34.4c46.2-13.8 80-56.7 80-107.3 0-61.8-50.2-112-112-112zM224 212a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm336 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm192-552a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"fork",theme:"outlined"},Ce=function(r,o){return h.createElement(at,it({},r,{ref:o,icon:Se}))},Oe=h.forwardRef(Ce);function we(){const{query:{isDirty:t,isSaving:r,...o},randomGroups:{cardIds:e,cards:n,onSelect:a,selection:u,relate:f,nextSet:p,deselectAll:m,cycles:c},showIds:i,cardSize:C}=st(),v=h.useRef(null),[d,{width:g}]=Pt(),[w,S]=h.useMemo(()=>{const b=Math.floor(g/C)+1,R=Math.floor(g/b);return[b,R]},[C,g]),E=()=>{var b;p(),(b=v.current)==null||b.scrollIntoView({behavior:"smooth"})};return s.jsx(Dt,{error:o.error,hasResponseData:!A.isEmpty(o.data),isLoading:o.isLoading,children:s.jsx("div",{className:"my-6",ref:d,children:s.jsxs(Vt,{className:"image-card-categorizer-card",extra:s.jsxs(nt,{title:"Total cycles",children:[s.jsx(Tt,{})," ",c]}),ref:v,title:"Card Relationship Matching",children:[s.jsx(zt.PreviewGroup,{children:s.jsx("div",{className:"image-cards-group",style:{gridTemplateColumns:`repeat(${Math.max(w,1)}, 1fr)`},children:e.map((b,R)=>{const P=u.includes(b),z=n[R];return s.jsx("div",{className:"image-card-card__image",children:s.jsxs(qt,{active:P,activeClass:"image-cards-group__button--active",className:"image-cards-group__button",onClick:()=>a(b),children:[s.jsx(Ht,{id:b,preview:!1,width:S-24}),s.jsxs("div",{children:[i&&s.jsx(Lt,{children:b}),s.jsx(kt,{card:z})]})]})},b)})})}),s.jsx(je,{deselectAll:m,isDirty:t,isSaving:r,onNextSet:E,relate:f,selection:u})]})})})}const je=({isSaving:t,isDirty:r,selection:o,relate:e,deselectAll:n,onNextSet:a})=>{if(t)return s.jsx(O,{icon:s.jsx(_t,{})});const u=()=>{o.length<2||e()};return s.jsxs(s.Fragment,{children:[r&&s.jsx(O,{icon:s.jsx(Qt,{}),style:{right:234},type:"primary"}),s.jsx(O,{icon:s.jsx($e,{}),onClick:n,style:{right:164}}),s.jsx(O,{badge:{count:o.length,size:"small"},icon:s.jsx(Oe,{}),onClick:u,style:{right:94},type:o.length<2?"default":"primary"}),s.jsx(O,{icon:s.jsx(Yt,{}),onClick:a,style:{right:24}})]})};function Ie(){const{query:{isDirty:t,isSaving:r,save:o,data:e,isLoading:n,isError:a},randomGroups:{filters:u},showIds:f,setShowIds:p,tagThreshold:m,setTagThreshold:c,sampleSize:i,setSampleSize:C,cardSize:v,setCardSize:d}=st();return s.jsxs(Gt,{children:[s.jsx(V,{children:s.jsxs(ae,{gap:6,vertical:!0,children:[s.jsx(ee,{dirt:JSON.stringify(e),isDirty:t,isSaving:r,onSave:()=>o({})}),s.jsx(Kt,{block:!0,data:e,disabled:A.isEmpty(e),fileName:"imageCardsRelationships.json",loading:r})]})}),s.jsx(te,{hasResponseData:!A.isEmpty(e),isDirty:t,isError:a,isLoading:n||r}),s.jsxs(V,{children:[s.jsx(K,{label:"Use Cycles",onChange:()=>u.toggleUseCycles(),value:u.useCycles}),s.jsx(K,{label:"Show Ids",onChange:g=>p(g),value:f}),s.jsx(k,{label:"Tag Count",onChange:g=>c(g),options:oe,value:m}),s.jsx(k,{label:"Sample Size",onChange:g=>C(g),options:ne,value:i}),s.jsx(k,{label:"Card Size",onChange:g=>d(g),options:re,value:v})]}),s.jsx(V,{children:s.jsx(Mt,{})})]})}function mo(){return s.jsx(Nt,{subtitle:"Relationships",title:"Image Cards",children:s.jsx(Ft,{children:s.jsxs(J,{hasSider:!0,children:[s.jsx(Ie,{}),s.jsx(J.Content,{className:"content",children:s.jsx(we,{})})]})})})}export{mo as default};
