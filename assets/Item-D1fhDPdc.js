import{r as p,d as $,j as t,V as I,o as w,m as E}from"./index-AeBhBC7r.js";import{a as b,u as S,l as O}from"./useBaseUrl-CGD9CB6e.js";var R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};function f(){return f=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},f.apply(this,arguments)}const D=(s,e)=>p.createElement($,f({},s,{ref:e,icon:R})),L=p.forwardRef(D),j=72,y=6;function T({spriteId:s,source:e,width:r=j,padding:n=y,title:o,className:i}){const{getUrl:d}=b("sprites"),{isLoading:u,data:m,isError:x}=S({queryKey:["sprite",e],queryFn:async()=>await(await fetch(`${d("sprites")}/${e}.svg`)).text(),enabled:!!s&&!!e}),a=p.useRef(null),c=r-12,h=m;return p.useEffect(()=>{if(h&&a.current){a.current.innerHTML="";const g=document.createElement("div");g.innerHTML=h;const l=g.querySelector("svg");l&&(l.id||(l.id=`sprite-sheet-${e}`),a.current.appendChild(l))}},[h,e]),u?t.jsx("span",{className:i,style:{width:`${c}px`,height:`${c}px`,padding:n,display:"grid",placeItems:"center"},children:t.jsx(I,{})}):x||!h?t.jsx("span",{className:i,style:{width:`${c}px`,height:`${c}px`,padding:n,display:"grid",placeItems:"center"},children:t.jsx(L,{})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:a,style:{position:"absolute",width:0,height:0,overflow:"hidden"}}),t.jsxs("svg",{className:i,style:{width:`${c}px`,height:`${c}px`,padding:n},viewBox:"0 0 512 512",children:[t.jsx("use",{href:`#${s}`}),t.jsx("foreignObject",{height:"100%",width:"100%",x:"0",y:"0",children:o&&t.jsx(w,{title:o,children:t.jsx("div",{style:{background:"transparent",width:"100%",height:"100vh"}})})})]})]})}const v=64,z=O.memoize(s=>{const e=s.match(/\d+/),r=e?Number.parseInt(e[0],10):0,n=`item-${r}`;return[`items-${Math.ceil(r/v)*v}`,n]});function C({itemId:s,width:e=j,className:r,title:n,text:o,padding:i=y,...d}){const[u,m]=z(s),x=o?"auto":`${e}px`,a=i===0?{padding:0}:{};return t.jsx("div",{...d,className:E("item-card",r),style:{...d.style,width:`${e}px`,height:x,...a},children:t.jsx(T,{padding:i,source:u,spriteId:m,title:n,width:e})})}export{j as D,C as I,L as R,T as S,y as a};
