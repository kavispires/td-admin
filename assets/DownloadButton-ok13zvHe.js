import{N as rt,O as xt,c7 as it,U as at,aM as B,Q as j,r as c,J as X,c8 as lt,M as w,$ as ct,bm as Nt,j as nt,B as Ot}from"./index-BaGtrpxe.js";import{n as wt}from"./index-BctMEEuE.js";const jt=new B("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),Et=new B("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),Pt=new B("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),It=new B("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),Bt=new B("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),Tt=new B("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),zt=t=>{const{componentCls:e,iconCls:a,antCls:n,badgeShadowSize:o,textFontSize:d,textFontSizeSM:l,statusSize:p,dotSize:v,textFontWeight:C,indicatorHeight:r,indicatorHeightSM:s,marginXS:m,calc:g}=t,u=`${n}-scroll-number`,y=it(t,(f,{darkColor:$})=>({[`&${e} ${e}-color-${f}`]:{background:$,[`&:not(${e}-count)`]:{color:$},"a:hover &":{background:$}}}));return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},at(t)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${e}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:t.indicatorZIndex,minWidth:r,height:r,color:t.badgeTextColor,fontWeight:C,fontSize:d,lineHeight:j(r),whiteSpace:"nowrap",textAlign:"center",background:t.badgeColor,borderRadius:g(r).div(2).equal(),boxShadow:`0 0 0 ${j(o)} ${t.badgeShadowColor}`,transition:`background ${t.motionDurationMid}`,a:{color:t.badgeTextColor},"a:hover":{color:t.badgeTextColor},"a:hover &":{background:t.badgeColorHover}},[`${e}-count-sm`]:{minWidth:s,height:s,fontSize:l,lineHeight:j(s),borderRadius:g(s).div(2).equal()},[`${e}-multiple-words`]:{padding:`0 ${j(t.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${e}-dot`]:{zIndex:t.indicatorZIndex,width:v,minWidth:v,height:v,background:t.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${j(o)} ${t.badgeShadowColor}`},[`${e}-count, ${e}-dot, ${u}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:Tt,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${e}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${e}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:p,height:p,verticalAlign:"middle",borderRadius:"50%"},[`${e}-status-success`]:{backgroundColor:t.colorSuccess},[`${e}-status-processing`]:{overflow:"visible",color:t.colorInfo,backgroundColor:t.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:o,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:jt,animationDuration:t.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${e}-status-default`]:{backgroundColor:t.colorTextPlaceholder},[`${e}-status-error`]:{backgroundColor:t.colorError},[`${e}-status-warning`]:{backgroundColor:t.colorWarning},[`${e}-status-text`]:{marginInlineStart:m,color:t.colorText,fontSize:t.fontSize}}}),y),{[`${e}-zoom-appear, ${e}-zoom-enter`]:{animationName:Et,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`${e}-zoom-leave`]:{animationName:Pt,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`&${e}-not-a-wrapper`]:{[`${e}-zoom-appear, ${e}-zoom-enter`]:{animationName:It,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`${e}-zoom-leave`]:{animationName:Bt,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`&:not(${e}-status)`]:{verticalAlign:"middle"},[`${u}-custom-component, ${e}-count`]:{transform:"none"},[`${u}-custom-component, ${u}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[u]:{overflow:"hidden",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack}`,[`${u}-only`]:{position:"relative",display:"inline-block",height:r,transition:`all ${t.motionDurationSlow} ${t.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${u}-only-unit`]:{height:r,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${u}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${e}-count, ${e}-dot, ${u}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},dt=t=>{const{fontHeight:e,lineWidth:a,marginXS:n,colorBorderBg:o}=t,d=e,l=a,p=t.colorTextLightSolid,v=t.colorError,C=t.colorErrorHover;return xt(t,{badgeFontHeight:d,badgeShadowSize:l,badgeTextColor:p,badgeColor:v,badgeColorHover:C,badgeShadowColor:o,badgeProcessingDuration:"1.2s",badgeRibbonOffset:n,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},ut=t=>{const{fontSize:e,lineHeight:a,fontSizeSM:n,lineWidth:o}=t;return{indicatorZIndex:"auto",indicatorHeight:Math.round(e*a)-2*o,indicatorHeightSM:e,dotSize:n/2,textFontSize:n,textFontSizeSM:n,textFontWeight:"normal",statusSize:n/2}},Rt=rt("Badge",t=>{const e=dt(t);return zt(e)},ut),Dt=t=>{const{antCls:e,badgeFontHeight:a,marginXS:n,badgeRibbonOffset:o,calc:d}=t,l=`${e}-ribbon`,p=`${e}-ribbon-wrapper`,v=it(t,(C,{darkColor:r})=>({[`&${l}-color-${C}`]:{background:r,color:r}}));return{[p]:{position:"relative"},[l]:Object.assign(Object.assign(Object.assign(Object.assign({},at(t)),{position:"absolute",top:n,padding:`0 ${j(t.paddingXS)}`,color:t.colorPrimary,lineHeight:j(a),whiteSpace:"nowrap",backgroundColor:t.colorPrimary,borderRadius:t.borderRadiusSM,[`${l}-text`]:{color:t.badgeTextColor},[`${l}-corner`]:{position:"absolute",top:"100%",width:o,height:o,color:"currentcolor",border:`${j(d(o).div(2).equal())} solid`,transform:t.badgeRibbonCornerTransform,transformOrigin:"top",filter:t.badgeRibbonCornerFilter}}),v),{[`&${l}-placement-end`]:{insetInlineEnd:d(o).mul(-1).equal(),borderEndEndRadius:0,[`${l}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${l}-placement-start`]:{insetInlineStart:d(o).mul(-1).equal(),borderEndStartRadius:0,[`${l}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Ft=rt(["Badge","Ribbon"],t=>{const e=dt(t);return Dt(e)},ut),Wt=t=>{const{className:e,prefixCls:a,style:n,color:o,children:d,text:l,placement:p="end",rootClassName:v}=t,{getPrefixCls:C,direction:r}=c.useContext(X),s=C("ribbon",a),m=`${s}-wrapper`,[g,u,y]=Ft(s,m),f=lt(o,!1),$=w(s,`${s}-placement-${p}`,{[`${s}-rtl`]:r==="rtl",[`${s}-color-${o}`]:f},e),b={},x={};return o&&!f&&(b.background=o,x.color=o),g(c.createElement("div",{className:w(m,v,u,y)},d,c.createElement("div",{className:w($,u),style:Object.assign(Object.assign({},b),n)},c.createElement("span",{className:`${s}-text`},l),c.createElement("div",{className:`${s}-corner`,style:x}))))},st=t=>{const{prefixCls:e,value:a,current:n,offset:o=0}=t;let d;return o&&(d={position:"absolute",top:`${o}00%`,left:0}),c.createElement("span",{style:d,className:w(`${e}-only-unit`,{current:n})},a)};function Ht(t,e,a){let n=t,o=0;for(;(n+10)%10!==e;)n+=a,o+=a;return o}const Mt=t=>{const{prefixCls:e,count:a,value:n}=t,o=Number(n),d=Math.abs(a),[l,p]=c.useState(o),[v,C]=c.useState(d),r=()=>{p(o),C(d)};c.useEffect(()=>{const g=setTimeout(r,1e3);return()=>clearTimeout(g)},[o]);let s,m;if(l===o||Number.isNaN(o)||Number.isNaN(l))s=[c.createElement(st,Object.assign({},t,{key:o,current:!0}))],m={transition:"none"};else{s=[];const g=o+10,u=[];for(let b=o;b<=g;b+=1)u.push(b);const y=v<d?1:-1,f=u.findIndex(b=>b%10===l);s=(y<0?u.slice(0,f+1):u.slice(f)).map((b,x)=>{const H=b%10;return c.createElement(st,Object.assign({},t,{key:b,value:H,offset:y<0?x-f:x,current:x===f}))}),m={transform:`translateY(${-Ht(l,o,y)}00%)`}}return c.createElement("span",{className:`${e}-only`,style:m,onTransitionEnd:r},s)};var Zt=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(a[n[o]]=t[n[o]]);return a};const _t=c.forwardRef((t,e)=>{const{prefixCls:a,count:n,className:o,motionClassName:d,style:l,title:p,show:v,component:C="sup",children:r}=t,s=Zt(t,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:m}=c.useContext(X),g=m("scroll-number",a),u=Object.assign(Object.assign({},s),{"data-show":v,style:l,className:w(g,o,d),title:p});let y=n;if(n&&Number(n)%1===0){const f=String(n).split("");y=c.createElement("bdi",null,f.map(($,b)=>c.createElement(Mt,{prefixCls:g,count:Number(n),value:$,key:f.length-b})))}return l?.borderColor&&(u.style=Object.assign(Object.assign({},l),{boxShadow:`0 0 0 1px ${l.borderColor} inset`})),r?ct(r,f=>({className:w(`${g}-custom-component`,f?.className,d)})):c.createElement(C,Object.assign({},u,{ref:e}),y)});var Vt=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(a[n[o]]=t[n[o]]);return a};const Lt=c.forwardRef((t,e)=>{var a,n,o,d,l;const{prefixCls:p,scrollNumberPrefixCls:v,children:C,status:r,text:s,color:m,count:g=null,overflowCount:u=99,dot:y=!1,size:f="default",title:$,offset:b,style:x,className:H,rootClassName:bt,classNames:O,styles:S,showZero:R=!1}=t,J=Vt(t,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:Y,direction:M,badge:i}=c.useContext(X),h=Y("badge",p),[K,gt,ft]=Rt(h),Z=g>u?`${u}+`:g,T=Z==="0"||Z===0||s==="0"||s===0,Q=g===null||T&&!R,_=(r!=null||m!=null)&&Q,pt=r!=null||!T,z=y&&!T,E=z?"":Z,P=c.useMemo(()=>((E==null||E==="")&&(s==null||s==="")||T&&!R)&&!z,[E,T,R,z,s]),G=c.useRef(g);P||(G.current=g);const I=G.current,k=c.useRef(E);P||(k.current=E);const V=k.current,tt=c.useRef(z);P||(tt.current=z);const D=c.useMemo(()=>{if(!b)return Object.assign(Object.assign({},i?.style),x);const N={marginTop:b[1]};return M==="rtl"?N.left=Number.parseInt(b[0],10):N.right=-Number.parseInt(b[0],10),Object.assign(Object.assign(Object.assign({},N),i?.style),x)},[M,b,x,i?.style]),vt=$??(typeof I=="string"||typeof I=="number"?I:void 0),et=!P&&(s===0?R:!!s&&s!==!0),Ct=et?c.createElement("span",{className:`${h}-status-text`},s):null,ht=!I||typeof I!="object"?void 0:ct(I,N=>({style:Object.assign(Object.assign({},D),N.style)})),F=lt(m,!1),yt=w(O?.indicator,(a=i?.classNames)===null||a===void 0?void 0:a.indicator,{[`${h}-status-dot`]:_,[`${h}-status-${r}`]:!!r,[`${h}-color-${m}`]:F}),L={};m&&!F&&(L.color=m,L.background=m);const ot=w(h,{[`${h}-status`]:_,[`${h}-not-a-wrapper`]:!C,[`${h}-rtl`]:M==="rtl"},H,bt,i?.className,(n=i?.classNames)===null||n===void 0?void 0:n.root,O?.root,gt,ft);if(!C&&_&&(s||pt||!Q)){const N=D.color;return K(c.createElement("span",Object.assign({},J,{className:ot,style:Object.assign(Object.assign(Object.assign({},S?.root),(o=i?.styles)===null||o===void 0?void 0:o.root),D)}),c.createElement("span",{className:yt,style:Object.assign(Object.assign(Object.assign({},S?.indicator),(d=i?.styles)===null||d===void 0?void 0:d.indicator),L)}),et&&c.createElement("span",{style:{color:N},className:`${h}-status-text`},s)))}return K(c.createElement("span",Object.assign({ref:e},J,{className:ot,style:Object.assign(Object.assign({},(l=i?.styles)===null||l===void 0?void 0:l.root),S?.root)}),C,c.createElement(Nt,{visible:!P,motionName:`${h}-zoom`,motionAppear:!1,motionDeadline:1e3},({className:N})=>{var A,q;const $t=Y("scroll-number",v),U=tt.current,St=w(O?.indicator,(A=i?.classNames)===null||A===void 0?void 0:A.indicator,{[`${h}-dot`]:U,[`${h}-count`]:!U,[`${h}-count-sm`]:f==="small",[`${h}-multiple-words`]:!U&&V&&V.toString().length>1,[`${h}-status-${r}`]:!!r,[`${h}-color-${m}`]:F});let W=Object.assign(Object.assign(Object.assign({},S?.indicator),(q=i?.styles)===null||q===void 0?void 0:q.indicator),D);return m&&!F&&(W=W||{},W.background=m),c.createElement(_t,{prefixCls:$t,show:!P,motionClassName:N,className:St,count:V,title:vt,style:W,key:"scrollNumber"},ht)}),Ct))}),mt=Lt;mt.Ribbon=Wt;function Ut({data:t,fileName:e,loading:a,children:n,hasNewData:o,...d}){const[l,p]=c.useState(!1),v=l||a,C=async()=>{try{p(!0);let r;if(typeof t=="function"){const s=t();s instanceof Promise?r=await s:r=s}else t instanceof Promise?r=await t:r=t;wt(r,e)}catch(r){console.error("Failed to download file:",r)}finally{p(!1)}};return nt.jsxs(Ot,{loading:v,onClick:C,...d,children:[n??"Download JSON",o&&nt.jsx(mt,{status:"warning"})]})}export{mt as B,Ut as D};
