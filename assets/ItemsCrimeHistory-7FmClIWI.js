import{r as C,j as e,S as w,F as d,B as j,ab as h,b,P as $,L as g}from"./index-AeBhBC7r.js";import{D as S}from"./DataLoadingWrapper-ChvbOcIh.js";import{C as F}from"./CopyToClipboardButton-Bk0AVtd3.js";import{I as p}from"./Item-D1fhDPdc.js";import{u as T}from"./useCopyToClipboardFunction-1voR8M_w.js";import{u as f}from"./useTDResource-CfBHyLv8.js";import{l as c,P as L}from"./useBaseUrl-CGD9CB6e.js";import{I as u,b as i}from"./ItemBuildingBlocks-DaHejb99.js";import{F as k}from"./Table-DtkA7GhK.js";import"./LanguageFlag-Bo9CVRno.js";import"./IdcardOutlined-qYBd3D5x.js";import"./index-cQwL5GOf.js";import"./index-BTFqW_tr.js";import"./Dropdown-9ElPI2lv.js";import"./index-Djnq5RxC.js";import"./index-CUiOQ1bq.js";import"./scrollTo-DIF_ikdQ.js";import"./Pagination-_Cc5bCRA.js";function E(){const n=f("items"),I=T(),v=C.useMemo(()=>{const s=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("suspect"))),t=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("weapon"))),r=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("evidence"))),o=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("location"))),l=Math.max(s.length,t.length,r.length,o.length),x=[];for(let a=0;a<l;a++)x.push({id:`crime-${a}`,suspect:s[a],weapon:t[a],evidence:r[a],location:o[a]});return x},[n.data]),m=(s,t)=>{const o={id:`dmhk-${t==="weapon"?"wp":"ev"}-000`,type:t,name:{en:s.name.en,pt:s.name.pt},itemId:s.id},l=JSON.stringify({[o.id]:o},null,2);I(l.substring(1,l.length-1))},y=[{title:"id",dataIndex:"id"},{title:"Suspect",dataIndex:"suspect",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"})]}):"?"})},{title:"Means of Murder",dataIndex:"weapon",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"}),e.jsx(j,{icon:e.jsx(h,{}),onClick:()=>m(s,"weapon"),size:"small",children:"Crime"})]}):"?"})},{title:"Evidence",dataIndex:"evidence",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"}),e.jsx(j,{icon:e.jsx(h,{}),onClick:()=>m(s,"evidence"),size:"small",children:"Crime"})]}):"?"})},{title:"Location",dataIndex:"location",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"})]}):"?"})},{title:"Crime",dataIndex:"id",render:(s,t)=>{const r=`${t.id} - Suspect: ${t.suspect?.name?.en} (id: ${t.suspect.id}), Means of Murder:${t.weapon?.name?.en} (id: ${t.weapon.id}), Piece of Evidence: ${t?.evidence?.name?.en} (id: ${t.evidence.id}), and the Location: ${t?.location?.name?.en} (id: ${t.location.id})`;return e.jsxs(d,{vertical:!0,children:[e.jsx(F,{content:r}),e.jsx(b.TextArea,{readOnly:!0,rows:3,value:r})]})}}];return e.jsx(w,{className:"my-4",orientation:"vertical",children:e.jsx(k,{columns:y,dataSource:v,pagination:{showQuickJumper:!0},rowKey:"id"})})}function V(){const n=f("items");return e.jsx($,{subtitle:"Crime History Random Sets",title:"Items",children:e.jsxs(g,{hasSider:!0,children:[e.jsx(L,{children:"-"}),e.jsx(g.Content,{className:"content",children:e.jsx(S,{error:n.error,hasResponseData:!c.isEmpty(n.data),isLoading:n.isLoading,children:e.jsx(E,{})})})]})})}export{V as ItemsCrimeHistorySets,V as default};
