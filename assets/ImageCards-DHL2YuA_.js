import{r as y,j as e,c as C,P,L as x,T as g,I as D,S as j,F as v}from"./index-AeBhBC7r.js";import{R}from"./ResponseState-cTqsaUMb.js";import{I}from"./IdTag-C7nBSxbT.js";import{V as F}from"./VirtualizationWrapper-DHo53XDG.js";import{D as b}from"./DataLoadingWrapper-ChvbOcIh.js";import{I as $}from"./ImageCard-B3O3rSIp.js";import{a as E,c as L,b as T}from"./FilterEntries-B20fNyqW.js";import{S as W}from"./SiderContent-BBrCGPee.js";import{u as w}from"./useQueryParams-CkFTvRtk.js";import{a as q,u as N,l as Q,P as B}from"./useBaseUrl-CGD9CB6e.js";import{u as K}from"./useCardWidth-B9LMXDa7.js";import"./index-DnPn7qom.js";import"./useCopyToClipboardFunction-1voR8M_w.js";import"./index-RkF4G9iN.js";import"./index-D3aHxMAZ.js";import"./index-cQwL5GOf.js";import"./PlusOutlined-C9LcCiU-.js";import"./index-Djnq5RxC.js";function O({decksData:t,selectedDeck:o,setSelectedDeck:n,cardsPerRow:r,setCardsPerRow:c}){const{addParam:d,is:l}=w(),m=y.useMemo(()=>Object.keys(t).filter(s=>s.startsWith("td-")).map(s=>s.replace("td-","")),[t]);return e.jsx(W,{children:e.jsxs(C,{layout:"vertical",children:[e.jsx(E,{label:"Deck",onChange:n,options:m,value:o}),e.jsx(L,{label:"Cards Per Row",max:8,min:1,onChange:s=>c(s??8),value:r}),e.jsx(T,{label:"Show Image IDs",onChange:s=>d("showImageIds",s),value:l("showImageIds")})]})})}function U(){const{getUrl:t}=q("resources"),o=N({queryKey:["images-decks"],queryFn:async()=>await(await fetch(t("images-decks.json"))).json()});return{...o,data:o.data??{}}}const f=Array(252).fill(1);function ne(){const{queryParams:t,addParam:o,is:n}=w({deck:"d1"}),r=t.get("deck")??"d1",{isLoading:c,error:d,data:l}=U(),m=!Q.isEmpty(l),[s,S]=y.useState(8),[h,k]=K(s);return e.jsx(P,{subtitle:"Image Cards",title:"Images",children:e.jsxs(x,{hasSider:!0,children:[e.jsxs(B,{children:[e.jsx(R,{error:d,hasResponseData:m,isLoading:c}),e.jsx(O,{cardsPerRow:s,decksData:l,selectedDeck:r,setCardsPerRow:S,setSelectedDeck:a=>o("deck",a)})]}),e.jsx(x.Content,{className:"content",children:e.jsxs(b,{error:d,hasResponseData:m,isLoading:c,children:[e.jsxs(g.Title,{level:2,children:["Deck ",r," (",f.length,")"]}),e.jsx(D.PreviewGroup,{preview:{countRender:(a,i)=>{const p=`td-${r}-${a.toString().padStart(2,"0")}`;return e.jsxs(j,{align:"center",orientation:"vertical",children:[e.jsxs(g.Text,{children:[a," / ",i]}),e.jsx(I,{children:p})]})}},children:e.jsx(j,{className:"my-2",ref:k,wrap:!0,children:!!r&&f.map((a,i)=>{const p=a+i<10?`0${a+i}`:`${a+i}`,u=`td-${r}-${p}`;return e.jsxs(v,{align:"center",style:{gap:8},vertical:!0,children:[e.jsx(F,{aspectRatio:"2:3",width:h,children:e.jsx($,{cardId:u,cardWidth:h},u)}),n("showImageIds")&&e.jsx(I,{withQuotes:!0,children:u})]},u)})},r)})]})})]})})}export{ne as default};
