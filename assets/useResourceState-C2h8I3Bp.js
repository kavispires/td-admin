import{c as t,r as j,j as r,B as x}from"./index-CTf-mCqX.js";import{L as y}from"./LanguageToggle-uq07xhc0.js";import{S as f}from"./SiderContent-BNiATzc9.js";import{u as p}from"./useQueryParams-yhBqKdrw.js";import{D as m}from"./constants-D2J5TbS7.js";import{S as d}from"./index-C920Py66.js";import{a as N,u as R}from"./useBaseUrl-D2YOm4WP.js";function C({resourceNames:l}){const{queryParams:a,addParam:o}=p(),[s]=t.useForm(),[n,u]=j.useState(a.get("resourceName")??""),c=e=>{const i=m.includes(e.resourceName);o("language",i?null:e.language),o("resourceName",e.resourceName)};return r.jsx(f,{children:r.jsxs(t,{form:s,initialValues:{resourceName:a.get("resourceName")??"",language:a.get("language")??""},layout:"vertical",onFinish:c,size:"small",children:[r.jsx(t.Item,{label:"Resource",name:"resourceName",children:r.jsx(d,{onChange:e=>u(e),style:{minWidth:"150px"},value:a.get("resourceName"),children:l.map(e=>r.jsx(d.Option,{value:e,children:e},e))})}),r.jsx(t.Item,{label:"Language",name:"language",children:r.jsx(y,{disabled:m.includes(n)})}),r.jsx(t.Item,{children:r.jsx(x,{htmlType:"submit",type:"primary",children:"Load"})})]})})}function D(l){const{queryParams:a}=p(),{getUrl:o}=N("resources"),s=a.get("resourceName")??"",n=a.get("language"),u=!!s&&l.includes(s),{data:c,isLoading:e,error:i}=R({queryKey:["resource",s,n],queryFn:async()=>{const h=n&&!m.includes(s)?o(`${s}-${n}.json`):o(`${s}.json`),g=await fetch(h);return g.body?await g.json():{}},enabled:u});return{resourceName:s,language:n||null,response:c,isLoading:e,enabled:u,error:i,hasResponseData:!!c}}export{C as R,D as u};
