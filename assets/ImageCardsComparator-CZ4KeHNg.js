import{r as h,N as R,O as T,Q as N,U as W,j as r,L as C,B as x,I as B,T as k,D as O,P as M}from"./index-CV5hjF2H.js";import{D as A}from"./DataLoadingWrapper-D6wwjvvd.js";import{F as z}from"./FullScreenModal-DgkyL1Sg.js";import{u as F}from"./useCardWidth-2fIByncH.js";import{u as G}from"./useLoadWordLibrary-CISSGiGR.js";import{u as b}from"./useQueryParams-cM31lt2G.js";import{l as m,P as J}from"./useBaseUrl-CItAHPWR.js";import{I as y}from"./ImageCard-BNzI4Lfj.js";import{R as g}from"./RelationshipCountTag-gQq206Yc.js";import{u as q,a as K}from"./hooks-Bv25eiFb.js";import{u as Q}from"./useWindowSize-CM5FjbSp.js";import{F as u}from"./index-BOonA3TQ.js";import{T as L}from"./index-qIGJMiIA.js";import{I as S}from"./index-BWrhhGRV.js";import{a as U}from"./FilterEntries-BpAe5I0L.js";import{R as $}from"./ResponseState-Dmmo9Ehu.js";import{D as H}from"./DownloadButton-scwKn8FE.js";import{S as _}from"./SaveButton-CeArpt98.js";import{S as w}from"./SiderContent-bWX69VCv.js";import"./index-DlLK9vNE.js";import"./index-CxxFEnE9.js";import"./PlusOutlined-ByZyTB3m.js";import"./useMutation-Bu1yxTvU.js";import"./index-BUn6CWf5.js";import"./constants-C-yjMxTw.js";import"./Item-BGyEFcQV.js";import"./gapSize-U1swVQyS.js";import"./Input-C81xMCBV.js";import"./index-Lhx_REqa.js";import"./index-CJj1g9XQ.js";import"./index-Dz30J_fv.js";import"./index-BfUCaA8R.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-BTsE2_41.js";var V=N?window:null,E=function(e){return!!e.addEventListener},I=function(e){return!!e.on},X=function(e,o,s,t){s===void 0&&(s=V),h.useEffect(function(){if(o&&s)return E(s)?R(s,e,o,t):I(s)&&s.on(e,o,t),function(){E(s)?T(s,e,o,t):I(s)&&s.off(e,o,t)}},[e,o,s,JSON.stringify(t)])},Y=function(e){return typeof e=="function"?e:typeof e=="string"?function(o){return o.key===e}:e?function(){return!0}:function(){return!1}},P=function(e,o,s,t){o===void 0&&(o=W),s===void 0&&(s={}),t===void 0&&(t=[e]);var d=s.event,c=d===void 0?"keydown":d,l=s.target,a=s.options,i=h.useMemo(function(){var n=Y(e),j=function(p){if(n(p))return o(p)};return j},t);X(c,i,l,a)};function Z({query:e}){const{width:o}=Q(),[s]=F(1,{minWidth:o/3}),{data:t,setDirty:d}=e,{cardAId:c,cardA:l,cardBId:a,cardB:i,relate:n,unrelate:j}=q(t,d),{addParam:p,is:D}=b(),v=D("open");return P("1",()=>{v&&j()}),P("2",()=>{v&&n()}),r.jsxs(C.Content,{className:"dev-content py-4",children:[r.jsx(x,{block:!0,onClick:()=>p("open","true"),children:"Open Modal"}),r.jsx(rr,{}),r.jsx(z,{title:`Card A: ${c} vs Card B: ${a}`,open:v,onClose:()=>p("open","false"),actions:[r.jsx(x,{onClick:j,size:"large",block:!0,children:"Unrelated"},"1"),r.jsx(x,{onClick:n,size:"large",block:!0,type:"primary",children:"Related"},"2")],children:r.jsx(B.PreviewGroup,{children:r.jsxs(u,{className:"center",wrap:"wrap",justify:"center",children:[r.jsxs(u,{vertical:!0,children:[r.jsx(y,{id:c,width:s}),r.jsxs(u,{children:[r.jsx(g,{card:l}),r.jsx(L,{children:c})]})]}),r.jsxs(u,{vertical:!0,children:[r.jsx(y,{id:a,width:s}),r.jsxs(u,{children:[r.jsx(g,{card:i}),r.jsx(L,{children:a})]})]})]})})})]})}const f={};function rr(){const{data:e,isLoading:o}=G(3,"pt",!0),[s,t]=h.useState(""),[d,c]=h.useState([]),l=()=>{!m.isEmpty(e)&&m.isEmpty(f)&&e.forEach(i=>{i.split("").forEach(n=>{f[n.toLowerCase()]?f[n.toLowerCase()].push(i):f[n.toLowerCase()]=[i]})});const a=s.split("").map(i=>m.sample(f[i.toLowerCase()])).filter(Boolean);c(a)};return r.jsxs(r.Fragment,{children:[r.jsx(k.Title,{level:3,className:"center",children:"Passcode Words"}),r.jsxs(u,{children:[r.jsx(S,{onChange:a=>t(a.target.value)}),r.jsx(x,{disabled:o||s.length===0,onClick:l,children:"Get"})]}),r.jsx(S.TextArea,{className:"mt-4",value:JSON.stringify(d)})]})}function er({query:e}){const{data:o,isDirty:s,isSaving:t,save:d,isLoading:c,isError:l}=e,{queryParams:a,addParam:i}=b();return r.jsxs(J,{children:[r.jsx(w,{children:r.jsxs(u,{vertical:!0,gap:6,children:[r.jsx(_,{isDirty:s,dirt:JSON.stringify(o),onSave:()=>d({}),isSaving:t}),r.jsx(H,{data:o,fileName:"imageCardsRelationships.json",loading:t,disabled:m.isEmpty(o),block:!0})]})}),r.jsx($,{isLoading:c||t,isDirty:s,isError:l,hasResponseData:!m.isEmpty(o)}),r.jsxs(w,{children:[r.jsx(x,{block:!0,onClick:()=>i("open","true"),children:"Open Modal"}),r.jsx(O,{}),r.jsx(U,{label:"Cycle Threshold",value:a.get("cycle")||3,onChange:n=>i("cycle",n),options:[1,3,5,10]})]})]})}function Or(){const e=K();return r.jsx(M,{title:"Image Cards",subtitle:"Comparator",children:r.jsx(A,{isLoading:e.isLoading,error:e.error,hasResponseData:!m.isEmpty(e.data),children:r.jsxs(C,{hasSider:!0,children:[r.jsx(er,{query:e}),r.jsx(C.Content,{className:"content",children:r.jsx(Z,{query:e})})]})})})}export{Or as default};
