import{r as C,j as e,F as d,B as j,a0 as h,a as w,P as b,L as g}from"./index-CanllrSk.js";import{D as $}from"./DataLoadingWrapper-vXoV61ey.js";import{C as S}from"./CopyToClipboardButton-BjW3Wl5E.js";import{I as p}from"./Item-CO6fyZEj.js";import{u as F}from"./useCopyToClipboardFunction-B4hkKLUF.js";import{u as f}from"./useTDResource-CRRJlTEU.js";import{l as c,P as T}from"./useBaseUrl-B43mDP-v.js";import{c as u,a as i}from"./ItemBuildingBlocks-jqab9HLk.js";import{S as L}from"./index-mHHXKI02.js";import{F as k}from"./Table-Bz_8HMI1.js";import"./LanguageFlag-C3UnUw2O.js";import"./FireFilled-er9_px4B.js";import"./IdcardOutlined-C2IXlZSQ.js";import"./index-D2ksPqDf.js";import"./index-B7Nx7_fE.js";import"./index-daj5-_0A.js";import"./index-CCcOHLLg.js";import"./scrollTo-DD1Er_35.js";import"./Pagination-DseXutt5.js";function E(){const n=f("items"),v=F(),I=C.useMemo(()=>{const s=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("suspect"))),t=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("weapon"))),r=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("evidence"))),o=c.shuffle(Object.values(n.data??[]).filter(a=>a.decks?.includes("location"))),l=Math.max(s.length,t.length,r.length,o.length),x=[];for(let a=0;a<l;a++)x.push({id:`crime-${a}`,suspect:s[a],weapon:t[a],evidence:r[a],location:o[a]});return x},[n.data]),m=(s,t)=>{const o={id:`dmhk-${t==="weapon"?"wp":"ev"}-000`,type:t,name:{en:s.name.en,pt:s.name.pt},itemId:s.id},l=JSON.stringify({[o.id]:o},null,2);v(l.substring(1,l.length-1))},y=[{title:"id",dataIndex:"id"},{title:"Suspect",dataIndex:"suspect",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"})]}):"?"})},{title:"Means of Murder",dataIndex:"weapon",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"}),e.jsx(j,{icon:e.jsx(h,{}),onClick:()=>m(s,"weapon"),size:"small",children:"Crime"})]}):"?"})},{title:"Evidence",dataIndex:"evidence",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"}),e.jsx(j,{icon:e.jsx(h,{}),onClick:()=>m(s,"evidence"),size:"small",children:"Crime"})]}):"?"})},{title:"Location",dataIndex:"location",render:s=>e.jsx(d,{gap:6,vertical:!0,children:s?e.jsxs(e.Fragment,{children:[e.jsx(p,{itemId:s.id,width:60}),e.jsx(u,{item:s}),e.jsx(i,{item:s,language:"pt"}),e.jsx(i,{item:s,language:"en"})]}):"?"})},{title:"Crime",dataIndex:"id",render:(s,t)=>{const r=`${t.id} - Suspect: ${t.suspect?.name?.en} (id: ${t.suspect.id}), Means of Murder:${t.weapon?.name?.en} (id: ${t.weapon.id}), Piece of Evidence: ${t?.evidence?.name?.en} (id: ${t.evidence.id}), and the Location: ${t?.location?.name?.en} (id: ${t.location.id})`;return e.jsxs(d,{vertical:!0,children:[e.jsx(S,{content:r}),e.jsx(w.TextArea,{readOnly:!0,rows:3,value:r})]})}}];return e.jsx(L,{className:"my-4",direction:"vertical",children:e.jsx(k,{columns:y,dataSource:I,pagination:{showQuickJumper:!0},rowKey:"id"})})}function X(){const n=f("items");return e.jsx(b,{subtitle:"Crime History Random Sets",title:"Items",children:e.jsxs(g,{hasSider:!0,children:[e.jsx(T,{children:"-"}),e.jsx(g.Content,{className:"content",children:e.jsx($,{error:n.error,hasResponseData:!c.isEmpty(n.data),isLoading:n.isLoading,children:e.jsx(E,{})})})]})})}export{X as ItemsCrimeHistorySets,X as default};
