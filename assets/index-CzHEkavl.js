import{r as n,bh as We,aI as me,m as S,aK as pe,aX as je,aU as ye,aV as de,bi as Se,bj as Ae,K as Ee,aH as ke,bk as _e,bl as we,aJ as Fe,E as Ke,G as Xe,H as X,a_ as Ue,bc as Ye,bm as Ge,bn as Ve,bo as qe,bp as Ze,bq as Je,br as Qe,bs as Ce,x as et}from"./index-AeBhBC7r.js";const ve=n.createContext(null),Ne=n.createContext({});function fe(){return fe=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},fe.apply(this,arguments)}const tt=t=>{const{prefixCls:o,className:e,containerRef:r,...a}=t,{panel:i}=n.useContext(Ne),s=We(i,r);return n.createElement("div",fe({className:S(`${o}-section`,e),role:"dialog",ref:s},me(t,{aria:!0}),{"aria-modal":"true"},a))};function nt(t){const{prefixCls:o,direction:e,className:r,style:a,maxSize:i,containerRef:s,currentSize:b,onResize:w,onResizeEnd:$,onResizeStart:x}=t,[c,C]=n.useState(!1),[v,k]=n.useState(0),[N,R]=n.useState(0),y=e==="left"||e==="right",z=pe(f=>{f.preventDefault(),f.stopPropagation(),C(!0),k(y?f.clientX:f.clientY);let l;if(typeof b=="number")l=b;else if(s?.current){const d=s.current.getBoundingClientRect();l=y?d.width:d.height}R(l),x?.(l)}),m=pe(f=>{if(!c)return;let d=(y?f.clientX:f.clientY)-v;(e==="right"||e==="bottom")&&(d=-d);let g=N+d;g<0&&(g=0),i&&g>i&&(g=i),w?.(g)}),p=n.useCallback(()=>{if(c&&(C(!1),s?.current)){const f=s.current.getBoundingClientRect(),l=y?f.width:f.height;$?.(l)}},[c,s,$,y]);return n.useEffect(()=>{if(c)return document.addEventListener("mousemove",m),document.addEventListener("mouseup",p),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p)}},[c,m,p]),{dragElementProps:{className:S(`${o}-dragger`,`${o}-dragger-${e}`,{[`${o}-dragger-dragging`]:c,[`${o}-dragger-horizontal`]:y,[`${o}-dragger-vertical`]:!y},r),style:a,onMouseDown:z},isDragging:c}}function ue(t){if(typeof t=="string"){const o=Number(t.replace(/px$/i,""));if(parseFloat(t)===o&&je(!1,"Invalid value type of `width` or `height` which should be number type instead."),!Number.isNaN(o))return o}return t}function U(){return U=Object.assign?Object.assign.bind():function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},U.apply(this,arguments)}const $e={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"},ot=(t,o)=>{const{prefixCls:e,open:r,placement:a,inline:i,push:s,forceRender:b,autoFocus:w,keyboard:$,classNames:x,rootClassName:c,rootStyle:C,zIndex:v,className:k,id:N,style:R,motion:y,width:z,height:m,size:p,maxSize:E,children:f,mask:l,maskClosable:d,maskMotion:g,maskClassName:I,maskStyle:h,afterOpenChange:D,onClose:P,onMouseEnter:A,onMouseOver:L,onMouseLeave:Y,onClick:G,onKeyDown:ne,onKeyUp:M,styles:O,drawerRender:oe,resizable:V,defaultSize:re}=t,q=n.useRef(null),Z=n.useRef(null),J=n.useRef(null);n.useImperativeHandle(o,()=>q.current);const se=u=>{const{keyCode:j,shiftKey:K}=u;switch(j){case de.TAB:{j===de.TAB&&(!K&&document.activeElement===J.current?Z.current?.focus({preventScroll:!0}):K&&document.activeElement===Z.current&&J.current?.focus({preventScroll:!0}));break}case de.ESC:{P&&$&&(u.stopPropagation(),P(u));break}}};n.useEffect(()=>{r&&w&&q.current?.focus({preventScroll:!0})},[r]);const[Q,ae]=n.useState(!1),_=n.useContext(ve);let ee;typeof s=="boolean"?ee=s?{}:{distance:0}:ee=s||{};const H=ee?.distance??_?.pushDistance??180,te=n.useMemo(()=>({pushDistance:H,push:()=>{ae(!0)},pull:()=>{ae(!1)}}),[H]);n.useEffect(()=>{r?_?.push?.():_?.pull?.()},[r]),n.useEffect(()=>()=>{_?.pull?.()},[]);const le=n.createElement(ye,U({key:"mask"},g,{visible:l&&r}),({className:u,style:j},K)=>n.createElement("div",{className:S(`${e}-mask`,u,x?.mask,I),style:{...j,...h,...O?.mask},onClick:d&&r?P:void 0,ref:K})),ie=typeof y=="function"?y(a):y,[B,T]=n.useState(),W=a==="left"||a==="right",F=n.useMemo(()=>ue(p??(W?z:m)??B??re??(W?378:void 0)),[p,z,m,re,W,B]),Me=n.useMemo(()=>{const u={};if(Q&&H)switch(a){case"top":u.transform=`translateY(${H}px)`;break;case"bottom":u.transform=`translateY(${-H}px)`;break;case"left":u.transform=`translateX(${H}px)`;break;default:u.transform=`translateX(${-H}px)`;break}return W?u.width=ue(F):u.height=ue(F),u},[Q,H,a,W,F]),ge=n.useRef(null),Oe=!!V,ce=typeof V=="object"&&V||{},He=pe(u=>{T(u),ce.onResize?.(u)}),{dragElementProps:Le,isDragging:he}=nt({prefixCls:`${e}-resizable`,direction:a,className:x?.dragger,style:O?.dragger,maxSize:E,containerRef:ge,currentSize:F,onResize:He,onResizeStart:ce.onResizeStart,onResizeEnd:ce.onResizeEnd}),Be={onMouseEnter:A,onMouseOver:L,onMouseLeave:Y,onClick:G,onKeyDown:ne,onKeyUp:M},Te=n.createElement(ye,U({key:"panel"},ie,{visible:r,forceRender:b,onVisibleChanged:u=>{D?.(u)},removeOnLeave:!1,leavedClassName:`${e}-content-wrapper-hidden`}),({className:u,style:j},K)=>{const xe=n.createElement(tt,U({id:N,containerRef:K,prefixCls:e,className:S(k,x?.section),style:{...R,...O?.section}},me(t,{aria:!0}),Be),f);return n.createElement("div",U({ref:ge,className:S(`${e}-content-wrapper`,he&&`${e}-content-wrapper-dragging`,x?.wrapper,!he&&u),style:{...j,...Me,...O?.wrapper}},me(t,{data:!0})),Oe&&n.createElement("div",Le),oe?oe(xe):xe)}),be={...C};return v&&(be.zIndex=v),n.createElement(ve.Provider,{value:te},n.createElement("div",{className:S(e,`${e}-${a}`,c,{[`${e}-open`]:r,[`${e}-inline`]:i}),style:be,tabIndex:-1,ref:q,onKeyDown:se},le,n.createElement("div",{tabIndex:0,ref:Z,style:$e,"aria-hidden":"true","data-sentinel":"start"}),Te,n.createElement("div",{tabIndex:0,ref:J,style:$e,"aria-hidden":"true","data-sentinel":"end"})))},rt=n.forwardRef(ot),at=t=>{const{open:o=!1,prefixCls:e="rc-drawer",placement:r="right",autoFocus:a=!0,keyboard:i=!0,width:s,height:b,size:w,maxSize:$,mask:x=!0,maskClosable:c=!0,getContainer:C,forceRender:v,afterOpenChange:k,destroyOnHidden:N,onMouseEnter:R,onMouseOver:y,onMouseLeave:z,onClick:m,onKeyDown:p,onKeyUp:E,resizable:f,defaultSize:l,panelRef:d}=t,[g,I]=n.useState(!1),[h,D]=n.useState(!1);Se(()=>{D(!0)},[]);const P=h?o:!1,A=n.useRef(null),L=n.useRef(null);Se(()=>{P&&(L.current=document.activeElement)},[P]);const Y=O=>{I(O),k?.(O),!O&&L.current&&!A.current?.contains(L.current)&&L.current?.focus({preventScroll:!0})},G=n.useMemo(()=>({panel:d}),[d]);if(!v&&!g&&!P&&N)return null;const M={...t,open:P,prefixCls:e,placement:r,autoFocus:a,keyboard:i,width:s,height:b,size:w,maxSize:$,defaultSize:l,mask:x,maskClosable:c,inline:C===!1,afterOpenChange:Y,ref:A,resizable:f,...{onMouseEnter:R,onMouseOver:y,onMouseLeave:z,onClick:m,onKeyDown:p,onKeyUp:E}};return n.createElement(Ne.Provider,{value:G},n.createElement(Ae,{open:P||v||g,autoDestroy:!1,getContainer:C,autoLock:x&&(P||g)},n.createElement(rt,M)))},Re=t=>{const{prefixCls:o,ariaId:e,title:r,footer:a,extra:i,closable:s,loading:b,onClose:w,headerStyle:$,bodyStyle:x,footerStyle:c,children:C,classNames:v,styles:k}=t,N=Ee("drawer"),{classNames:R,styles:y,closable:z}=N,[m,p]=ke([R,v],[y,k],{props:{...t,closable:s??z}}),E=n.useMemo(()=>{const h=s??z;if(h!==!1)return typeof h=="object"&&h&&h.placement==="end"?"end":"start"},[s,z]),f=n.useCallback(h=>n.createElement("button",{type:"button",onClick:w,className:S(`${o}-close`,{[`${o}-close-${E}`]:E==="end"},m.close),style:p.close},h),[w,o,E,m.close,p.close]),[l,d]=_e(we(t),we(N),{closable:!0,closeIconRender:f}),g=()=>!r&&!l?null:n.createElement("div",{style:{...p.header,...$},className:S(`${o}-header`,m.header,{[`${o}-header-close-only`]:l&&!r&&!i})},n.createElement("div",{className:`${o}-header-title`},E==="start"&&d,r&&n.createElement("div",{className:S(`${o}-title`,m.title),style:p.title,id:e},r)),i&&n.createElement("div",{className:S(`${o}-extra`,m.extra),style:p.extra},i),E==="end"&&d),I=()=>a?n.createElement("div",{className:S(`${o}-footer`,m.footer),style:{...p.footer,...c}},a):null;return n.createElement(n.Fragment,null,g(),n.createElement("div",{className:S(`${o}-body`,m.body),style:{...p.body,...x}},b?n.createElement(Fe,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):C),I())},st=t=>{const o="100%";return{left:`translateX(-${o})`,right:`translateX(${o})`,top:`translateY(-${o})`,bottom:`translateY(${o})`}[t]},Pe=(t,o)=>({"&-enter, &-appear":{...t,"&-active":o},"&-leave":{...o,"&-active":t}}),Ie=(t,o)=>({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${o}`}},...Pe({opacity:t},{opacity:1})}),lt=(t,o)=>[Ie(.7,o),Pe({transform:st(t)},{transform:"none"})],it=t=>{const{componentCls:o,motionDurationSlow:e}=t;return{[o]:{[`${o}-mask-motion`]:Ie(0,e),[`${o}-panel-motion`]:["left","right","top","bottom"].reduce((r,a)=>({...r,[`&-${a}`]:lt(a,e)}),{})}}},ct=t=>{const{borderRadiusSM:o,componentCls:e,zIndexPopup:r,colorBgMask:a,colorBgElevated:i,motionDurationSlow:s,motionDurationMid:b,paddingXS:w,padding:$,paddingLG:x,fontSizeLG:c,lineHeightLG:C,lineWidth:v,lineType:k,colorSplit:N,marginXS:R,colorIcon:y,colorIconHover:z,colorBgTextHover:m,colorBgTextActive:p,colorText:E,fontWeightStrong:f,footerPaddingBlock:l,footerPaddingInline:d,draggerSize:g,calc:I}=t,h=`${e}-content-wrapper`,D=`${e}-resizable-dragger`;return{[e]:{position:"fixed",inset:0,zIndex:r,pointerEvents:"none",color:E,"&-pure":{position:"relative",background:i,display:"flex",flexDirection:"column",[`&${e}-left`]:{boxShadow:t.boxShadowDrawerLeft},[`&${e}-right`]:{boxShadow:t.boxShadowDrawerRight},[`&${e}-top`]:{boxShadow:t.boxShadowDrawerUp},[`&${e}-bottom`]:{boxShadow:t.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${e}-mask`]:{position:"absolute",inset:0,zIndex:r,background:a,pointerEvents:"auto",[`&${e}-mask-blur`]:{backdropFilter:"blur(4px)"}},[h]:{position:"absolute",zIndex:r,maxWidth:"100vw",transition:`all ${s}`,"&-hidden":{display:"none"}},[`&-left > ${h}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowDrawerLeft},[`&-right > ${h}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:t.boxShadowDrawerRight},[`&-top > ${h}`]:{top:0,insetInline:0,boxShadow:t.boxShadowDrawerUp},[`&-bottom > ${h}`]:{bottom:0,insetInline:0,boxShadow:t.boxShadowDrawerDown},[`${e}-section`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:i,pointerEvents:"auto"},[`${e}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${X($)} ${X(x)}`,fontSize:c,lineHeight:C,borderBottom:`${X(v)} ${k} ${N}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${e}-extra`]:{flex:"none"},[`${e}-close`]:{display:"inline-flex",width:I(c).add(w).equal(),height:I(c).add(w).equal(),borderRadius:o,justifyContent:"center",alignItems:"center",color:y,fontWeight:f,fontSize:c,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${b}`,textRendering:"auto",[`&${e}-close-end`]:{marginInlineStart:R},[`&:not(${e}-close-end)`]:{marginInlineEnd:R},"&:hover":{color:z,backgroundColor:m,textDecoration:"none"},"&:active":{backgroundColor:p},...Ue(t)},[`${e}-title`]:{flex:1,margin:0,fontWeight:t.fontWeightStrong,fontSize:c,lineHeight:C},[`${e}-body`]:{flex:1,minWidth:0,minHeight:0,padding:x,overflow:"auto",[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${e}-footer`]:{flexShrink:0,padding:`${X(l)} ${X(d)}`,borderTop:`${X(v)} ${k} ${N}`},[D]:{position:"absolute",zIndex:1,backgroundColor:"transparent",userSelect:"none",pointerEvents:"auto","&:hover":{backgroundColor:t.colorPrimary,opacity:.2},"&-dragging":{backgroundColor:t.colorPrimary,opacity:.3}},[`${D}-left`]:{top:0,bottom:0,insetInlineEnd:0,width:g,cursor:"col-resize"},[`${D}-right`]:{top:0,bottom:0,insetInlineStart:0,width:g,cursor:"col-resize"},[`${D}-top`]:{insetInline:0,bottom:0,height:g,cursor:"row-resize"},[`${D}-bottom`]:{insetInline:0,top:0,height:g,cursor:"row-resize"},[`${h}-dragging`]:{userSelect:"none",transition:"none",willChange:"width, height",[`${e}-content`]:{pointerEvents:"none"},[`${e}-section`]:{pointerEvents:"none"}},"&-rtl":{direction:"rtl"}}}},dt=t=>({zIndexPopup:t.zIndexPopupBase,footerPaddingBlock:t.paddingXS,footerPaddingInline:t.padding,draggerSize:4}),De=Ke("Drawer",t=>{const o=Xe(t,{});return[ct(o),it(o)]},dt),ut={distance:180},ze=378,mt=t=>{const{rootClassName:o,size:e,defaultSize:r=ze,height:a,width:i,mask:s,push:b=ut,open:w,afterOpenChange:$,onClose:x,prefixCls:c,getContainer:C,panelRef:v=null,style:k,className:N,resizable:R,"aria-labelledby":y,maskStyle:z,drawerStyle:m,contentWrapperStyle:p,destroyOnClose:E,destroyOnHidden:f,...l}=t,{placement:d}=l,g=Ye(),I=l.title?g:void 0,{getPopupContainer:h,getPrefixCls:D,direction:P,className:A,style:L,classNames:Y,styles:G,mask:ne}=Ee("drawer"),M=D("drawer",c),[O,oe]=De(M),V=C===void 0&&h?()=>h(document.body):C,re=n.useMemo(()=>typeof e=="number"?e:e==="large"?736:e==="default"?ze:!d||d==="left"||d==="right"?i:a,[e,d,i,a]),q={motionName:Ce(M,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},Z=F=>({motionName:Ce(M,`panel-motion-${F}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),J=Ge(),se=Ve(v,J),[Q,ae]=qe("Drawer",l.zIndex),{classNames:_,styles:ee,rootStyle:H}=l,[te,le]=Ze(s,ne,M),ie={...t,zIndex:Q,panelRef:v,mask:te,defaultSize:r,push:b},[B,T]=ke([Y,_],[G,ee],{props:ie}),W=S({"no-mask":!te,[`${M}-rtl`]:P==="rtl"},o,O,oe,B.root);return n.createElement(Je,{form:!0,space:!0},n.createElement(Qe.Provider,{value:ae},n.createElement(at,{prefixCls:M,onClose:x,maskMotion:q,motion:Z,...l,classNames:{mask:S(B.mask,le.mask),section:B.section,wrapper:B.wrapper,dragger:B.dragger},styles:{mask:{...T.mask,...z},section:{...T.section,...m},wrapper:{...T.wrapper,...p},dragger:T.dragger},open:w,mask:te,push:b,size:re,defaultSize:r,style:{...L,...k},rootStyle:{...H,...T.root},className:S(A,N),rootClassName:W,getContainer:V,afterOpenChange:$,panelRef:se,zIndex:Q,...R?{resizable:R}:{},"aria-labelledby":y??I,destroyOnHidden:f??E},n.createElement(Re,{prefixCls:M,size:e,...l,ariaId:I,onClose:x}))))},pt=t=>{const{prefixCls:o,style:e,className:r,placement:a="right",...i}=t,{getPrefixCls:s}=n.useContext(et),b=s("drawer",o),[w,$]=De(b),x=S(b,`${b}-pure`,`${b}-${a}`,w,$,r);return n.createElement("div",{className:x,style:e},n.createElement(Re,{prefixCls:b,...i}))};mt._InternalPanelDoNotUseOrYouWillBeFired=pt;export{mt as D};
