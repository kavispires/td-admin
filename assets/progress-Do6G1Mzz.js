import{r as s,m as v,w as de,bc as ue,ay as ee,K as ae,b1 as te,o as ge,E as me,G as pe,J as fe,bd as ye,be as $e,aH as he,bf as Ce,a2 as be,q as Se,bg as ke}from"./index-DTFVBFfK.js";const xe={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,railColor:"#D9D9D9",railWidth:1,gapPosition:"bottom",loading:!1},Pe=()=>{const e=s.useRef([]),t=s.useRef(null);return s.useEffect(()=>{const r=Date.now();let o=!1;e.current.forEach(n=>{if(!n)return;o=!0;const a=n.style;a.transitionDuration=".3s, .3s, .3s, .06s",t.current&&r-t.current<100&&(a.transitionDuration="0s, 0s")}),o&&(t.current=Date.now())}),e.current},se=({bg:e,children:t})=>s.createElement("div",{style:{width:"100%",height:"100%",background:e}},t);function ne(e,t){return Object.keys(e).map(r=>{const o=parseFloat(r),n=`${Math.floor(o*t)}%`;return`${e[r]} ${n}`})}const Ee=s.forwardRef((e,t)=>{const{prefixCls:r,color:o,gradientId:n,radius:a,className:d,style:u,ptg:i,strokeLinecap:g,strokeWidth:h,size:m,gapDegree:l}=e,$=o&&typeof o=="object",k=$?"#FFF":void 0,E=m/2,S=s.createElement("circle",{className:v(`${r}-circle-path`,d),r:a,cx:E,cy:E,stroke:k,strokeLinecap:g,strokeWidth:h,opacity:i===0?0:1,style:u,ref:t});if(!$)return S;const w=`${n}-conic`,p=l?`${180+l/2}deg`:"0deg",C=ne(o,(360-l)/360),y=ne(o,1),f=`conic-gradient(from ${p}, ${C.join(", ")})`,x=`linear-gradient(to ${l?"bottom":"top"}, ${y.join(", ")})`;return s.createElement(s.Fragment,null,s.createElement("mask",{id:w},S),s.createElement("foreignObject",{x:0,y:0,width:m,height:m,mask:`url(#${w})`},s.createElement(se,{bg:x},s.createElement(se,{bg:f}))))}),V=100,z=(e,t,r,o,n,a,d,u,i,g,h=0)=>{const m=r/100*360*((360-a)/360),l=a===0?0:{bottom:0,top:180,left:90,right:-90}[d];let $=(100-o)/100*t;i==="round"&&o!==100&&($+=g/2,$>=t&&($=t-.01));const k=V/2;return{stroke:typeof u=="string"?u:void 0,strokeDasharray:`${t}px ${e}`,strokeDashoffset:$+h,transform:`rotate(${n+m+l}deg)`,transformOrigin:`${k}px ${k}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Ne=(({id:e,loading:t})=>{if(!t)return{indeterminateStyleProps:{},indeterminateStyleAnimation:null};const r=`${e}-indeterminate-animate`;return{indeterminateStyleProps:{transform:"rotate(0deg)",animation:`${r} 1s linear infinite`},indeterminateStyleAnimation:de.createElement("style",null,`@keyframes ${r} {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }`)}});function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},re.apply(this,arguments)}function ie(e){const t=e??[];return Array.isArray(t)?t:[t]}const ve=e=>{const{id:t,prefixCls:r,classNames:o={},styles:n={},steps:a,strokeWidth:d,railWidth:u,gapDegree:i=0,gapPosition:g,railColor:h,strokeLinecap:m,style:l,className:$,strokeColor:k,percent:E,loading:S,...w}={...xe,...e},p=V/2,C=ue(t),y=`${C}-gradient`,f=p-d/2,x=Math.PI*2*f,P=i>0?90+i/2:-90,b=x*((360-i)/360),{count:A,gap:D}=typeof a=="object"?a:{count:a,gap:2},L=ie(E),R=ie(k),T=R.find(N=>N&&typeof N=="object"),c=T&&typeof T=="object"?"butt":m,{indeterminateStyleProps:_,indeterminateStyleAnimation:Y}=Ne({id:C,loading:S}),Z=z(x,b,0,100,P,i,g,h,c,d),O=Pe(),H=()=>{let N=0;return L.map((W,M)=>{const X=R[M]||R[R.length-1],B=z(x,b,N,W,P,i,g,X,c,d);return N+=W,s.createElement(Ee,{key:M,color:X,ptg:W,radius:f,prefixCls:r,gradientId:y,className:o.track,style:{...B,..._,...n.track},strokeLinecap:c,strokeWidth:d,gapDegree:i,ref:I=>{O[M]=I},size:V})}).reverse()},F=()=>{const N=Math.round(A*(L[0]/100)),W=100/A;let M=0;return new Array(A).fill(null).map((X,B)=>{const I=B<=N-1?R[0]:h,j=I&&typeof I=="object"?`url(#${y})`:void 0,q=z(x,b,M,W,P,i,g,I,"butt",d,D);return M+=(b-q.strokeDashoffset+D)*100/b,s.createElement("circle",{key:B,className:v(`${r}-circle-path`,o.track),r:f,cx:p,cy:p,stroke:j,strokeWidth:d,opacity:1,style:{...q,...n.track},ref:U=>{O[B]=U}})})};return s.createElement("svg",re({className:v(`${r}-circle`,o.root,$),viewBox:`0 0 ${V} ${V}`,style:{...n.root,...l},id:t,role:"presentation"},w),!A&&s.createElement("circle",{className:v(`${r}-circle-rail`,o.rail),r:f,cx:p,cy:p,stroke:h,strokeLinecap:c,strokeWidth:u||d,style:{...Z,...n.rail}}),A?F():H(),Y)};function G(e){return!e||e<0?0:e>100?100:e}function J({success:e}){let t;return e&&"percent"in e&&(t=e.percent),t}const we=({percent:e,success:t})=>{const r=G(J({success:t}));return[r,G(G(e)-r)]},Ie=({success:e={},strokeColor:t})=>{const{strokeColor:r}=e;return[r||ee.green,t||null]},Q=(e,t,r)=>{let o=-1,n=-1;if(t==="step"){const a=r.steps,d=r.strokeWidth;typeof e=="string"||typeof e>"u"?(o=e==="small"?2:14,n=d??8):typeof e=="number"?[o,n]=[e,e]:[o=14,n=8]=Array.isArray(e)?e:[e.width,e.height],o*=a}else if(t==="line"){const a=r?.strokeWidth;typeof e=="string"||typeof e>"u"?n=a||(e==="small"?6:8):typeof e=="number"?[o,n]=[e,e]:[o=-1,n=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[o,n]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[o,n]=[e,e]:Array.isArray(e)&&(o=e[0]??e[1]??120,n=e[0]??e[1]??120));return[o,n]},Ae=3,De=e=>Ae/e*100,ce=["root","body","indicator"],Me=e=>{const{prefixCls:t,classNames:r,styles:o,railColor:n,trailColor:a,strokeLinecap:d="round",gapPosition:u,gapPlacement:i,gapDegree:g,width:h=120,type:m,children:l,success:$,size:k=h,steps:E}=e,{direction:S}=ae("progress"),w=n??a,[p,C]=Q(k,"circle");let{strokeWidth:y}=e;y===void 0&&(y=Math.max(De(p),6));const f={width:p,height:C,fontSize:p*.15+6},x=s.useMemo(()=>{if(g||g===0)return g;if(m==="dashboard")return 75},[g,m]),P=we(e),b=s.useMemo(()=>{const c=(i??u)||m==="dashboard"&&"bottom"||void 0,_=S==="rtl";switch(c){case"start":return _?"right":"left";case"end":return _?"left":"right";default:return c}},[S,i,u,m]),A=Object.prototype.toString.call(e.strokeColor)==="[object Object]",D=Ie({success:$,strokeColor:e.strokeColor}),L=v(`${t}-body`,{[`${t}-circle-gradient`]:A},r.body),R=s.createElement(ve,{steps:E,percent:E?P[1]:P,strokeWidth:y,railWidth:y,strokeColor:E?D[1]:D,strokeLinecap:d,railColor:w,prefixCls:t,gapDegree:x,gapPosition:b,classNames:te(r,ce),styles:te(o,ce)}),T=p<=20,K=s.createElement("div",{className:L,style:{...f,...o.body}},R,!T&&l);return T?s.createElement(ge,{title:l},K):K},oe="--progress-line-stroke-color",Re=e=>{const t="-100%";return new ye("antProgressLTRActive",{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},We=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{...fe(e),display:"inline-flex","&-rtl":{direction:"rtl"},[`${t}-indicator`]:{color:e.colorText,lineHeight:1,whiteSpace:"nowrap",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize}},[`&${t}-status-exception`]:{[`${t}-indicator`]:{color:e.colorError}},[`&${t}-status-success`]:{[`${t}-indicator`]:{color:e.colorSuccess}}}}},Le=e=>{const{componentCls:t}=e;return{[`${t}-line`]:{position:"relative",width:"100%",fontSize:e.fontSize,[`${t}-body`]:{display:"inline-flex",alignItems:"center",width:"100%",gap:e.marginXS},[`${t}-rail`]:{flex:"auto",background:e.remainingColor,borderRadius:e.lineBorderRadius,position:"relative",width:"100%"},[`&${t}-status-active`]:{[`${t}-track:after`]:{content:'""',position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:"inherit",opacity:0,animationName:Re(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite"}},[`${t}-track`]:{position:"absolute",insetInlineStart:0,insetBlock:0,borderRadius:"inherit",background:e.defaultColor,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,minWidth:"max-content",display:"flex",alignItems:"center","&-success":{background:e.colorSuccess}},[`&${t}-status-exception`]:{[`${t}-track`]:{background:e.colorError}},[`&${t}-status-success`]:{[`${t}-track`]:{background:e.colorSuccess}},[`${t}-indicator-outer`]:{[`&${t}-indicator-start`]:{order:-1}},[`${t}-body-layout-bottom`]:{flexDirection:"column",alignItems:"center",gap:e.marginXXS},[`${t}-indicator${t}-indicator-inner`]:{color:e.colorWhite,paddingInline:e.paddingXXS,width:"100%",display:"flex",justifyContent:"center",[`&${t}-indicator-end`]:{justifyContent:"end"},[`&${t}-indicator-start`]:{justifyContent:"start"},[`&${t}-indicator-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}}},je=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-circle`]:{[`${t}-circle-rail`]:{stroke:e.remainingColor},[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-body`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`${t}-indicator`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`&${t}-status-exception`]:{[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}}},[`&${t}-status-success`]:{[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Te=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-body":{display:"flex",flexDirection:"row",alignItems:"center",gap:e.progressStepMarginInlineEnd,[`${t}-indicator`]:{marginInlineStart:e.marginXS}},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Oe=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-indicator ${r}`]:{fontSize:e.fontSizeSM}}}},Fe=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Xe=me("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=pe(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[We(r),Le(r),je(r),Te(r),Oe(r)]},Fe),Be=e=>{let t=[];return Object.keys(e).forEach(r=>{const o=Number.parseFloat(r.replace(/%/g,""));Number.isNaN(o)||t.push({key:o,value:e[r]})}),t=t.sort((r,o)=>r.key-o.key),t.map(({key:r,value:o})=>`${o} ${r}%`).join(", ")},Ge=(e,t)=>{const{from:r=ee.blue,to:o=ee.blue,direction:n=t==="rtl"?"to left":"to right",...a}=e;if(Object.keys(a).length!==0){const u=Be(a),i=`linear-gradient(${n}, ${u})`;return{background:i,[oe]:i}}const d=`linear-gradient(${n}, ${r}, ${o})`;return{background:d,[oe]:d}},_e=e=>{const{prefixCls:t,classNames:r,styles:o,direction:n,percent:a,size:d,strokeWidth:u,strokeColor:i,strokeLinecap:g="round",children:h,railColor:m,trailColor:l,percentPosition:$,success:k}=e,{align:E,type:S}=$,w=m??l,p=g==="square"||g==="butt"?0:void 0,C=d??[-1,u||(d==="small"?6:8)],[y,f]=Q(C,"line",{strokeWidth:u}),x={backgroundColor:w||void 0,borderRadius:p,height:f},P=`${t}-track`,b=i&&typeof i!="string"?Ge(i,n):{[oe]:i,background:i},A={width:`${G(a)}%`,height:f,borderRadius:p,...b},D=J(e),L={width:`${G(D)}%`,height:f,borderRadius:p,backgroundColor:k?.strokeColor};return s.createElement("div",{className:v(`${t}-body`,r.body,{[`${t}-body-layout-bottom`]:E==="center"&&S==="outer"}),style:{width:y>0?y:"100%",...o.body}},s.createElement("div",{className:v(`${t}-rail`,r.rail),style:{...x,...o.rail}},s.createElement("div",{className:v(P,r.track),style:{...A,...o.track}},S==="inner"&&h),D!==void 0&&s.createElement("div",{className:v(P,`${P}-success`,r.track),style:{...L,...o.track}})),S==="outer"&&h)},He=e=>{const{classNames:t,styles:r,size:o,steps:n,rounding:a=Math.round,percent:d=0,strokeWidth:u=8,strokeColor:i,railColor:g,trailColor:h,prefixCls:m,children:l}=e,$=a(n*(d/100)),E=o??[o==="small"?2:14,u],[S,w]=Q(E,"step",{steps:n,strokeWidth:u}),p=S/n,C=Array.from({length:n}),y=g??h;for(let f=0;f<n;f++){const x=Array.isArray(i)?i[f]:i;C[f]=s.createElement("div",{key:f,className:v(`${m}-steps-item`,{[`${m}-steps-item-active`]:f<=$-1},t.track),style:{backgroundColor:f<=$-1?x:y,width:p,height:w,...r.track}})}return s.createElement("div",{className:v(`${m}-steps-body`,t.body),style:r.body},C,l)},Ke=["normal","exception","active","success"],qe=s.forwardRef((e,t)=>{const{prefixCls:r,className:o,rootClassName:n,classNames:a,styles:d,steps:u,strokeColor:i,percent:g=0,size:h="default",showInfo:m=!0,type:l="line",status:$,format:k,style:E,percentPosition:S={},...w}=e,{align:p="end",type:C="outer"}=S,y=Array.isArray(i)?i[0]:i,f=typeof i=="string"||Array.isArray(i)?i:void 0,x=s.useMemo(()=>{if(y){const I=typeof y=="string"?y:Object.values(y)[0];return new $e(I).isLight()}return!1},[i]),P=s.useMemo(()=>{const I=J(e);return Number.parseInt(I!==void 0?(I??0)?.toString():(g??0)?.toString(),10)},[g,e.success]),b=s.useMemo(()=>!Ke.includes($)&&P>=100?"success":$||"normal",[$,P]),{getPrefixCls:A,direction:D,className:L,style:R,classNames:T,styles:K}=ae("progress"),c=A("progress",r),[_,Y]=Xe(c),Z={...e,percent:g,type:l,size:h,showInfo:m,percentPosition:S},[O,H]=he([T,a],[K,d],{props:Z}),F=l==="line",N=F&&!u,W=s.useMemo(()=>{if(!m)return null;const I=J(e);let j;const q=k||(le=>`${le}%`),U=F&&x&&C==="inner";return C==="inner"||k||b!=="exception"&&b!=="success"?j=q(G(g),G(I)):b==="exception"?j=F?s.createElement(Ce,null):s.createElement(be,null):b==="success"&&(j=F?s.createElement(Se,null):s.createElement(ke,null)),s.createElement("span",{className:v(`${c}-indicator`,{[`${c}-indicator-bright`]:U,[`${c}-indicator-${p}`]:N,[`${c}-indicator-${C}`]:N},O.indicator),style:H.indicator,title:typeof j=="string"?j:void 0},j)},[m,g,P,b,l,c,k,F,x,C,p,N,O.indicator,H.indicator]),M={...e,classNames:O,styles:H};let X;l==="line"?X=u?s.createElement(He,{...M,strokeColor:f,prefixCls:c,steps:typeof u=="object"?u.count:u},W):s.createElement(_e,{...M,strokeColor:y,prefixCls:c,direction:D,percentPosition:{align:p,type:C}},W):(l==="circle"||l==="dashboard")&&(X=s.createElement(Me,{...M,strokeColor:y,prefixCls:c,progressStatus:b},W));const B=v(c,`${c}-status-${b}`,{[`${c}-${l==="dashboard"&&"circle"||l}`]:l!=="line",[`${c}-inline-circle`]:l==="circle"&&Q(h,"circle")[0]<=20,[`${c}-line`]:N,[`${c}-line-align-${p}`]:N,[`${c}-line-position-${C}`]:N,[`${c}-steps`]:u,[`${c}-show-info`]:m,[`${c}-${h}`]:typeof h=="string",[`${c}-rtl`]:D==="rtl"},L,o,n,O.root,_,Y);return s.createElement("div",{ref:t,style:{...R,...H.root,...E},className:B,role:"progressbar","aria-valuenow":P,"aria-valuemin":0,"aria-valuemax":100,...te(w,["railColor","trailColor","strokeWidth","width","gapDegree","gapPosition","gapPlacement","strokeLinecap","success"])},X)});export{qe as P};
