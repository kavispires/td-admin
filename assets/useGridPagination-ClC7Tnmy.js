import{r as c,j as S,S as v}from"./index-Bl1jfJHn.js";import{P as x}from"./Pagination-DndbgHRq.js";import{u as $}from"./useQueryParams-BmQiP3JR.js";function E(n){var t=c.useRef();return c.useEffect(function(){t.current=n}),t.current}function w({children:n,pagination:t,...o}){const r=S.jsx(x,{showQuickJumper:!0,...t,className:"fixed-pagination"});return S.jsxs(v,{orientation:"vertical",...o,children:[r,n,r]})}function y({prefix:n="",data:t,defaultCurrent:o=1,defaultPageSize:r=64,pageSizeOptions:P=[16,32,64,128],resetter:g}){const{queryParams:u,addParam:p}=$(),s=Number(u.get(`${n}page`)??String(o)),i=Number(u.get(`${n}pageSize`)??String(r)),h=E(g),f=c.useMemo(()=>{const e=(s-1)*i,a=e+i;return t.slice(e,a)},[s,i,t]),m=e=>{p(`${n}page`,e.toString(),String(o))},j=(e,a)=>{p(`${n}pageSize`,a.toString(),String(r))};return g!==h&&m(o),{page:f,pagination:{current:s,pageSize:i,onChange:m,onShowSizeChange:j,defaultCurrent:o,defaultPageSize:r,pageSizeOptions:P,total:t.length,hideOnSinglePage:!0}}}export{w as P,y as u};
