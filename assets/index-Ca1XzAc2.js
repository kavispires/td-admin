import{r as S,d as ae,w as i,m as j,aV as V,aW as q,aI as le,E as ce,G as ie,J as ue,H as fe,K as de,bb as me,o as Q}from"./index-AeBhBC7r.js";var pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"};function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}const ge=(e,t)=>S.createElement(ae,T({},e,{ref:t,icon:pe})),he=S.forwardRef(ge);function ve(e,t){const{disabled:r,prefixCls:n,character:u,characterRender:v,index:s,count:b,value:p,allowHalf:w,focused:C,onHover:E,onClick:a}=e,y=g=>{E(g,s)},H=g=>{a(g,s)},x=g=>{g.keyCode===V.ENTER&&a(g,s)},m=s+1,f=new Set([n]);p===0&&s===0&&C?f.add(`${n}-focused`):w&&p+.5>=m&&p<m?(f.add(`${n}-half`),f.add(`${n}-active`),C&&f.add(`${n}-focused`)):(m<=p?f.add(`${n}-full`):f.add(`${n}-zero`),m===p&&C&&f.add(`${n}-focused`));const $=typeof u=="function"?u(e):u;let R=i.createElement("li",{className:j(Array.from(f)),ref:t},i.createElement("div",{onClick:r?null:H,onKeyDown:r?null:x,onMouseMove:r?null:y,role:"radio","aria-checked":p>s?"true":"false","aria-posinset":s+1,"aria-setsize":b,tabIndex:r?-1:0},i.createElement("div",{className:`${n}-first`},$),i.createElement("div",{className:`${n}-second`},$)));return v&&(R=v(R,e)),R}const Se=i.forwardRef(ve);function be(){const e=S.useRef({});function t(n){return e.current[n]}function r(n){return u=>{e.current[n]=u}}return[t,r]}function Ce(e){let t=e.pageXOffset;const r="scrollLeft";if(typeof t!="number"){const n=e.document;t=n.documentElement[r],typeof t!="number"&&(t=n.body[r])}return t}function ye(e){let t,r;const n=e.ownerDocument,{body:u}=n,v=n&&n.documentElement,s=e.getBoundingClientRect();return t=s.left,r=s.top,t-=v.clientLeft||u.clientLeft||0,r-=v.clientTop||u.clientTop||0,{left:t,top:r}}function Re(e){const t=ye(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=Ce(n),t.left}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}function $e(e,t){const{prefixCls:r="rc-rate",className:n,defaultValue:u,value:v,count:s=5,allowHalf:b=!1,allowClear:p=!0,keyboard:w=!0,character:C="â˜…",characterRender:E,disabled:a,direction:y="ltr",tabIndex:H=0,autoFocus:x,onHoverChange:m,onChange:f,onFocus:$,onBlur:R,onKeyDown:g,onMouseLeave:N,...I}=e,[z,D]=be(),F=i.useRef(null),B=()=>{a||F.current?.focus()};i.useImperativeHandle(t,()=>({focus:B,blur:()=>{a||F.current?.blur()}}));const[h,U]=q(u||0,v),[Y,M]=q(null),K=(o,l)=>{const c=y==="rtl";let d=o+1;if(b){const A=z(o),_=Re(A),J=A.clientWidth;(c&&l-_>J/2||!c&&l-_<J/2)&&(d-=.5)}return d},L=o=>{U(o),f?.(o)},[Z,P]=i.useState(!1),k=()=>{P(!0),$?.()},ee=()=>{P(!1),R?.()},[G,W]=i.useState(null),te=(o,l)=>{const c=K(l,o.pageX);c!==Y&&(W(c),M(null)),m?.(c)},X=o=>{a||(W(null),M(null),m?.(void 0)),o&&N?.(o)},ne=(o,l)=>{const c=K(l,o.pageX);let d=!1;p&&(d=c===h),X(),L(d?0:c),M(d?c:null)},re=o=>{const{keyCode:l}=o,c=y==="rtl",d=b?.5:1;w&&(l===V.RIGHT&&h<s&&!c?(L(h+d),o.preventDefault()):l===V.LEFT&&h>0&&!c||l===V.RIGHT&&h>0&&c?(L(h-d),o.preventDefault()):l===V.LEFT&&h<s&&c&&(L(h+d),o.preventDefault())),g?.(o)};i.useEffect(()=>{x&&!a&&B()},[]);const oe=new Array(s).fill(0).map((o,l)=>i.createElement(Se,{ref:D(l),index:l,count:s,disabled:a,prefixCls:`${r}-star`,allowHalf:b,value:G===null?h:G,onClick:ne,onHover:te,key:o||l,character:C,characterRender:E,focused:Z})),se=j(r,n,{[`${r}-disabled`]:a,[`${r}-rtl`]:y==="rtl"});return i.createElement("ul",O({className:se,onMouseLeave:X,tabIndex:a?-1:H,onFocus:a?null:k,onBlur:a?null:ee,onKeyDown:a?null:re,ref:F},le(I,{aria:!0,data:!0,attr:!0})),oe)}const we=i.forwardRef($e),Ee=e=>{const{componentCls:t}=e;return{[`${t}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${fe(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${t}-star-first, &-half ${t}-star-second`]:{opacity:1},[`&-half ${t}-star-first, &-full ${t}-star-second`]:{color:"inherit"}}}},He=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}}),xe=e=>{const{componentCls:t}=e;return{[t]:{...ue(e),display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none","&-small":{fontSize:e.starSizeSM},"&-large":{fontSize:e.starSizeLG},[`&-disabled${t} ${t}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}},...Ee(e),...He(e)}}},Ie=e=>({starColor:e.yellow6,starSize:e.controlHeight*.625,starSizeSM:e.controlHeightSM*.625,starSizeLG:e.controlHeightLG*.625,starHoverScale:"scale(1.1)",starBg:e.colorFillContent}),De=ce("Rate",e=>{const t=ie(e,{});return xe(t)},Ie),Le=e=>typeof e=="object"&&e!==null,Ne=S.forwardRef((e,t)=>{const{prefixCls:r,className:n,rootClassName:u,style:v,tooltips:s,character:b=S.createElement(he,null),disabled:p,size:w="middle",...C}=e,E=(I,{index:z})=>{if(!s)return I;const D=s[z];return Le(D)?S.createElement(Q,{...D},I):S.createElement(Q,{title:D},I)},{getPrefixCls:a,direction:y,className:H,style:x}=de("rate"),m=a("rate",r),[f,$]=De(m),R={...x,...v},g=S.useContext(me),N=p??g;return S.createElement(we,{ref:t,character:b,characterRender:E,disabled:N,...C,className:j(`${m}-${w}`,n,u,f,$,H),style:R,prefixCls:m,direction:y})});export{Ne as R};
