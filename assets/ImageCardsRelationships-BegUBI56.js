import{c,r as b,e as T,ag as P,u as S,bb as L,g as Ct,m as Ot,bc as wt,h as tt,d as A,bd as et,aW as ot,ai as It,V as nt,be as jt,i as rt,bf as at,aV as Bt,aq as Et,b6 as Rt,ak as Pt,q as it,s as st,ay as Tt,j as s,I as zt,t as _t,bg as Nt,F as Mt,P as qt,L as J}from"./index-CanllrSk.js";import{u as lt,R as Ft,I as Lt}from"./RelationshipsStats-B1GxNJ2l.js";import{T as Dt}from"./TransparentButton-agWxLRl5.js";import{I as Gt}from"./IdTag-CG-kNEi0.js";import{D as Ht}from"./DataLoadingWrapper-vXoV61ey.js";import{l as W,P as kt}from"./useBaseUrl-B43mDP-v.js";import{I as Vt}from"./ImageCard-CpJ-D51F.js";import{R as Wt}from"./RelationshipCountTag-BOBAAIPJ.js";import{C as At}from"./index-NIuub354.js";import{R as Xt}from"./VerticalAlignTopOutlined-3Qf5y9hn.js";import{g as Ut,s as Zt}from"./scrollTo-DD1Er_35.js";import{t as Jt}from"./throttleByAnimationFrame-6FR7onFy.js";import{B as Kt,D as Qt}from"./DownloadButton-DFPgTM7o.js";import{R as ct}from"./FileTextOutlined--ZtsE1Pw.js";import{R as Yt}from"./Item-CO6fyZEj.js";import{R as te}from"./SyncOutlined-N06WK9oM.js";import{b as K,a as k}from"./FilterEntries-B4PKao0P.js";import{R as ee}from"./ResponseState-_0Xf5bTs.js";import{S as oe}from"./SaveButton-h6LhOIa-.js";import{S as V}from"./SiderContent-DYn-Om6c.js";import{T as ne,g as re,C as ae}from"./constants-C9NZ99od.js";import"./hooks-DVNOuioU.js";import"./useMutation-BFSNhaud.js";import"./useQueryParams-XgA6jFDT.js";import"./index-TCzX2xix.js";import"./useCopyToClipboardFunction-B4hkKLUF.js";import"./index-D5DOv0Jq.js";import"./index-D2pHGFfl.js";import"./PlusOutlined-ByV4qAjn.js";import"./index-D2ksPqDf.js";import"./index-2YQ9aqP_.js";import"./index-B7Nx7_fE.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-Bp0Ps0LL.js";const X=c.createContext(void 0),{Provider:ie}=X;var se=function(t,r){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(o[e[n]]=t[e[n]]);return o};const le=t=>{const{icon:r,description:o,prefixCls:e,className:n}=t,i=se(t,["icon","description","prefixCls","className"]),u=c.createElement("div",{className:`${e}-icon`},c.createElement(ct,null));return c.createElement("div",Object.assign({},i,{className:T(n,`${e}-content`)}),r||o?c.createElement(c.Fragment,null,r&&c.createElement("div",{className:`${e}-icon`},r),o&&c.createElement("div",{className:`${e}-description`},o)):u)},ce=b.memo(le),Q=t=>t===0?0:t-Math.sqrt(Math.pow(t,2)/2),de=t=>{const{componentCls:r,floatButtonSize:o,motionDurationSlow:e,motionEaseInOutCirc:n,calc:i}=t,u=new P("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${S(o)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),p=new P("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${S(o)}, 0)`,transformOrigin:"0 0",opacity:0}}),f=new P("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${S(i(o).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),m=new P("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${S(i(o).mul(-1).equal())}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),l=new P("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${S(i(o).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),a=new P("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${S(i(o).mul(-1).equal())}, 0)`,transformOrigin:"0 0",opacity:0}}),C=new P("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${S(o)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),$=new P("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${S(o)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),d=`${r}-group`;return[{[d]:{[`&${d}-top ${d}-wrap`]:L(`${d}-wrap`,u,p,e,!0),[`&${d}-bottom ${d}-wrap`]:L(`${d}-wrap`,l,a,e,!0),[`&${d}-left ${d}-wrap`]:L(`${d}-wrap`,C,$,e,!0),[`&${d}-right ${d}-wrap`]:L(`${d}-wrap`,f,m,e,!0)}},{[`${d}-wrap`]:{[`&${d}-wrap-enter, &${d}-wrap-appear`]:{opacity:0,animationTimingFunction:n},[`&${d}-wrap-leave`]:{opacity:1,animationTimingFunction:n}}}]},ue=t=>{const{antCls:r,componentCls:o,floatButtonSize:e,margin:n,borderRadiusLG:i,borderRadiusSM:u,badgeOffset:p,floatButtonBodyPadding:f,zIndexPopupBase:m,calc:l}=t,a=`${o}-group`;return{[a]:Object.assign(Object.assign({},tt(t)),{zIndex:m,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:e,minHeight:e,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,borderRadius:i,[`${a}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${a}-rtl`]:{direction:"rtl"},[o]:{position:"static"}}),[`${a}-top > ${a}-wrap`]:{flexDirection:"column",top:"auto",bottom:l(e).add(n).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:n,bottom:l(n).mul(-1).equal()}},[`${a}-bottom > ${a}-wrap`]:{flexDirection:"column",top:l(e).add(n).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:n,top:l(n).mul(-1).equal()}},[`${a}-right > ${a}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:l(e).add(n).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:n,height:"100%",left:{_skip_check_:!0,value:l(n).mul(-1).equal()}}},[`${a}-left > ${a}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:l(e).add(n).equal()},"&::after":{content:'""',position:"absolute",width:n,height:"100%",right:{_skip_check_:!0,value:l(n).mul(-1).equal()}}},[`${a}-circle`]:{gap:n,[`${a}-wrap`]:{gap:n}},[`${a}-square`]:{[`${o}-square`]:{padding:0,borderRadius:0,[`&${a}-trigger`]:{borderRadius:i},"&:first-child":{borderStartStartRadius:i,borderStartEndRadius:i},"&:last-child":{borderEndStartRadius:i,borderEndEndRadius:i},"&:not(:last-child)":{borderBottom:`${S(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${r}-badge`]:{[`${r}-badge-count`]:{top:l(l(f).add(p)).mul(-1).equal(),insetInlineEnd:l(l(f).add(p)).mul(-1).equal()}}},[`${a}-wrap`]:{borderRadius:i,boxShadow:t.boxShadowSecondary,[`${o}-square`]:{boxShadow:"none",borderRadius:0,padding:f,[`${o}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:u}}}},[`${a}-top > ${a}-wrap, ${a}-bottom > ${a}-wrap`]:{[`> ${o}-square`]:{"&:first-child":{borderStartStartRadius:i,borderStartEndRadius:i},"&:last-child":{borderEndStartRadius:i,borderEndEndRadius:i},"&:not(:last-child)":{borderBottom:`${S(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${a}-left > ${a}-wrap, ${a}-right > ${a}-wrap`]:{[`> ${o}-square`]:{"&:first-child":{borderStartStartRadius:i,borderEndStartRadius:i},"&:last-child":{borderStartEndRadius:i,borderEndEndRadius:i},"&:not(:last-child)":{borderBottom:"none",borderInlineEnd:`${S(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${a}-circle-shadow`]:{boxShadow:"none"},[`${a}-square-shadow`]:{boxShadow:t.boxShadowSecondary,[`${o}-square`]:{boxShadow:"none",padding:f,[`${o}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:u}}}}},me=t=>{const{antCls:r,componentCls:o,floatButtonBodyPadding:e,floatButtonIconSize:n,floatButtonSize:i,borderRadiusLG:u,badgeOffset:p,dotOffsetInSquare:f,dotOffsetInCircle:m,zIndexPopupBase:l,calc:a}=t;return{[o]:Object.assign(Object.assign({},tt(t)),{border:"none",position:"fixed",cursor:"pointer",zIndex:l,display:"block",width:i,height:i,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,boxShadow:t.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${r}-badge`]:{width:"100%",height:"100%",[`${r}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:a(p).mul(-1).equal(),insetInlineEnd:a(p).mul(-1).equal()}},[`${o}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${t.motionDurationMid}`,[`${o}-content`]:{overflow:"hidden",textAlign:"center",minHeight:i,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${S(a(e).div(2).equal())} ${S(e)}`,[`${o}-icon`]:{textAlign:"center",margin:"auto",width:n,fontSize:n,lineHeight:1}}}}),[`${o}-rtl`]:{direction:"rtl"},[`${o}-circle`]:{height:i,borderRadius:"50%",[`${r}-badge`]:{[`${r}-badge-dot`]:{top:m,insetInlineEnd:m}},[`${o}-body`]:{borderRadius:"50%"}},[`${o}-square`]:{height:"auto",minHeight:i,borderRadius:u,[`${r}-badge`]:{[`${r}-badge-dot`]:{top:f,insetInlineEnd:f}},[`${o}-body`]:{height:"auto",borderRadius:u}},[`${o}-default`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,[`${o}-body`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorFillContent},[`${o}-content`]:{[`${o}-icon`]:{color:t.colorText},[`${o}-description`]:{display:"flex",alignItems:"center",lineHeight:S(t.fontSizeLG),color:t.colorText,fontSize:t.fontSizeSM}}}},[`${o}-primary`]:{backgroundColor:t.colorPrimary,[`${o}-body`]:{backgroundColor:t.colorPrimary,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorPrimaryHover},[`${o}-content`]:{[`${o}-icon`]:{color:t.colorTextLightSolid},[`${o}-description`]:{display:"flex",alignItems:"center",lineHeight:S(t.fontSizeLG),color:t.colorTextLightSolid,fontSize:t.fontSizeSM}}}}}},pe=t=>({dotOffsetInCircle:Q(t.controlHeightLG/2),dotOffsetInSquare:Q(t.borderRadiusLG)}),dt=Ct("FloatButton",t=>{const{colorTextLightSolid:r,colorBgElevated:o,controlHeightLG:e,marginXXL:n,marginLG:i,fontSize:u,fontSizeIcon:p,controlItemBgHover:f,paddingXXS:m,calc:l}=t,a=Ot(t,{floatButtonBackgroundColor:o,floatButtonColor:r,floatButtonHoverBackgroundColor:f,floatButtonFontSize:u,floatButtonIconSize:l(p).mul(1.5).equal(),floatButtonSize:e,floatButtonInsetBlockEnd:n,floatButtonInsetInlineEnd:i,floatButtonBodySize:l(e).sub(l(m).mul(2)).equal(),floatButtonBodyPadding:m,badgeOffset:l(m).mul(1.5).equal()});return[ue(a),me(a),wt(t),de(a)]},pe);var fe=function(t,r){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(o[e[n]]=t[e[n]]);return o};const D="float-btn",ge=c.forwardRef((t,r)=>{const{prefixCls:o,className:e,rootClassName:n,style:i,type:u="default",shape:p="circle",icon:f,description:m,tooltip:l,htmlType:a="button",badge:C={}}=t,$=fe(t,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:d,direction:h}=b.useContext(A),z=b.useContext(X),v=d(D,o),B=et(v),[y,E,I]=dt(v,B),R=z||p,_=T(E,I,B,v,e,n,`${v}-${u}`,`${v}-${R}`,{[`${v}-rtl`]:h==="rtl"}),[M]=ot("FloatButton",i?.zIndex),N=Object.assign(Object.assign({},i),{zIndex:M}),O=It(C,["title","children","status","text"]);let g=c.createElement("div",{className:`${v}-body`},c.createElement(ce,{prefixCls:v,description:m,icon:f}));"badge"in t&&(g=c.createElement(Kt,Object.assign({},O),g));const x=jt(l);return x&&(g=c.createElement(nt,Object.assign({},x),g)),y(t.href?c.createElement("a",Object.assign({ref:r},$,{className:_,style:N}),g):c.createElement("button",Object.assign({ref:r},$,{className:_,style:N,type:a}),g))}),w=ge;var he=function(t,r){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(o[e[n]]=t[e[n]]);return o};const be=c.createElement(Xt,null),ut=c.forwardRef((t,r)=>{var o;const{backTopIcon:e}=rt("floatButton"),{prefixCls:n,className:i,type:u="default",shape:p="circle",visibilityHeight:f=400,icon:m,target:l,onClick:a,duration:C=450}=t,$=he(t,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),d=(o=m??e)!==null&&o!==void 0?o:be,[h,z]=b.useState(f===0),v=c.useRef(null);c.useImperativeHandle(r,()=>({nativeElement:v.current}));const B=()=>{var g;return((g=v.current)===null||g===void 0?void 0:g.ownerDocument)||window},y=Jt(g=>{const x=Ut(g.target);z(x>=f)});b.useEffect(()=>{const x=(l||B)();return y({target:x}),x?.addEventListener("scroll",y),()=>{y.cancel(),x?.removeEventListener("scroll",y)}},[l]);const E=g=>{Zt(0,{getContainer:l||B,duration:C}),a?.(g)},{getPrefixCls:I}=b.useContext(A),R=I(D,n),_=I(),N=b.useContext(X)||p,O=Object.assign({prefixCls:R,icon:d,type:u,shape:N},$);return c.createElement(at,{visible:h,motionName:`${_}-fade`},({className:g},x)=>c.createElement(w,Object.assign({ref:Bt(v,x)},O,{onClick:E,className:T(i,g)})))});var ye=function(t,r){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(o[e[n]]=t[e[n]]);return o};const mt=t=>{var r;const{prefixCls:o,className:e,style:n,shape:i="circle",type:u="default",placement:p="top",icon:f=c.createElement(ct,null),closeIcon:m,description:l,trigger:a,children:C,onOpenChange:$,open:d,onClick:h}=t,z=ye(t,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:v,getPrefixCls:B,closeIcon:y}=rt("floatButtonGroup"),E=(r=m??y)!==null&&r!==void 0?r:c.createElement(Pt,null),I=B(D,o),R=et(I),[_,M,N]=dt(I,R),O=`${I}-group`,g=a&&["click","hover"].includes(a),x=p&&["top","left","right","bottom"].includes(p),ft=T(O,M,N,R,e,{[`${O}-rtl`]:v==="rtl",[`${O}-${i}`]:i,[`${O}-${i}-shadow`]:!g,[`${O}-${p}`]:g&&x}),[gt]=ot("FloatButton",n?.zIndex),ht=Object.assign(Object.assign({},n),{zIndex:gt}),bt=T(M,`${O}-wrap`),[q,yt]=Et(!1,{value:d}),U=c.useRef(null),Z=a==="hover",G=a==="click",F=Rt(j=>{q!==j&&(yt(j),$?.(j))}),vt=()=>{Z&&F(!0)},xt=()=>{Z&&F(!1)},$t=j=>{G&&F(!q),h?.(j)};return c.useEffect(()=>{if(G){const j=St=>{var H;!((H=U.current)===null||H===void 0)&&H.contains(St.target)||F(!1)};return document.addEventListener("click",j,{capture:!0}),()=>document.removeEventListener("click",j,{capture:!0})}},[G]),_(c.createElement(ie,{value:i},c.createElement("div",{ref:U,className:ft,style:ht,onMouseEnter:vt,onMouseLeave:xt},g?c.createElement(c.Fragment,null,c.createElement(at,{visible:q,motionName:`${O}-wrap`},({className:j})=>c.createElement("div",{className:T(j,bt)},C)),c.createElement(w,Object.assign({type:u,icon:q?E:f,description:l,"aria-label":t["aria-label"],className:`${O}-trigger`,onClick:$t},z))):C)))};var pt=function(t,r){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(o[e[n]]=t[e[n]]);return o};const Y=t=>{var{backTop:r}=t,o=pt(t,["backTop"]);return r?b.createElement(ut,Object.assign({},o,{visibilityHeight:0})):b.createElement(w,Object.assign({},o))},ve=t=>{var{className:r,items:o}=t,e=pt(t,["className","items"]);const{prefixCls:n}=e,{getPrefixCls:i}=b.useContext(A),p=`${i(D,n)}-pure`;return o?b.createElement(mt,Object.assign({className:T(r,p)},e),o.map((f,m)=>b.createElement(Y,Object.assign({key:m},f)))):b.createElement(Y,Object.assign({className:T(r,p)},e))};w.BackTop=ut;w.Group=mt;w._InternalPanelDoNotUseOrYouWillBeFired=ve;var xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},$e=function(r,o){return b.createElement(it,st({},r,{ref:o,icon:xe}))},Se=b.forwardRef($e),Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 100c-61.8 0-112 50.2-112 112 0 47.7 29.9 88.5 72 104.6v27.6L512 601.4 312 344.2v-27.6c42.1-16.1 72-56.9 72-104.6 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 50.6 33.8 93.5 80 107.3v34.4c0 9.7 3.3 19.3 9.3 27L476 672.3v33.6c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-33.6l226.7-291.6c6-7.7 9.3-17.3 9.3-27v-34.4c46.2-13.8 80-56.7 80-107.3 0-61.8-50.2-112-112-112zM224 212a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm336 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm192-552a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"fork",theme:"outlined"},Oe=function(r,o){return b.createElement(it,st({},r,{ref:o,icon:Ce}))},we=b.forwardRef(Oe);function Ie(){const{query:{isDirty:t,isSaving:r,...o},randomGroups:{cardIds:e,cards:n,onSelect:i,selection:u,relate:p,nextSet:f,deselectAll:m,cycles:l},showIds:a,cardSize:C}=lt(),$=b.useRef(null),[d,{width:h}]=Tt(),[z,v]=b.useMemo(()=>{const y=Math.floor(h/C)+1,E=Math.floor(h/y);return[y,E]},[C,h]),B=()=>{f(),$.current?.scrollIntoView({behavior:"smooth"})};return s.jsx(Ht,{error:o.error,hasResponseData:!W.isEmpty(o.data),isLoading:o.isLoading,children:s.jsx("div",{className:"my-6",ref:d,children:s.jsxs(At,{className:"image-card-categorizer-card",extra:s.jsxs(nt,{title:"Total cycles",children:[s.jsx(_t,{})," ",l]}),ref:$,title:"Card Relationship Matching",children:[s.jsx(zt.PreviewGroup,{children:s.jsx("div",{className:"image-cards-group",style:{gridTemplateColumns:`repeat(${Math.max(z,1)}, 1fr)`},children:e.map((y,E)=>{const I=u.includes(y),R=n[E];return s.jsx("div",{className:"image-card-card__image",children:s.jsxs(Dt,{active:I,activeClass:"image-cards-group__button--active",className:"image-cards-group__button",onClick:()=>i(y),children:[s.jsx(Vt,{cardId:y,preview:!1,width:v-24}),s.jsxs("div",{children:[a&&s.jsx(Gt,{children:y}),s.jsx(Wt,{card:R})]})]})},y)})})}),s.jsx(je,{deselectAll:m,isDirty:t,isSaving:r,onNextSet:B,relate:p,selection:u})]})})})}const je=({isSaving:t,isDirty:r,selection:o,relate:e,deselectAll:n,onNextSet:i})=>{if(t)return s.jsx(w,{icon:s.jsx(Nt,{})});const u=()=>{o.length<2||e()};return s.jsxs(s.Fragment,{children:[r&&s.jsx(w,{icon:s.jsx(Yt,{}),style:{right:234},type:"primary"}),s.jsx(w,{icon:s.jsx(Se,{}),onClick:n,style:{right:164}}),s.jsx(w,{badge:{count:o.length,size:"small"},icon:s.jsx(we,{}),onClick:u,style:{right:94},type:o.length<2?"default":"primary"}),s.jsx(w,{icon:s.jsx(te,{}),onClick:i,style:{right:24}})]})};function Be(){const{query:{isDirty:t,isSaving:r,save:o,data:e,isLoading:n,isError:i},randomGroups:{filters:u},showIds:p,setShowIds:f,tagThreshold:m,setTagThreshold:l,sampleSize:a,setSampleSize:C,cardSize:$,setCardSize:d}=lt();return s.jsxs(kt,{children:[s.jsx(V,{children:s.jsxs(Mt,{gap:6,vertical:!0,children:[s.jsx(oe,{dirt:JSON.stringify(e),isDirty:t,isSaving:r,onSave:()=>o({})}),s.jsx(Qt,{block:!0,data:e,disabled:W.isEmpty(e),fileName:"imageCardsRelationships.json",loading:r})]})}),s.jsx(ee,{hasResponseData:!W.isEmpty(e),isDirty:t,isError:i,isLoading:n||r}),s.jsxs(V,{children:[s.jsx(K,{label:"Use Cycles",onChange:()=>u.toggleUseCycles(),value:u.useCycles}),s.jsx(K,{label:"Show Ids",onChange:h=>f(h),value:p}),s.jsx(k,{label:"Tag Count",onChange:h=>l(h),options:ne,value:m}),s.jsx(k,{label:"Sample Size",onChange:h=>C(h),options:re,value:a}),s.jsx(k,{label:"Card Size",onChange:h=>d(h),options:ae,value:$})]}),s.jsx(V,{children:s.jsx(Ft,{})})]})}function co(){return s.jsx(qt,{subtitle:"Relationships",title:"Image Cards",children:s.jsx(Lt,{children:s.jsxs(J,{hasSider:!0,children:[s.jsx(Be,{}),s.jsx(J.Content,{className:"content",children:s.jsx(Ie,{})})]})})})}export{co as default};
