import{r as d,j as e,P as C,L,T}from"./index-BHrRQ1uq.js";import{S as x}from"./SectionTitle-DJwLXOIU.js";import{R as A}from"./ResponseState-fIQi1M-X.js";import{P as W}from"./useBaseUrl--32bgvsR.js";import{u as P}from"./useQueryParams-Cr8fZCN0.js";import{D as _}from"./DataLoadingWrapper-DKkg9HZe.js";import{u as $,R as k}from"./useResourceState-D4SDtmF3.js";import{S as G}from"./SearchDuplicates-K7mPXRKg.js";import{s as g,f as H}from"./index-Rk2ZCQ0l.js";import{R as S,a as J}from"./constants-B_q3c2xJ.js";import{I as h}from"./index-DuBa27hb.js";import"./SiderContent-Dj_cqrIg.js";import"./index-BHuPI7uO.js";import"./index-Db_5R2-z.js";import"./index-CkYVgnOz.js";import"./lodash-f0m46xYx.js";import"./Item-DXicAdtS.js";import"./Input-cdsOURLH.js";const{Text:F}=T;function ce(){P({resourceName:S.SINGLE_WORDS,language:"pt"});const[i,c]=d.useState({}),[l,a]=d.useState({}),[n,f]=d.useState({}),O="text",{language:o,isLoading:R,error:D,hasResponseData:E,response:r}=$([S.SINGLE_WORDS]);d.useEffect(()=>{if(r){const u={},p={},m=Object.values(r).filter(s=>{const t=g(s.text).toLowerCase();return u[t]?(p[s.id]=s.text,!1):(u[t]=!0,!0)}).map((s,t)=>({...s,id:`sw-${t+1}-${o}`})).reduce((s,t)=>(s[t.id]=t,s),{});f(m),a(p),c(m)}},[r,o]);const w=u=>{const{value:p}=u.target,m=p.split(`
`),s=Object.values(n),t=Number(s[s.length-1].id.split("-")[1])||1,b=m.reduce((N,j,I)=>{const v=M(j,r,O);if(j&&!v){const y=`sw-${t+I+1}-${o}`;N[y]={id:y,text:j.toLowerCase()}}return N},{...n});c(b)};return e.jsx(C,{title:"Single Word Expander",subtitle:o?`${o}`:"",children:e.jsxs(L,{hasSider:!0,children:[e.jsxs(W,{children:[e.jsx(A,{hasResponseData:E,isLoading:R,error:D}),e.jsx(k,{resourceNames:[S.SINGLE_WORDS]})]}),e.jsx(L.Content,{className:"content",children:e.jsx(_,{isLoading:R,error:D,hasResponseData:E,children:e.jsxs("div",{className:"parser-container",children:[e.jsxs("div",{className:"parser-main",children:[e.jsx(x,{children:"Input New Data"}),e.jsx(h.TextArea,{name:"input",id:"",cols:15,rows:5,onChange:w}),e.jsxs(x,{children:["Output (",Object.keys(i).length,")"]}),e.jsx(h.TextArea,{name:"output",id:"",cols:15,rows:13,readOnly:!0,value:JSON.stringify(i,null,4)}),e.jsxs(x,{children:["Duplicates (",Object.keys(l).length,")"]}),e.jsx(h.TextArea,{name:"duplicates",id:"",cols:15,rows:3,readOnly:!0,value:JSON.stringify(l,null,4)})]}),e.jsxs("aside",{className:"parser-controls",children:[e.jsx(x,{children:"Database"}),e.jsxs(F,{children:[Object.keys(r??{}).length," entries / ",Object.keys(n??{}).length]}),e.jsx(G,{response:r,property:O})]})]})})})]})})}const M=(i,c,l)=>{const a=g(i.trim().toLowerCase());if(a.length>J){const n=H(a,c,l);return Object.values(n).some(f=>g(f)===a)}return!1};export{ce as default};
