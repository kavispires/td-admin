import{r as f,p as nt,q as rt,R as l,c as z,K as T,d as w,s as q,g as Ot,m as wt,t as It,e as at,C as X,v as it,w as st,x as Et,y as lt,z as ct,A as Bt,f as jt,E as Rt,F as Pt,G as Tt,a as U,_ as Z,J as zt,M as Ft,j as s,I as Nt,o as _t,P as Mt,L as Y}from"./index-BpOPtDno.js";import{u as dt,R as Lt,I as qt}from"./RelationshipsStats-Yp-dVbYq.js";import{T as Dt}from"./TransparentButton-DB5vPIcY.js";import{I as Gt}from"./IdTag-B6Y2aMCR.js";import{D as Ht}from"./DataLoadingWrapper-B86QopG6.js";import{l as W,P as kt}from"./useBaseUrl-DGQ0WeaR.js";import{I as Vt}from"./ImageCard-BNF_1J-X.js";import{R as At}from"./RelationshipCountTag-C1pErGGL.js";import{C as Wt}from"./index-Bshv8ALS.js";import{V as Xt}from"./VerticalAlignTopOutlined-v_ZPtoJ9.js";import{g as Ut,s as Zt}from"./scrollTo-Bn6L7X6K.js";import{t as Jt}from"./throttleByAnimationFrame-b-aUwzMc.js";import{B as Kt,D as Qt}from"./DownloadButton-B1eA7G8a.js";import{F as Yt}from"./FileTextOutlined-B-I9JRsA.js";import{R as te}from"./Item-E5GiKY6X.js";import{R as ee}from"./SyncOutlined-BKGygtoB.js";import{c as tt,a as V}from"./FilterEntries-Ca_ivSrS.js";import{R as oe}from"./ResponseState-CwlyG5w4.js";import{S as ne}from"./SaveButton-DrwiZphv.js";import{S as A}from"./SiderContent-B5DdMimI.js";import{T as re,c as ae,C as ie}from"./constants-CR1AS5tN.js";import{F as se}from"./index-CoMLl3xt.js";import"./hooks-B7Eipps1.js";import"./useMutation-DYAWxsN6.js";import"./useQueryParams-0iU09vdH.js";import"./index-DDOyUl_x.js";import"./index-BJjapmBU.js";import"./useCopyToClipboardFunction-CS1IN1Vw.js";import"./index-BVwjVxAw.js";import"./index-C8IJBESt.js";import"./PlusOutlined-ByZyTB3m.js";import"./index-Bso3DuBd.js";import"./index-DixHne5n.js";import"./index-D5RiZbBy.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-BgQlvX8X.js";import"./gapSize-U1swVQyS.js";var le=function(r,e){return f.createElement(nt,rt({},r,{ref:e,icon:Xt}))},ce=f.forwardRef(le);const J=l.createContext(void 0),{Provider:de}=J;var ue=function(r,e){return f.createElement(nt,rt({},r,{ref:e,icon:Yt}))},ut=f.forwardRef(ue);const me=t=>{const{icon:r,description:e,prefixCls:o,className:n}=t,a=l.createElement("div",{className:`${o}-icon`},l.createElement(ut,null));return l.createElement("div",{onClick:t.onClick,onFocus:t.onFocus,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,className:z(n,`${o}-content`)},r||e?l.createElement(l.Fragment,null,r&&l.createElement("div",{className:`${o}-icon`},r),e&&l.createElement("div",{className:`${o}-description`},e)):a)},pe=f.memo(me),et=t=>t===0?0:t-Math.sqrt(Math.pow(t,2)/2),fe=t=>{const{componentCls:r,floatButtonSize:e,motionDurationSlow:o,motionEaseInOutCirc:n,calc:a}=t,p=new T("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${w(e)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),g=new T("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${w(e)}, 0)`,transformOrigin:"0 0",opacity:0}}),u=new T("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${a(e).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),m=new T("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${a(e).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),c=new T("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${a(e).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),i=new T("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${a(e).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0}}),C=new T("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${w(e)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),$=new T("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${w(e)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),d=`${r}-group`;return[{[d]:{[`&${d}-top ${d}-wrap`]:q(`${d}-wrap`,p,g,o,!0),[`&${d}-bottom ${d}-wrap`]:q(`${d}-wrap`,c,i,o,!0),[`&${d}-left ${d}-wrap`]:q(`${d}-wrap`,C,$,o,!0),[`&${d}-right ${d}-wrap`]:q(`${d}-wrap`,u,m,o,!0)}},{[`${d}-wrap`]:{[`&${d}-wrap-enter, &${d}-wrap-appear`]:{opacity:0,animationTimingFunction:n},[`&${d}-wrap-leave`]:{opacity:1,animationTimingFunction:n}}}]},ge=t=>{const{antCls:r,componentCls:e,floatButtonSize:o,margin:n,borderRadiusLG:a,borderRadiusSM:p,badgeOffset:g,floatButtonBodyPadding:u,zIndexPopupBase:m,calc:c}=t,i=`${e}-group`;return{[i]:Object.assign(Object.assign({},at(t)),{zIndex:m,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:o,minHeight:o,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,borderRadius:a,[`${i}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${i}-rtl`]:{direction:"rtl"},[e]:{position:"static"}}),[`${i}-top > ${i}-wrap`]:{flexDirection:"column",top:"auto",bottom:c(o).add(n).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:n,bottom:c(n).mul(-1).equal()}},[`${i}-bottom > ${i}-wrap`]:{flexDirection:"column",top:c(o).add(n).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:n,top:c(n).mul(-1).equal()}},[`${i}-right > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:c(o).add(n).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:n,height:"100%",left:{_skip_check_:!0,value:c(n).mul(-1).equal()}}},[`${i}-left > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:c(o).add(n).equal()},"&::after":{content:'""',position:"absolute",width:n,height:"100%",right:{_skip_check_:!0,value:c(n).mul(-1).equal()}}},[`${i}-circle`]:{gap:n,[`${i}-wrap`]:{gap:n}},[`${i}-square`]:{[`${e}-square`]:{padding:0,borderRadius:0,[`&${i}-trigger`]:{borderRadius:a},"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${r}-badge`]:{[`${r}-badge-count`]:{top:c(c(u).add(g)).mul(-1).equal(),insetInlineEnd:c(c(u).add(g)).mul(-1).equal()}}},[`${i}-wrap`]:{borderRadius:a,boxShadow:t.boxShadowSecondary,[`${e}-square`]:{boxShadow:"none",borderRadius:0,padding:u,[`${e}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:p}}}},[`${i}-top > ${i}-wrap, ${i}-bottom > ${i}-wrap`]:{[`> ${e}-square`]:{"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-left > ${i}-wrap, ${i}-right > ${i}-wrap`]:{[`> ${e}-square`]:{"&:first-child":{borderStartStartRadius:a,borderEndStartRadius:a},"&:last-child":{borderStartEndRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderInlineEnd:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-circle-shadow`]:{boxShadow:"none"},[`${i}-square-shadow`]:{boxShadow:t.boxShadowSecondary,[`${e}-square`]:{boxShadow:"none",padding:u,[`${e}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:p}}}}},he=t=>{const{antCls:r,componentCls:e,floatButtonBodyPadding:o,floatButtonIconSize:n,floatButtonSize:a,borderRadiusLG:p,badgeOffset:g,dotOffsetInSquare:u,dotOffsetInCircle:m,zIndexPopupBase:c,calc:i}=t;return{[e]:Object.assign(Object.assign({},at(t)),{border:"none",position:"fixed",cursor:"pointer",zIndex:c,display:"block",width:a,height:a,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,boxShadow:t.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${r}-badge`]:{width:"100%",height:"100%",[`${r}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:i(g).mul(-1).equal(),insetInlineEnd:i(g).mul(-1).equal()}},[`${e}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${t.motionDurationMid}`,[`${e}-content`]:{overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${w(i(o).div(2).equal())} ${w(o)}`,[`${e}-icon`]:{textAlign:"center",margin:"auto",width:n,fontSize:n,lineHeight:1}}}}),[`${e}-rtl`]:{direction:"rtl"},[`${e}-circle`]:{height:a,borderRadius:"50%",[`${r}-badge`]:{[`${r}-badge-dot`]:{top:m,insetInlineEnd:m}},[`${e}-body`]:{borderRadius:"50%"}},[`${e}-square`]:{height:"auto",minHeight:a,borderRadius:p,[`${r}-badge`]:{[`${r}-badge-dot`]:{top:u,insetInlineEnd:u}},[`${e}-body`]:{height:"auto",borderRadius:p}},[`${e}-default`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,[`${e}-body`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorFillContent},[`${e}-content`]:{[`${e}-icon`]:{color:t.colorText},[`${e}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorText,fontSize:t.fontSizeSM}}}},[`${e}-primary`]:{backgroundColor:t.colorPrimary,[`${e}-body`]:{backgroundColor:t.colorPrimary,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorPrimaryHover},[`${e}-content`]:{[`${e}-icon`]:{color:t.colorTextLightSolid},[`${e}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorTextLightSolid,fontSize:t.fontSizeSM}}}}}},be=t=>({dotOffsetInCircle:et(t.controlHeightLG/2),dotOffsetInSquare:et(t.borderRadiusLG)}),mt=Ot("FloatButton",t=>{const{colorTextLightSolid:r,colorBgElevated:e,controlHeightLG:o,marginXXL:n,marginLG:a,fontSize:p,fontSizeIcon:g,controlItemBgHover:u,paddingXXS:m,calc:c}=t,i=wt(t,{floatButtonBackgroundColor:e,floatButtonColor:r,floatButtonHoverBackgroundColor:u,floatButtonFontSize:p,floatButtonIconSize:c(g).mul(1.5).equal(),floatButtonSize:o,floatButtonInsetBlockEnd:n,floatButtonInsetInlineEnd:a,floatButtonBodySize:c(o).sub(c(m).mul(2)).equal(),floatButtonBodyPadding:m,badgeOffset:c(m).mul(1.5).equal()});return[ge(i),he(i),It(t),fe(i)]},be);var ve=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const D="float-btn",xe=l.forwardRef((t,r)=>{const{prefixCls:e,className:o,rootClassName:n,style:a,type:p="default",shape:g="circle",icon:u,description:m,tooltip:c,htmlType:i="button",badge:C={}}=t,$=ve(t,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:d,direction:h}=f.useContext(X),I=f.useContext(J),v=d(D,e),j=it(v),[F,N,b]=mt(v,j),E=I||g,R=z(N,b,j,v,o,n,`${v}-${p}`,`${v}-${E}`,{[`${v}-rtl`]:h==="rtl"}),[x]=st("FloatButton",a==null?void 0:a.zIndex),y=Object.assign(Object.assign({},a),{zIndex:x}),S=Et(C,["title","children","status","text"]),_=f.useMemo(()=>({prefixCls:v,description:m,icon:u,type:p}),[v,m,u,p]);let P=l.createElement("div",{className:`${v}-body`},l.createElement(pe,Object.assign({},_)));return"badge"in t&&(P=l.createElement(Kt,Object.assign({},S),P)),"tooltip"in t&&(P=l.createElement(lt,{title:c,placement:h==="rtl"?"right":"left"},P)),F(t.href?l.createElement("a",Object.assign({ref:r},$,{className:R,style:y}),P):l.createElement("button",Object.assign({ref:r},$,{className:R,style:y,type:i}),P))}),O=xe;var ye=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const pt=l.forwardRef((t,r)=>{const{prefixCls:e,className:o,type:n="default",shape:a="circle",visibilityHeight:p=400,icon:g=l.createElement(ce,null),target:u,onClick:m,duration:c=450}=t,i=ye(t,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[C,$]=f.useState(p===0),d=l.useRef(null);l.useImperativeHandle(r,()=>({nativeElement:d.current}));const h=()=>{var x;return((x=d.current)===null||x===void 0?void 0:x.ownerDocument)||window},I=Jt(x=>{const y=Ut(x.target);$(y>=p)});f.useEffect(()=>{const y=(u||h)();return I({target:y}),y==null||y.addEventListener("scroll",I),()=>{I.cancel(),y==null||y.removeEventListener("scroll",I)}},[u]);const v=x=>{Zt(0,{getContainer:u||h,duration:c}),m==null||m(x)},{getPrefixCls:j}=f.useContext(X),F=j(D,e),N=j(),E=f.useContext(J)||a,R=Object.assign({prefixCls:F,icon:g,type:n,shape:E},i);return l.createElement(ct,{visible:C,motionName:`${N}-fade`},(x,y)=>{let{className:S}=x;return l.createElement(O,Object.assign({ref:Bt(d,y)},R,{onClick:v,className:z(o,S)}))})});var $e=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const ft=t=>{var r;const{prefixCls:e,className:o,style:n,shape:a="circle",type:p="default",placement:g="top",icon:u=l.createElement(ut,null),closeIcon:m,description:c,trigger:i,children:C,onOpenChange:$,open:d,onClick:h}=t,I=$e(t,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:v,getPrefixCls:j,closeIcon:F}=jt("floatButtonGroup"),N=(r=m??F)!==null&&r!==void 0?r:l.createElement(Tt,null),b=j(D,e),E=it(b),[R,x,y]=mt(b,E),S=`${b}-group`,_=i&&["click","hover"].includes(i),P=g&&["top","left","right","bottom"].includes(g),ht=z(S,x,y,E,o,{[`${S}-rtl`]:v==="rtl",[`${S}-${a}`]:a,[`${S}-${a}-shadow`]:!_,[`${S}-${g}`]:_&&P}),[bt]=st("FloatButton",n==null?void 0:n.zIndex),vt=Object.assign(Object.assign({},n),{zIndex:bt}),xt=z(x,`${S}-wrap`),[M,yt]=Rt(!1,{value:d}),K=l.useRef(null),Q=i==="hover",G=i==="click",L=Pt(B=>{M!==B&&(yt(B),$==null||$(B))}),$t=()=>{Q&&L(!0)},Ct=()=>{Q&&L(!1)},St=B=>{G&&L(!M),h==null||h(B)};return l.useEffect(()=>{if(G){const B=H=>{var k;!((k=K.current)===null||k===void 0)&&k.contains(H.target)||L(!1)};return document.addEventListener("click",B,{capture:!0}),()=>document.removeEventListener("click",B,{capture:!0})}},[G]),R(l.createElement(de,{value:a},l.createElement("div",{ref:K,className:ht,style:vt,onMouseEnter:$t,onMouseLeave:Ct},_?l.createElement(l.Fragment,null,l.createElement(ct,{visible:M,motionName:`${S}-wrap`},B=>{let{className:H}=B;return l.createElement("div",{className:z(H,xt)},C)}),l.createElement(O,Object.assign({type:p,icon:M?N:u,description:c,"aria-label":t["aria-label"],className:`${S}-trigger`,onClick:St},I))):C)))};var gt=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const ot=t=>{var{backTop:r}=t,e=gt(t,["backTop"]);return r?f.createElement(pt,Object.assign({},e,{visibilityHeight:0})):f.createElement(O,Object.assign({},e))},Ce=t=>{var{className:r,items:e}=t,o=gt(t,["className","items"]);const{prefixCls:n}=o,{getPrefixCls:a}=f.useContext(X),g=`${a(D,n)}-pure`;return e?f.createElement(ft,Object.assign({className:z(r,g)},o),e.map((u,m)=>f.createElement(ot,Object.assign({key:m},u)))):f.createElement(ot,Object.assign({className:z(r,g)},o))};O.BackTop=pt;O.Group=ft;O._InternalPanelDoNotUseOrYouWillBeFired=Ce;var Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 100c-61.8 0-112 50.2-112 112 0 47.7 29.9 88.5 72 104.6v27.6L512 601.4 312 344.2v-27.6c42.1-16.1 72-56.9 72-104.6 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 50.6 33.8 93.5 80 107.3v34.4c0 9.7 3.3 19.3 9.3 27L476 672.3v33.6c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-33.6l226.7-291.6c6-7.7 9.3-17.3 9.3-27v-34.4c46.2-13.8 80-56.7 80-107.3 0-61.8-50.2-112-112-112zM224 212a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm336 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm192-552a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"fork",theme:"outlined"},we=function(r,e){return f.createElement(U,Z({},r,{ref:e,icon:Se}))},Ie=f.forwardRef(we),Ee=function(r,e){return f.createElement(U,Z({},r,{ref:e,icon:Oe}))},Be=f.forwardRef(Ee),je=function(r,e){return f.createElement(U,Z({},r,{ref:e,icon:zt}))},Re=f.forwardRef(je);function Pe(){const{query:{isDirty:t,isSaving:r,save:e,stats:o,...n},randomGroups:{cardIds:a,cards:p,onSelect:g,selection:u,relate:m,nextSet:c,deselectAll:i,cycles:C},showIds:$,cardSize:d}=dt(),h=f.useRef(null),[I,{width:v}]=Ft(),[j,F]=f.useMemo(()=>{const b=Math.floor(v/d)+1,E=Math.floor(v/b);return[b,E]},[d,v]),N=()=>{var b;c(),(b=h.current)==null||b.scrollIntoView({behavior:"smooth"})};return s.jsx(Ht,{isLoading:n.isLoading,error:n.error,hasResponseData:!W.isEmpty(n.data),children:s.jsx("div",{ref:I,className:"my-6",children:s.jsxs(Wt,{title:"Card Relationship Matching",extra:s.jsxs(lt,{title:"Total cycles",children:[s.jsx(_t,{})," ",C]}),className:"image-card-categorizer-card",ref:h,children:[s.jsx(Nt.PreviewGroup,{children:s.jsx("div",{className:"image-cards-group",style:{gridTemplateColumns:`repeat(${Math.max(j,1)}, 1fr)`},children:a.map((b,E)=>{const R=u.includes(b),x=p[E];return s.jsx("div",{className:"image-card-card__image",children:s.jsxs(Dt,{onClick:()=>g(b),active:R,className:"image-cards-group__button",activeClass:"image-cards-group__button--active",children:[s.jsx(Vt,{id:b,width:F-24,preview:!1}),s.jsxs("div",{children:[$&&s.jsx(Gt,{children:b}),s.jsx(At,{card:x})]})]})},b)})})}),s.jsx(Te,{isSaving:r,isDirty:t,selection:u,relate:m,deselectAll:i,onNextSet:N})]})})})}const Te=({isSaving:t,isDirty:r,selection:e,relate:o,deselectAll:n,onNextSet:a})=>{if(t)return s.jsx(s.Fragment,{children:s.jsx(O,{icon:s.jsx(Re,{})})});const p=()=>{e.length<2||o()};return s.jsxs(s.Fragment,{children:[r&&s.jsx(O,{icon:s.jsx(te,{}),type:"primary",style:{right:234}}),s.jsx(O,{icon:s.jsx(Ie,{}),style:{right:164},onClick:n}),s.jsx(O,{icon:s.jsx(Be,{}),style:{right:94},type:e.length<2?"default":"primary",badge:{count:e.length,size:"small"},onClick:p}),s.jsx(O,{icon:s.jsx(ee,{}),style:{right:24},onClick:a})]})};function ze(){const{query:{isDirty:t,isSaving:r,save:e,data:o,isLoading:n,isError:a},randomGroups:{filters:p},showIds:g,setShowIds:u,tagThreshold:m,setTagThreshold:c,sampleSize:i,setSampleSize:C,cardSize:$,setCardSize:d}=dt();return s.jsxs(kt,{children:[s.jsx(A,{children:s.jsxs(se,{vertical:!0,gap:6,children:[s.jsx(ne,{isDirty:t,dirt:JSON.stringify(o),onSave:()=>e({}),isSaving:r}),s.jsx(Qt,{data:o,fileName:"imageCardsRelationships.json",loading:r,disabled:W.isEmpty(o),block:!0})]})}),s.jsx(oe,{isLoading:n||r,isDirty:t,isError:a,hasResponseData:!W.isEmpty(o)}),s.jsxs(A,{children:[s.jsx(tt,{label:"Use Cycles",value:p.useCycles,onChange:()=>p.toggleUseCycles()}),s.jsx(tt,{label:"Show Ids",value:g,onChange:h=>u(h)}),s.jsx(V,{onChange:h=>c(h),value:m,options:re,label:"Tag Count"}),s.jsx(V,{onChange:h=>C(h),value:i,options:ae,label:"Sample Size"}),s.jsx(V,{onChange:h=>d(h),value:$,options:ie,label:"Card Size"})]}),s.jsx(A,{children:s.jsx(Lt,{})})]})}function vo(){return s.jsx(Mt,{title:"Image Cards",subtitle:"Relationships",children:s.jsx(qt,{children:s.jsxs(Y,{hasSider:!0,children:[s.jsx(ze,{}),s.jsx(Y.Content,{className:"content",children:s.jsx(Pe,{})})]})})})}export{vo as default};
