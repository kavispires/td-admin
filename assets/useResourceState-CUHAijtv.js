import{b as o,r as x,j as s,B as j}from"./index-CjsC1TtZ.js";import{S as y}from"./SiderContent-rVr-yxwV.js";import{u as p}from"./useQueryParams-BFUsLlWt.js";import{L as N,D as g}from"./constants-Bda6tdl2.js";import{S as c}from"./index-D0oCB7_Z.js";import{a as R,u as f}from"./useBaseUrl-glcS4O2w.js";function q({resourceNames:i}){const{queryParams:r,addParam:t}=p(),[a]=o.useForm(),[n,u]=x.useState(r.get("resourceName")??""),l=e=>{const m=g.includes(e.resourceName);t("language",m?null:e.language),t("resourceName",e.resourceName)};return s.jsx(y,{children:s.jsxs(o,{form:a,initialValues:{resourceName:r.get("resourceName")??"",language:r.get("language")??""},layout:"vertical",onFinish:l,size:"small",children:[s.jsx(o.Item,{label:"Resource",name:"resourceName",children:s.jsx(c,{onChange:e=>u(e),style:{minWidth:"150px"},value:r.get("resourceName"),children:i.map(e=>s.jsx(c.Option,{value:e,children:e},e))})}),s.jsx(o.Item,{label:"Language",name:"language",children:s.jsx(c,{disabled:g.includes(n),style:{minWidth:"150px"},children:N.map(e=>s.jsx(c.Option,{value:e,children:e},e))})}),s.jsx(o.Item,{children:s.jsx(j,{htmlType:"submit",type:"primary",children:"Load"})})]})})}function B(i){const{queryParams:r}=p(),{getUrl:t}=R("resources"),a=r.get("resourceName")??"",n=r.get("language"),u=!!a&&i.includes(a),{data:l,isLoading:e,error:m}=f({queryKey:["resource",a,n],queryFn:async()=>{const h=n&&!g.includes(a)?t(`${a}-${n}.json`):t(`${a}.json`),d=await fetch(h);return d.body?await d.json():{}},enabled:u});return{resourceName:a,language:n||null,response:l,isLoading:e,enabled:u,error:m,hasResponseData:!!l}}export{q as R,B as u};
