import{r as d,j as e,P as C,L,b as f,T}from"./index-mWcf2fc_.js";import{R as A}from"./ResponseState-DTMRagla.js";import{S as x}from"./SectionTitle-MkUYD9uQ.js";import{P as W}from"./useBaseUrl-DcNJoEb8.js";import{u as P}from"./useQueryParams-cQLnkLdX.js";import{D as _}from"./DataLoadingWrapper-DRzoFG25.js";import{u as $,R as k}from"./useResourceState-_T5hZh1j.js";import{S as G}from"./SearchDuplicates-FGmRKeMP.js";import{s as g,f as H}from"./index-Cz1jxdGG.js";import{R as h,a as J}from"./constants-DGg18yZB.js";import"./SiderContent-DcHSICAV.js";import"./index-Bd7aeLAG.js";import"./LanguageToggle-DlaDj5ei.js";import"./LanguageFlag-Bwfc1xIP.js";import"./index-BH8BS_Tq.js";import"./index-B40C8VT1.js";import"./clsx-B-dksMZM.js";import"./Item-B4JK6CMA.js";const{Text:F}=T;function ce(){P({resourceName:h.SINGLE_WORDS,language:"pt"});const[i,c]=d.useState({}),[l,a]=d.useState({}),[n,j]=d.useState({}),O="text",{language:o,isLoading:R,error:D,hasResponseData:E,response:r}=$([h.SINGLE_WORDS]);d.useEffect(()=>{if(r){const u={},p={},m=Object.values(r).filter(s=>{const t=g(s.text).toLowerCase();return u[t]?(p[s.id]=s.text,!1):(u[t]=!0,!0)}).map((s,t)=>({...s,id:`sw-${t+1}-${o}`})).reduce((s,t)=>(s[t.id]=t,s),{});j(m),a(p),c(m)}},[r,o]);const b=u=>{const{value:p}=u.target,m=p.split(`
`),s=Object.values(n),t=Number(s[s.length-1].id.split("-")[1])||1,w=m.reduce((N,S,v)=>{const I=M(S,r,O);if(S&&!I){const y=`sw-${t+v+1}-${o}`;N[y]={id:y,text:S.toLowerCase()}}return N},{...n});c(w)};return e.jsx(C,{subtitle:o?`${o}`:"",title:"Single Word Expander",children:e.jsxs(L,{hasSider:!0,children:[e.jsxs(W,{children:[e.jsx(A,{error:D,hasResponseData:E,isLoading:R}),e.jsx(k,{resourceNames:[h.SINGLE_WORDS]})]}),e.jsx(L.Content,{className:"content",children:e.jsx(_,{error:D,hasResponseData:E,isLoading:R,children:e.jsxs("div",{className:"parser-container",children:[e.jsxs("div",{className:"parser-main",children:[e.jsx(x,{children:"Input New Data"}),e.jsx(f.TextArea,{cols:15,id:"",name:"input",onChange:b,rows:5}),e.jsxs(x,{children:["Output (",Object.keys(i).length,")"]}),e.jsx(f.TextArea,{cols:15,id:"",name:"output",readOnly:!0,rows:13,value:JSON.stringify(i,null,4)}),e.jsxs(x,{children:["Duplicates (",Object.keys(l).length,")"]}),e.jsx(f.TextArea,{cols:15,id:"",name:"duplicates",readOnly:!0,rows:3,value:JSON.stringify(l,null,4)})]}),e.jsxs("aside",{className:"parser-controls",children:[e.jsx(x,{children:"Database"}),e.jsxs(F,{children:[Object.keys(r??{}).length," entries / ",Object.keys(n??{}).length]}),e.jsx(G,{property:O,response:r})]})]})})})]})})}const M=(i,c,l)=>{const a=g(i.trim().toLowerCase());if(a.length>J){const n=H(a,c,l);return Object.values(n).some(j=>g(j)===a)}return!1};export{ce as default};
