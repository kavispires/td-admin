import{bP as C,j as s,L as j,B as h,I as D,F as l,r as y,T as E,b as S,D as R,P as W}from"./index-DyjSH4OM.js";import{D as w}from"./DataLoadingWrapper-B0oxzPVc.js";import{F as B}from"./FullScreenModal-Cvc3sB7K.js";import{u as N}from"./useCardWidth-DltP3-oI.js";import{u as T}from"./useLoadWordLibrary-DWLZWDCi.js";import{u as P}from"./useQueryParams-Buak0vV0.js";import{l as c,P as F}from"./useBaseUrl-CGDFxb01.js";import{I as v}from"./ImageCard-C5pbT96q.js";import{u as O,a as A}from"./hooks-BbuNfvG7.js";import{R as L}from"./RelationshipCountTag-DNVm_1Fz.js";import{u as z}from"./useWindowSize-B2ZnQD_a.js";import{T as b}from"./index-CQYidkL6.js";import{a as G}from"./FilterEntries-D3ZPyz_c.js";import{R as M}from"./ResponseState-DtpIRt2O.js";import{D as q}from"./DownloadButton-Bk4uNNwt.js";import{S as J}from"./SaveButton-DSm6bsIT.js";import{S as I}from"./SiderContent--jQ49XzE.js";import"./index-DEY7cLY0.js";import"./index-BblfdFop.js";import"./PlusOutlined-DXJb8t4Z.js";import"./Dropdown-CQ0KOtK0.js";import"./useMutation-B98nW9qs.js";import"./index-CIvxw8l3.js";import"./constants-B1K3jPng.js";import"./Item-jt1Ui6d6.js";import"./index-BxFHkOJs.js";import"./useId-C3rCDJeT.js";import"./index-DpYZgC1U.js";import"./index-DQRiDBAE.js";import"./index-BSyNjB5B.js";import"./index-D9N9BiJs.js";import"./moment-B-YVwB4U.js";import"./SaveOutlined-C-TjSIG9.js";function $({query:r}){const{width:t}=z(),[o]=N(1,{minWidth:t/3}),{data:n,setDirty:m}=r,{cardAId:d,cardA:p,cardBId:a,cardB:e,relate:i,unrelate:f}=O(n,m),{addParam:g,is:k}=P(),x=k("open");return C("1",()=>{x&&f()}),C("2",()=>{x&&i()}),s.jsxs(j.Content,{className:"dev-content py-4",children:[s.jsx(h,{block:!0,onClick:()=>g("open","true"),children:"Open Modal"}),s.jsx(K,{}),s.jsx(B,{actions:[s.jsx(h,{block:!0,onClick:f,size:"large",children:"Unrelated"},"1"),s.jsx(h,{block:!0,onClick:i,size:"large",type:"primary",children:"Related"},"2")],onClose:()=>g("open","false"),open:x,title:`Card A: ${d} vs Card B: ${a}`,children:s.jsx(D.PreviewGroup,{children:s.jsxs(l,{className:"center",justify:"center",wrap:"wrap",children:[s.jsxs(l,{vertical:!0,children:[s.jsx(v,{cardId:d,cardWidth:o}),s.jsxs(l,{children:[s.jsx(L,{card:p}),s.jsx(b,{children:d})]})]}),s.jsxs(l,{vertical:!0,children:[s.jsx(v,{cardId:a,cardWidth:o}),s.jsxs(l,{children:[s.jsx(L,{card:e}),s.jsx(b,{children:a})]})]})]})})})]})}const u={};function K(){const{data:r,isLoading:t}=T(3,"pt",!0),[o,n]=y.useState(""),[m,d]=y.useState([]),p=()=>{!c.isEmpty(r)&&c.isEmpty(u)&&r.forEach(e=>{e.split("").forEach(i=>{u[i.toLowerCase()]?u[i.toLowerCase()].push(e):u[i.toLowerCase()]=[e]})});const a=o.split("").map(e=>c.sample(u[e.toLowerCase()])).filter(Boolean);d(a)};return s.jsxs(s.Fragment,{children:[s.jsx(E.Title,{className:"center",level:3,children:"Passcode Words"}),s.jsxs(l,{children:[s.jsx(S,{onChange:a=>n(a.target.value)}),s.jsx(h,{disabled:t||o.length===0,onClick:p,children:"Get"})]}),s.jsx(S.TextArea,{className:"mt-4",value:JSON.stringify(m)})]})}function Q({query:r}){const{data:t,isDirty:o,isSaving:n,save:m,isLoading:d,isError:p}=r,{queryParams:a,addParam:e}=P();return s.jsxs(F,{children:[s.jsx(I,{children:s.jsxs(l,{gap:6,vertical:!0,children:[s.jsx(J,{dirt:JSON.stringify(t),isDirty:o,isSaving:n,onSave:()=>m({})}),s.jsx(q,{block:!0,data:t,disabled:c.isEmpty(t),fileName:"imageCardsRelationships.json",loading:n})]})}),s.jsx(M,{hasResponseData:!c.isEmpty(t),isDirty:o,isError:p,isLoading:d||n}),s.jsxs(I,{children:[s.jsx(h,{block:!0,onClick:()=>e("open","true"),children:"Open Modal"}),s.jsx(R,{}),s.jsx(G,{label:"Cycle Threshold",minWidth:20,onChange:i=>e("cycle",i),options:[1,3,5,10],value:a.get("cycle")||3})]})]})}function Ps(){const r=A();return s.jsx(W,{subtitle:"Comparator",title:"Image Cards",children:s.jsx(w,{error:r.error,hasResponseData:!c.isEmpty(r.data),isLoading:r.isLoading,children:s.jsxs(j,{hasSider:!0,children:[s.jsx(Q,{query:r}),s.jsx(j.Content,{className:"content",children:s.jsx($,{query:r})})]})})})}export{Ps as default};
