import{R as l,r as g,c as T,K as z,d as w,p as L,g as Ct,m as St,q as Ot,e as nt,C as X,s as rt,t as at,v as wt,w as it,x as st,y as It,f as Bt,z as Et,A as jt,E as Rt,a as U,_ as Z,j as s,I as Pt,o as zt,F as Tt,P as Nt,L as Y}from"./index-DVQc80aL.js";import{u as lt,R as Mt,I as _t}from"./RelationshipsStats-o1YN1ysz.js";import{T as Ft}from"./TransparentButton-CP7qP1Ep.js";import{I as qt}from"./IdTag-DKAYdHSn.js";import{D as Lt}from"./DataLoadingWrapper-DrZAP9Hg.js";import{l as W}from"./lodash-Cne9hxq2.js";import{I as Dt}from"./ImageCard-CBpWbRjy.js";import{R as Gt}from"./RelationshipCountTag-HdhmLkOY.js";import{u as Ht}from"./useMeasure-BRBqEneU.js";import{C as kt}from"./index-5TY1n3-z.js";import{R as Vt}from"./VerticalAlignTopOutlined-DgfQfEt7.js";import{g as At,s as Wt}from"./scrollTo-CdYmWB4Y.js";import{t as Xt}from"./throttleByAnimationFrame-BAuD3OFO.js";import{B as Ut,D as Zt}from"./DownloadButton-_GflqSws.js";import{R as ct}from"./FileTextOutlined-ByMCoY68.js";import{R as Kt}from"./Item-dNxgMdgm.js";import{c as tt,a as V}from"./FilterEntries-BSVgz3Ob.js";import{R as Jt}from"./ResponseState-D2molCcQ.js";import{S as Qt}from"./SaveButton-8a4Lw99d.js";import{P as Yt}from"./useBaseUrl-BLmwdZA9.js";import{S as A}from"./SiderContent-DGYX1Rj7.js";import{T as te,c as ee,C as oe}from"./constants-BdgM9j1Q.js";import{F as ne}from"./index-qapmTdyC.js";import"./hooks-BENw9dVL.js";import"./index-BnFUJhch.js";import"./useMutation-D2a3OoZT.js";import"./useQueryParams-cZbALjai.js";import"./index-ZSSHW14X.js";import"./useCopyToClipboardFunction-CkdXVpCi.js";import"./index-CmvC0eiL.js";import"./util-CeAI_f06.js";import"./index-DAdu6QfX.js";import"./PlusOutlined-DyphvtIW.js";import"./index-D5vZVq88.js";import"./index-BQj2rA2_.js";import"./index-CmE3exUg.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-C8rMiad3.js";import"./gapSize-U1swVQyS.js";const K=l.createContext(void 0),{Provider:re}=K,ae=t=>{const{icon:r,description:e,prefixCls:o,className:n}=t,a=l.createElement("div",{className:`${o}-icon`},l.createElement(ct,null));return l.createElement("div",{onClick:t.onClick,onFocus:t.onFocus,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,className:T(n,`${o}-content`)},r||e?l.createElement(l.Fragment,null,r&&l.createElement("div",{className:`${o}-icon`},r),e&&l.createElement("div",{className:`${o}-description`},e)):a)},ie=g.memo(ae),et=t=>t===0?0:t-Math.sqrt(Math.pow(t,2)/2),se=t=>{const{componentCls:r,floatButtonSize:e,motionDurationSlow:o,motionEaseInOutCirc:n,calc:a}=t,p=new z("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${w(e)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),f=new z("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${w(e)}, 0)`,transformOrigin:"0 0",opacity:0}}),u=new z("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${a(e).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),m=new z("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${a(e).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),c=new z("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${a(e).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),i=new z("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${a(e).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0}}),C=new z("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${w(e)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),$=new z("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${w(e)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),d=`${r}-group`;return[{[d]:{[`&${d}-top ${d}-wrap`]:L(`${d}-wrap`,p,f,o,!0),[`&${d}-bottom ${d}-wrap`]:L(`${d}-wrap`,c,i,o,!0),[`&${d}-left ${d}-wrap`]:L(`${d}-wrap`,C,$,o,!0),[`&${d}-right ${d}-wrap`]:L(`${d}-wrap`,u,m,o,!0)}},{[`${d}-wrap`]:{[`&${d}-wrap-enter, &${d}-wrap-appear`]:{opacity:0,animationTimingFunction:n},[`&${d}-wrap-leave`]:{opacity:1,animationTimingFunction:n}}}]},le=t=>{const{antCls:r,componentCls:e,floatButtonSize:o,margin:n,borderRadiusLG:a,borderRadiusSM:p,badgeOffset:f,floatButtonBodyPadding:u,zIndexPopupBase:m,calc:c}=t,i=`${e}-group`;return{[i]:Object.assign(Object.assign({},nt(t)),{zIndex:m,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:o,minHeight:o,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,borderRadius:a,[`${i}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${i}-rtl`]:{direction:"rtl"},[e]:{position:"static"}}),[`${i}-top > ${i}-wrap`]:{flexDirection:"column",top:"auto",bottom:c(o).add(n).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:n,bottom:c(n).mul(-1).equal()}},[`${i}-bottom > ${i}-wrap`]:{flexDirection:"column",top:c(o).add(n).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:n,top:c(n).mul(-1).equal()}},[`${i}-right > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:c(o).add(n).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:n,height:"100%",left:{_skip_check_:!0,value:c(n).mul(-1).equal()}}},[`${i}-left > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:c(o).add(n).equal()},"&::after":{content:'""',position:"absolute",width:n,height:"100%",right:{_skip_check_:!0,value:c(n).mul(-1).equal()}}},[`${i}-circle`]:{gap:n,[`${i}-wrap`]:{gap:n}},[`${i}-square`]:{[`${e}-square`]:{padding:0,borderRadius:0,[`&${i}-trigger`]:{borderRadius:a},"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${r}-badge`]:{[`${r}-badge-count`]:{top:c(c(u).add(f)).mul(-1).equal(),insetInlineEnd:c(c(u).add(f)).mul(-1).equal()}}},[`${i}-wrap`]:{borderRadius:a,boxShadow:t.boxShadowSecondary,[`${e}-square`]:{boxShadow:"none",borderRadius:0,padding:u,[`${e}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:p}}}},[`${i}-top > ${i}-wrap, ${i}-bottom > ${i}-wrap`]:{[`> ${e}-square`]:{"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-left > ${i}-wrap, ${i}-right > ${i}-wrap`]:{[`> ${e}-square`]:{"&:first-child":{borderStartStartRadius:a,borderEndStartRadius:a},"&:last-child":{borderStartEndRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderInlineEnd:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-circle-shadow`]:{boxShadow:"none"},[`${i}-square-shadow`]:{boxShadow:t.boxShadowSecondary,[`${e}-square`]:{boxShadow:"none",padding:u,[`${e}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:p}}}}},ce=t=>{const{antCls:r,componentCls:e,floatButtonBodyPadding:o,floatButtonIconSize:n,floatButtonSize:a,borderRadiusLG:p,badgeOffset:f,dotOffsetInSquare:u,dotOffsetInCircle:m,zIndexPopupBase:c,calc:i}=t;return{[e]:Object.assign(Object.assign({},nt(t)),{border:"none",position:"fixed",cursor:"pointer",zIndex:c,display:"block",width:a,height:a,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,boxShadow:t.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${r}-badge`]:{width:"100%",height:"100%",[`${r}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:i(f).mul(-1).equal(),insetInlineEnd:i(f).mul(-1).equal()}},[`${e}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${t.motionDurationMid}`,[`${e}-content`]:{overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${w(i(o).div(2).equal())} ${w(o)}`,[`${e}-icon`]:{textAlign:"center",margin:"auto",width:n,fontSize:n,lineHeight:1}}}}),[`${e}-rtl`]:{direction:"rtl"},[`${e}-circle`]:{height:a,borderRadius:"50%",[`${r}-badge`]:{[`${r}-badge-dot`]:{top:m,insetInlineEnd:m}},[`${e}-body`]:{borderRadius:"50%"}},[`${e}-square`]:{height:"auto",minHeight:a,borderRadius:p,[`${r}-badge`]:{[`${r}-badge-dot`]:{top:u,insetInlineEnd:u}},[`${e}-body`]:{height:"auto",borderRadius:p}},[`${e}-default`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,[`${e}-body`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorFillContent},[`${e}-content`]:{[`${e}-icon`]:{color:t.colorText},[`${e}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorText,fontSize:t.fontSizeSM}}}},[`${e}-primary`]:{backgroundColor:t.colorPrimary,[`${e}-body`]:{backgroundColor:t.colorPrimary,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorPrimaryHover},[`${e}-content`]:{[`${e}-icon`]:{color:t.colorTextLightSolid},[`${e}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorTextLightSolid,fontSize:t.fontSizeSM}}}}}},de=t=>({dotOffsetInCircle:et(t.controlHeightLG/2),dotOffsetInSquare:et(t.borderRadiusLG)}),dt=Ct("FloatButton",t=>{const{colorTextLightSolid:r,colorBgElevated:e,controlHeightLG:o,marginXXL:n,marginLG:a,fontSize:p,fontSizeIcon:f,controlItemBgHover:u,paddingXXS:m,calc:c}=t,i=St(t,{floatButtonBackgroundColor:e,floatButtonColor:r,floatButtonHoverBackgroundColor:u,floatButtonFontSize:p,floatButtonIconSize:c(f).mul(1.5).equal(),floatButtonSize:o,floatButtonInsetBlockEnd:n,floatButtonInsetInlineEnd:a,floatButtonBodySize:c(o).sub(c(m).mul(2)).equal(),floatButtonBodyPadding:m,badgeOffset:c(m).mul(1.5).equal()});return[le(i),ce(i),Ot(t),se(i)]},de);var ue=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const D="float-btn",me=l.forwardRef((t,r)=>{const{prefixCls:e,className:o,rootClassName:n,style:a,type:p="default",shape:f="circle",icon:u,description:m,tooltip:c,htmlType:i="button",badge:C={}}=t,$=ue(t,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:d,direction:h}=g.useContext(X),I=g.useContext(K),v=d(D,e),j=rt(v),[N,M,b]=dt(v,j),B=I||f,R=T(M,b,j,v,o,n,`${v}-${p}`,`${v}-${B}`,{[`${v}-rtl`]:h==="rtl"}),[y]=at("FloatButton",a==null?void 0:a.zIndex),x=Object.assign(Object.assign({},a),{zIndex:y}),S=wt(C,["title","children","status","text"]),_=g.useMemo(()=>({prefixCls:v,description:m,icon:u,type:p}),[v,m,u,p]);let P=l.createElement("div",{className:`${v}-body`},l.createElement(ie,Object.assign({},_)));return"badge"in t&&(P=l.createElement(Ut,Object.assign({},S),P)),"tooltip"in t&&(P=l.createElement(it,{title:c,placement:h==="rtl"?"right":"left"},P)),N(t.href?l.createElement("a",Object.assign({ref:r},$,{className:R,style:x}),P):l.createElement("button",Object.assign({ref:r},$,{className:R,style:x,type:i}),P))}),O=me;var pe=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const ut=l.forwardRef((t,r)=>{const{prefixCls:e,className:o,type:n="default",shape:a="circle",visibilityHeight:p=400,icon:f=l.createElement(Vt,null),target:u,onClick:m,duration:c=450}=t,i=pe(t,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[C,$]=g.useState(p===0),d=l.useRef(null);l.useImperativeHandle(r,()=>({nativeElement:d.current}));const h=()=>{var y;return((y=d.current)===null||y===void 0?void 0:y.ownerDocument)||window},I=Xt(y=>{const x=At(y.target);$(x>=p)});g.useEffect(()=>{const x=(u||h)();return I({target:x}),x==null||x.addEventListener("scroll",I),()=>{I.cancel(),x==null||x.removeEventListener("scroll",I)}},[u]);const v=y=>{Wt(0,{getContainer:u||h,duration:c}),m==null||m(y)},{getPrefixCls:j}=g.useContext(X),N=j(D,e),M=j(),B=g.useContext(K)||a,R=Object.assign({prefixCls:N,icon:f,type:n,shape:B},i);return l.createElement(st,{visible:C,motionName:`${M}-fade`},(y,x)=>{let{className:S}=y;return l.createElement(O,Object.assign({ref:It(d,x)},R,{onClick:v,className:T(o,S)}))})});var fe=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const mt=t=>{var r;const{prefixCls:e,className:o,style:n,shape:a="circle",type:p="default",placement:f="top",icon:u=l.createElement(ct,null),closeIcon:m,description:c,trigger:i,children:C,onOpenChange:$,open:d,onClick:h}=t,I=fe(t,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:v,getPrefixCls:j,closeIcon:N}=Bt("floatButtonGroup"),M=(r=m??N)!==null&&r!==void 0?r:l.createElement(Rt,null),b=j(D,e),B=rt(b),[R,y,x]=dt(b,B),S=`${b}-group`,_=i&&["click","hover"].includes(i),P=f&&["top","left","right","bottom"].includes(f),ft=T(S,y,x,B,o,{[`${S}-rtl`]:v==="rtl",[`${S}-${a}`]:a,[`${S}-${a}-shadow`]:!_,[`${S}-${f}`]:_&&P}),[gt]=at("FloatButton",n==null?void 0:n.zIndex),ht=Object.assign(Object.assign({},n),{zIndex:gt}),bt=T(y,`${S}-wrap`),[F,vt]=Et(!1,{value:d}),J=l.useRef(null),Q=i==="hover",G=i==="click",q=jt(E=>{F!==E&&(vt(E),$==null||$(E))}),yt=()=>{Q&&q(!0)},xt=()=>{Q&&q(!1)},$t=E=>{G&&q(!F),h==null||h(E)};return l.useEffect(()=>{if(G){const E=H=>{var k;!((k=J.current)===null||k===void 0)&&k.contains(H.target)||q(!1)};return document.addEventListener("click",E,{capture:!0}),()=>document.removeEventListener("click",E,{capture:!0})}},[G]),R(l.createElement(re,{value:a},l.createElement("div",{ref:J,className:ft,style:ht,onMouseEnter:yt,onMouseLeave:xt},_?l.createElement(l.Fragment,null,l.createElement(st,{visible:F,motionName:`${S}-wrap`},E=>{let{className:H}=E;return l.createElement("div",{className:T(H,bt)},C)}),l.createElement(O,Object.assign({type:p,icon:F?M:u,description:c,"aria-label":t["aria-label"],className:`${S}-trigger`,onClick:$t},I))):C)))};var pt=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const ot=t=>{var{backTop:r}=t,e=pt(t,["backTop"]);return r?g.createElement(ut,Object.assign({},e,{visibilityHeight:0})):g.createElement(O,Object.assign({},e))},ge=t=>{var{className:r,items:e}=t,o=pt(t,["className","items"]);const{prefixCls:n}=o,{getPrefixCls:a}=g.useContext(X),f=`${a(D,n)}-pure`;return e?g.createElement(mt,Object.assign({className:T(r,f)},o),e.map((u,m)=>g.createElement(ot,Object.assign({key:m},u)))):g.createElement(ot,Object.assign({className:T(r,f)},o))};O.BackTop=ut;O.Group=mt;O._InternalPanelDoNotUseOrYouWillBeFired=ge;var he={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},be=function(r,e){return g.createElement(U,Z({},r,{ref:e,icon:he}))},ve=g.forwardRef(be),ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 100c-61.8 0-112 50.2-112 112 0 47.7 29.9 88.5 72 104.6v27.6L512 601.4 312 344.2v-27.6c42.1-16.1 72-56.9 72-104.6 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 50.6 33.8 93.5 80 107.3v34.4c0 9.7 3.3 19.3 9.3 27L476 672.3v33.6c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-33.6l226.7-291.6c6-7.7 9.3-17.3 9.3-27v-34.4c46.2-13.8 80-56.7 80-107.3 0-61.8-50.2-112-112-112zM224 212a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm336 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm192-552a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"fork",theme:"outlined"},xe=function(r,e){return g.createElement(U,Z({},r,{ref:e,icon:ye}))},$e=g.forwardRef(xe),Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},Se=function(r,e){return g.createElement(U,Z({},r,{ref:e,icon:Ce}))},Oe=g.forwardRef(Se);function we(){const{query:{isDirty:t,isSaving:r,save:e,stats:o,...n},randomGroups:{cardIds:a,cards:p,onSelect:f,selection:u,relate:m,nextSet:c,deselectAll:i,cycles:C},showIds:$,cardSize:d}=lt(),h=g.useRef(null),[I,{width:v}]=Ht(),[j,N]=g.useMemo(()=>{const b=Math.floor(v/d)+1,B=Math.floor(v/b);return[b,B]},[d,v]),M=()=>{var b;c(),(b=h.current)==null||b.scrollIntoView({behavior:"smooth"})};return s.jsx(Lt,{isLoading:n.isLoading,error:n.error,hasResponseData:!W.isEmpty(n.data),children:s.jsx("div",{ref:I,className:"my-6",children:s.jsxs(kt,{title:"Card Relationship Matching",extra:s.jsxs(it,{title:"Total cycles",children:[s.jsx(zt,{})," ",C]}),className:"image-card-categorizer-card",ref:h,children:[s.jsx(Pt.PreviewGroup,{children:s.jsx("div",{className:"image-cards-group",style:{gridTemplateColumns:`repeat(${Math.max(j,1)}, 1fr)`},children:a.map((b,B)=>{const R=u.includes(b),y=p[B];return s.jsx("div",{className:"image-card-card__image",children:s.jsxs(Ft,{onClick:()=>f(b),active:R,className:"image-cards-group__button",activeClass:"image-cards-group__button--active",children:[s.jsx(Dt,{id:b,width:N-24,preview:!1}),s.jsxs("div",{children:[$&&s.jsx(qt,{children:b}),s.jsx(Gt,{card:y})]})]})},b)})})}),s.jsx(Ie,{isSaving:r,isDirty:t,selection:u,relate:m,deselectAll:i,onNextSet:M})]})})})}const Ie=({isSaving:t,isDirty:r,selection:e,relate:o,deselectAll:n,onNextSet:a})=>{if(t)return s.jsx(s.Fragment,{children:s.jsx(O,{icon:s.jsx(Tt,{})})});const p=()=>{e.length<2||o()};return s.jsxs(s.Fragment,{children:[r&&s.jsx(O,{icon:s.jsx(Kt,{}),type:"primary",style:{right:234}}),s.jsx(O,{icon:s.jsx(ve,{}),style:{right:164},onClick:n}),s.jsx(O,{icon:s.jsx($e,{}),style:{right:94},type:e.length<2?"default":"primary",badge:{count:e.length,size:"small"},onClick:p}),s.jsx(O,{icon:s.jsx(Oe,{}),style:{right:24},onClick:a})]})};function Be(){const{query:{isDirty:t,isSaving:r,save:e,data:o,isLoading:n,isError:a},randomGroups:{filters:p},showIds:f,setShowIds:u,tagThreshold:m,setTagThreshold:c,sampleSize:i,setSampleSize:C,cardSize:$,setCardSize:d}=lt();return s.jsxs(Yt,{children:[s.jsx(A,{children:s.jsxs(ne,{vertical:!0,gap:6,children:[s.jsx(Qt,{isDirty:t,dirt:JSON.stringify(o),onSave:()=>e({}),isSaving:r}),s.jsx(Zt,{data:o,fileName:"imageCardsRelationships.json",loading:r,disabled:W.isEmpty(o),block:!0})]})}),s.jsx(Jt,{isLoading:n||r,isDirty:t,isError:a,hasResponseData:!W.isEmpty(o)}),s.jsxs(A,{children:[s.jsx(tt,{label:"Use Cycles",value:p.useCycles,onChange:()=>p.toggleUseCycles()}),s.jsx(tt,{label:"Show Ids",value:f,onChange:h=>u(h)}),s.jsx(V,{onChange:h=>c(h),value:m,options:te,label:"Tag Count"}),s.jsx(V,{onChange:h=>C(h),value:i,options:ee,label:"Sample Size"}),s.jsx(V,{onChange:h=>d(h),value:$,options:oe,label:"Card Size"})]}),s.jsx(A,{children:s.jsx(Mt,{})})]})}function fo(){return s.jsx(Nt,{title:"Image Cards",subtitle:"Relationships",children:s.jsx(_t,{children:s.jsxs(Y,{hasSider:!0,children:[s.jsx(Be,{}),s.jsx(Y.Content,{className:"content",children:s.jsx(we,{})})]})})})}export{fo as default};
