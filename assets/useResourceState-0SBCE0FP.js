import{r as x,j as s,B as j}from"./index-3wVxZuaG.js";import{S as y}from"./SiderContent-UJPs99j4.js";import{u as p}from"./useQueryParams-DWwQ1WxE.js";import{L as N,D as g}from"./constants-DbfgZwql.js";import{F as o}from"./index-DoxZLNvv.js";import{S as c}from"./index-CDwmVdPk.js";import{u as f,a as R}from"./useBaseUrl-DC_5F-uw.js";function B({resourceNames:i}){const{queryParams:a,addParam:t}=p(),[r]=o.useForm(),[n,u]=x.useState(a.get("resourceName")??""),l=e=>{const m=g.includes(e.resourceName);t("language",m?null:e.language),t("resourceName",e.resourceName)};return s.jsx(y,{children:s.jsxs(o,{layout:"vertical",onFinish:l,size:"small",form:r,initialValues:{resourceName:a.get("resourceName")??"",language:a.get("language")??""},children:[s.jsx(o.Item,{label:"Resource",name:"resourceName",children:s.jsx(c,{style:{minWidth:"150px"},value:a.get("resourceName"),onChange:e=>u(e),children:i.map(e=>s.jsx(c.Option,{value:e,children:e},e))})}),s.jsx(o.Item,{label:"Language",name:"language",children:s.jsx(c,{style:{minWidth:"150px"},disabled:g.includes(n),children:N.map(e=>s.jsx(c.Option,{value:e,children:e},e))})}),s.jsx(o.Item,{children:s.jsx(j,{type:"primary",htmlType:"submit",children:"Load"})})]})})}function C(i){const{queryParams:a}=p(),{getUrl:t}=f("resources"),r=a.get("resourceName")??"",n=a.get("language"),u=!!r&&i.includes(r),{data:l,isLoading:e,error:m}=R({queryKey:["resource",r,n],queryFn:async()=>{const h=n&&!g.includes(r)?t(`${r}-${n}.json`):t(`${r}.json`),d=await fetch(h);return d.body?await d.json():{}},enabled:u});return{resourceName:r,language:n||null,response:l,isLoading:e,enabled:u,error:m,hasResponseData:!!l}}export{B as R,C as u};
