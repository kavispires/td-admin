import{r as d,j as e,P as C,L,T}from"./index-B3JH01iB.js";import{R as A}from"./ResponseState-AKOfwA3N.js";import{S as x}from"./SectionTitle-BdLj6jlt.js";import{P as W}from"./useBaseUrl-CZWZgKRs.js";import{u as P}from"./useQueryParams-BHv40m-x.js";import{D as _}from"./DataLoadingWrapper-dh3jacIT.js";import{u as $,R as k}from"./useResourceState-Bf51vxal.js";import{S as G}from"./SearchDuplicates-DhJRS3vK.js";import{s as g,f as H}from"./index-D-qWoO__.js";import{R as S,a as J}from"./constants-CzmVoJc0.js";import{I as h}from"./index-DecZ6U45.js";import"./SiderContent-y1ziTlGK.js";import"./index-Dt5YmjhO.js";import"./index-QBggA2J0.js";import"./index-Ulf3nzcb.js";import"./Item-DsGe7FNE.js";import"./Input-DYhQBLMT.js";const{Text:F}=T;function ie(){P({resourceName:S.SINGLE_WORDS,language:"pt"});const[i,c]=d.useState({}),[l,a]=d.useState({}),[n,f]=d.useState({}),O="text",{language:o,isLoading:R,error:D,hasResponseData:E,response:r}=$([S.SINGLE_WORDS]);d.useEffect(()=>{if(r){const u={},p={},m=Object.values(r).filter(s=>{const t=g(s.text).toLowerCase();return u[t]?(p[s.id]=s.text,!1):(u[t]=!0,!0)}).map((s,t)=>({...s,id:`sw-${t+1}-${o}`})).reduce((s,t)=>(s[t.id]=t,s),{});f(m),a(p),c(m)}},[r,o]);const w=u=>{const{value:p}=u.target,m=p.split(`
`),s=Object.values(n),t=Number(s[s.length-1].id.split("-")[1])||1,b=m.reduce((N,j,I)=>{const v=M(j,r,O);if(j&&!v){const y=`sw-${t+I+1}-${o}`;N[y]={id:y,text:j.toLowerCase()}}return N},{...n});c(b)};return e.jsx(C,{subtitle:o?`${o}`:"",title:"Single Word Expander",children:e.jsxs(L,{hasSider:!0,children:[e.jsxs(W,{children:[e.jsx(A,{error:D,hasResponseData:E,isLoading:R}),e.jsx(k,{resourceNames:[S.SINGLE_WORDS]})]}),e.jsx(L.Content,{className:"content",children:e.jsx(_,{error:D,hasResponseData:E,isLoading:R,children:e.jsxs("div",{className:"parser-container",children:[e.jsxs("div",{className:"parser-main",children:[e.jsx(x,{children:"Input New Data"}),e.jsx(h.TextArea,{cols:15,id:"",name:"input",onChange:w,rows:5}),e.jsxs(x,{children:["Output (",Object.keys(i).length,")"]}),e.jsx(h.TextArea,{cols:15,id:"",name:"output",readOnly:!0,rows:13,value:JSON.stringify(i,null,4)}),e.jsxs(x,{children:["Duplicates (",Object.keys(l).length,")"]}),e.jsx(h.TextArea,{cols:15,id:"",name:"duplicates",readOnly:!0,rows:3,value:JSON.stringify(l,null,4)})]}),e.jsxs("aside",{className:"parser-controls",children:[e.jsx(x,{children:"Database"}),e.jsxs(F,{children:[Object.keys(r??{}).length," entries / ",Object.keys(n??{}).length]}),e.jsx(G,{property:O,response:r})]})]})})})]})})}const M=(i,c,l)=>{const a=g(i.trim().toLowerCase());if(a.length>J){const n=H(a,c,l);return Object.values(n).some(f=>g(f)===a)}return!1};export{ie as default};
