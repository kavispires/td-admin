import{r as f,w as nt,x as rt,R as l,f as N,K as z,k as w,y as q,i as Ot,m as wt,z as It,n as at,C as U,A as it,E as st,F as Et,G as lt,J as ct,M as Bt,o as jt,N as Rt,O as Pt,Q as Tt,a as X,_ as Z,U as zt,V as Nt,j as s,I as _t,v as Ft,P as Mt,L as Y}from"./index-3wVxZuaG.js";import{u as dt,R as Lt,I as qt}from"./RelationshipsStats-CQte3enX.js";import{T as Dt}from"./TransparentButton-CzVoMG-d.js";import{I as Gt}from"./IdTag-BqVhW8Zu.js";import{D as kt}from"./DataLoadingWrapper-6fNA41cL.js";import{l as W,P as Ht}from"./useBaseUrl-DC_5F-uw.js";import{I as Vt}from"./ImageCard-Fpz4__Mc.js";import{R as At}from"./RelationshipCountTag-Bfrv9yLM.js";import{C as Wt}from"./index-BtdH0-vb.js";import{V as Ut}from"./VerticalAlignTopOutlined-v_ZPtoJ9.js";import{g as Xt,s as Zt}from"./scrollTo-wWuVwhsq.js";import{t as Jt}from"./throttleByAnimationFrame-ClYwAhVb.js";import{B as Kt,D as Qt}from"./DownloadButton-D3lWDg_Q.js";import{F as Yt}from"./FileTextOutlined-B-I9JRsA.js";import{R as te}from"./Item-4Y7ACGy0.js";import{R as ee}from"./SyncOutlined-DkE3xaAC.js";import{c as tt,a as V}from"./FilterEntries-CMdImjvp.js";import{R as oe}from"./ResponseState-BvTYOhO0.js";import{S as ne}from"./SaveButton-BYRQz9LQ.js";import{S as A}from"./SiderContent-UJPs99j4.js";import{T as re,c as ae,C as ie}from"./constants-DbfgZwql.js";import{F as se}from"./index-Bmxkh82F.js";import"./hooks-CHmluJlm.js";import"./useMutation-CpFGIL82.js";import"./useQueryParams-DWwQ1WxE.js";import"./index-DgIKOhKb.js";import"./index-DoxZLNvv.js";import"./useCopyToClipboardFunction-CoRhsE1Z.js";import"./index-CPJA_5oE.js";import"./index-DrY59eEq.js";import"./PlusOutlined-ByZyTB3m.js";import"./index-CsEJLaiP.js";import"./index-CDwmVdPk.js";import"./index-jla9GFPa.js";import"./moment-C5S46NFB.js";import"./SaveOutlined-BocHQR_4.js";import"./gapSize-U1swVQyS.js";var le=function(r,e){return f.createElement(nt,rt({},r,{ref:e,icon:Ut}))},ce=f.forwardRef(le);const J=l.createContext(void 0),{Provider:de}=J;var ue=function(r,e){return f.createElement(nt,rt({},r,{ref:e,icon:Yt}))},ut=f.forwardRef(ue);const me=t=>{const{icon:r,description:e,prefixCls:o,className:n}=t,a=l.createElement("div",{className:`${o}-icon`},l.createElement(ut,null));return l.createElement("div",{onClick:t.onClick,onFocus:t.onFocus,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,className:N(n,`${o}-content`)},r||e?l.createElement(l.Fragment,null,r&&l.createElement("div",{className:`${o}-icon`},r),e&&l.createElement("div",{className:`${o}-description`},e)):a)},pe=f.memo(me),et=t=>t===0?0:t-Math.sqrt(Math.pow(t,2)/2),fe=t=>{const{componentCls:r,floatButtonSize:e,motionDurationSlow:o,motionEaseInOutCirc:n,calc:a}=t,u=new z("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${w(e)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),g=new z("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${w(e)}, 0)`,transformOrigin:"0 0",opacity:0}}),p=new z("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${a(e).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),m=new z("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${a(e).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),c=new z("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${a(e).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),i=new z("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${a(e).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0}}),C=new z("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${w(e)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),x=new z("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${w(e)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),d=`${r}-group`;return[{[d]:{[`&${d}-top ${d}-wrap`]:q(`${d}-wrap`,u,g,o,!0),[`&${d}-bottom ${d}-wrap`]:q(`${d}-wrap`,c,i,o,!0),[`&${d}-left ${d}-wrap`]:q(`${d}-wrap`,C,x,o,!0),[`&${d}-right ${d}-wrap`]:q(`${d}-wrap`,p,m,o,!0)}},{[`${d}-wrap`]:{[`&${d}-wrap-enter, &${d}-wrap-appear`]:{opacity:0,animationTimingFunction:n},[`&${d}-wrap-leave`]:{opacity:1,animationTimingFunction:n}}}]},ge=t=>{const{antCls:r,componentCls:e,floatButtonSize:o,margin:n,borderRadiusLG:a,borderRadiusSM:u,badgeOffset:g,floatButtonBodyPadding:p,zIndexPopupBase:m,calc:c}=t,i=`${e}-group`;return{[i]:Object.assign(Object.assign({},at(t)),{zIndex:m,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:o,minHeight:o,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,borderRadius:a,[`${i}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${i}-rtl`]:{direction:"rtl"},[e]:{position:"static"}}),[`${i}-top > ${i}-wrap`]:{flexDirection:"column",top:"auto",bottom:c(o).add(n).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:n,bottom:c(n).mul(-1).equal()}},[`${i}-bottom > ${i}-wrap`]:{flexDirection:"column",top:c(o).add(n).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:n,top:c(n).mul(-1).equal()}},[`${i}-right > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:c(o).add(n).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:n,height:"100%",left:{_skip_check_:!0,value:c(n).mul(-1).equal()}}},[`${i}-left > ${i}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:c(o).add(n).equal()},"&::after":{content:'""',position:"absolute",width:n,height:"100%",right:{_skip_check_:!0,value:c(n).mul(-1).equal()}}},[`${i}-circle`]:{gap:n,[`${i}-wrap`]:{gap:n}},[`${i}-square`]:{[`${e}-square`]:{padding:0,borderRadius:0,[`&${i}-trigger`]:{borderRadius:a},"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${r}-badge`]:{[`${r}-badge-count`]:{top:c(c(p).add(g)).mul(-1).equal(),insetInlineEnd:c(c(p).add(g)).mul(-1).equal()}}},[`${i}-wrap`]:{borderRadius:a,boxShadow:t.boxShadowSecondary,[`${e}-square`]:{boxShadow:"none",borderRadius:0,padding:p,[`${e}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:u}}}},[`${i}-top > ${i}-wrap, ${i}-bottom > ${i}-wrap`]:{[`> ${e}-square`]:{"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-left > ${i}-wrap, ${i}-right > ${i}-wrap`]:{[`> ${e}-square`]:{"&:first-child":{borderStartStartRadius:a,borderEndStartRadius:a},"&:last-child":{borderStartEndRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderInlineEnd:`${w(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}},[`${i}-circle-shadow`]:{boxShadow:"none"},[`${i}-square-shadow`]:{boxShadow:t.boxShadowSecondary,[`${e}-square`]:{boxShadow:"none",padding:p,[`${e}-body`]:{width:t.floatButtonBodySize,height:t.floatButtonBodySize,borderRadius:u}}}}},he=t=>{const{antCls:r,componentCls:e,floatButtonBodyPadding:o,floatButtonIconSize:n,floatButtonSize:a,borderRadiusLG:u,badgeOffset:g,dotOffsetInSquare:p,dotOffsetInCircle:m,zIndexPopupBase:c,calc:i}=t;return{[e]:Object.assign(Object.assign({},at(t)),{border:"none",position:"fixed",cursor:"pointer",zIndex:c,display:"block",width:a,height:a,insetInlineEnd:t.floatButtonInsetInlineEnd,bottom:t.floatButtonInsetBlockEnd,boxShadow:t.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${r}-badge`]:{width:"100%",height:"100%",[`${r}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:i(g).mul(-1).equal(),insetInlineEnd:i(g).mul(-1).equal()}},[`${e}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${t.motionDurationMid}`,[`${e}-content`]:{overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${w(i(o).div(2).equal())} ${w(o)}`,[`${e}-icon`]:{textAlign:"center",margin:"auto",width:n,fontSize:n,lineHeight:1}}}}),[`${e}-rtl`]:{direction:"rtl"},[`${e}-circle`]:{height:a,borderRadius:"50%",[`${r}-badge`]:{[`${r}-badge-dot`]:{top:m,insetInlineEnd:m}},[`${e}-body`]:{borderRadius:"50%"}},[`${e}-square`]:{height:"auto",minHeight:a,borderRadius:u,[`${r}-badge`]:{[`${r}-badge-dot`]:{top:p,insetInlineEnd:p}},[`${e}-body`]:{height:"auto",borderRadius:u}},[`${e}-default`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,[`${e}-body`]:{backgroundColor:t.floatButtonBackgroundColor,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorFillContent},[`${e}-content`]:{[`${e}-icon`]:{color:t.colorText},[`${e}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorText,fontSize:t.fontSizeSM}}}},[`${e}-primary`]:{backgroundColor:t.colorPrimary,[`${e}-body`]:{backgroundColor:t.colorPrimary,transition:`background-color ${t.motionDurationMid}`,"&:hover":{backgroundColor:t.colorPrimaryHover},[`${e}-content`]:{[`${e}-icon`]:{color:t.colorTextLightSolid},[`${e}-description`]:{display:"flex",alignItems:"center",lineHeight:w(t.fontSizeLG),color:t.colorTextLightSolid,fontSize:t.fontSizeSM}}}}}},be=t=>({dotOffsetInCircle:et(t.controlHeightLG/2),dotOffsetInSquare:et(t.borderRadiusLG)}),mt=Ot("FloatButton",t=>{const{colorTextLightSolid:r,colorBgElevated:e,controlHeightLG:o,marginXXL:n,marginLG:a,fontSize:u,fontSizeIcon:g,controlItemBgHover:p,paddingXXS:m,calc:c}=t,i=wt(t,{floatButtonBackgroundColor:e,floatButtonColor:r,floatButtonHoverBackgroundColor:p,floatButtonFontSize:u,floatButtonIconSize:c(g).mul(1.5).equal(),floatButtonSize:o,floatButtonInsetBlockEnd:n,floatButtonInsetInlineEnd:a,floatButtonBodySize:c(o).sub(c(m).mul(2)).equal(),floatButtonBodyPadding:m,badgeOffset:c(m).mul(1.5).equal()});return[ge(i),he(i),It(t),fe(i)]},be);var ve=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const D="float-btn",xe=l.forwardRef((t,r)=>{const{prefixCls:e,className:o,rootClassName:n,style:a,type:u="default",shape:g="circle",icon:p,description:m,tooltip:c,htmlType:i="button",badge:C={}}=t,x=ve(t,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:d,direction:h}=f.useContext(U),I=f.useContext(J),y=d(D,e),B=it(y),[b,j,R]=mt(y,B),P=I||g,_=N(j,R,B,y,o,n,`${y}-${u}`,`${y}-${P}`,{[`${y}-rtl`]:h==="rtl"}),[$]=st("FloatButton",a==null?void 0:a.zIndex),v=Object.assign(Object.assign({},a),{zIndex:$}),S=Et(C,["title","children","status","text"]),F=f.useMemo(()=>({prefixCls:y,description:m,icon:p,type:u}),[y,m,p,u]);let T=l.createElement("div",{className:`${y}-body`},l.createElement(pe,Object.assign({},F)));return"badge"in t&&(T=l.createElement(Kt,Object.assign({},S),T)),"tooltip"in t&&(T=l.createElement(lt,{title:c,placement:h==="rtl"?"right":"left"},T)),b(t.href?l.createElement("a",Object.assign({ref:r},x,{className:_,style:v}),T):l.createElement("button",Object.assign({ref:r},x,{className:_,style:v,type:i}),T))}),O=xe;var ye=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const pt=l.forwardRef((t,r)=>{const{prefixCls:e,className:o,type:n="default",shape:a="circle",visibilityHeight:u=400,icon:g=l.createElement(ce,null),target:p,onClick:m,duration:c=450}=t,i=ye(t,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[C,x]=f.useState(u===0),d=l.useRef(null);l.useImperativeHandle(r,()=>({nativeElement:d.current}));const h=()=>{var $;return(($=d.current)===null||$===void 0?void 0:$.ownerDocument)||window},I=Jt($=>{const v=Xt($.target);x(v>=u)});f.useEffect(()=>{const v=(p||h)();return I({target:v}),v==null||v.addEventListener("scroll",I),()=>{I.cancel(),v==null||v.removeEventListener("scroll",I)}},[p]);const y=$=>{Zt(0,{getContainer:p||h,duration:c}),m==null||m($)},{getPrefixCls:B}=f.useContext(U),b=B(D,e),j=B(),P=f.useContext(J)||a,_=Object.assign({prefixCls:b,icon:g,type:n,shape:P},i);return l.createElement(ct,{visible:C,motionName:`${j}-fade`},($,v)=>{let{className:S}=$;return l.createElement(O,Object.assign({ref:Bt(d,v)},_,{onClick:y,className:N(o,S)}))})});var $e=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const ft=t=>{var r;const{prefixCls:e,className:o,style:n,shape:a="circle",type:u="default",placement:g="top",icon:p=l.createElement(ut,null),closeIcon:m,description:c,trigger:i,children:C,onOpenChange:x,open:d,onClick:h}=t,I=$e(t,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:y,getPrefixCls:B,closeIcon:b}=jt("floatButtonGroup"),j=(r=m??b)!==null&&r!==void 0?r:l.createElement(Tt,null),R=B(D,e),P=it(R),[_,$,v]=mt(R,P),S=`${R}-group`,F=i&&["click","hover"].includes(i),T=g&&["top","left","right","bottom"].includes(g),ht=N(S,$,v,P,o,{[`${S}-rtl`]:y==="rtl",[`${S}-${a}`]:a,[`${S}-${a}-shadow`]:!F,[`${S}-${g}`]:F&&T}),[bt]=st("FloatButton",n==null?void 0:n.zIndex),vt=Object.assign(Object.assign({},n),{zIndex:bt}),xt=N($,`${S}-wrap`),[M,yt]=Rt(!1,{value:d}),K=l.useRef(null),Q=i==="hover",G=i==="click",L=Pt(E=>{M!==E&&(yt(E),x==null||x(E))}),$t=()=>{Q&&L(!0)},Ct=()=>{Q&&L(!1)},St=E=>{G&&L(!M),h==null||h(E)};return l.useEffect(()=>{if(G){const E=k=>{var H;!((H=K.current)===null||H===void 0)&&H.contains(k.target)||L(!1)};return document.addEventListener("click",E,{capture:!0}),()=>document.removeEventListener("click",E,{capture:!0})}},[G]),_(l.createElement(de,{value:a},l.createElement("div",{ref:K,className:ht,style:vt,onMouseEnter:$t,onMouseLeave:Ct},F?l.createElement(l.Fragment,null,l.createElement(ct,{visible:M,motionName:`${S}-wrap`},E=>{let{className:k}=E;return l.createElement("div",{className:N(k,xt)},C)}),l.createElement(O,Object.assign({type:u,icon:M?j:p,description:c,"aria-label":t["aria-label"],className:`${S}-trigger`,onClick:St},I))):C)))};var gt=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(e[o[n]]=t[o[n]]);return e};const ot=t=>{var{backTop:r}=t,e=gt(t,["backTop"]);return r?f.createElement(pt,Object.assign({},e,{visibilityHeight:0})):f.createElement(O,Object.assign({},e))},Ce=t=>{var{className:r,items:e}=t,o=gt(t,["className","items"]);const{prefixCls:n}=o,{getPrefixCls:a}=f.useContext(U),g=`${a(D,n)}-pure`;return e?f.createElement(ft,Object.assign({className:N(r,g)},o),e.map((p,m)=>f.createElement(ot,Object.assign({key:m},p)))):f.createElement(ot,Object.assign({className:N(r,g)},o))};O.BackTop=pt;O.Group=ft;O._InternalPanelDoNotUseOrYouWillBeFired=Ce;var Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 100c-61.8 0-112 50.2-112 112 0 47.7 29.9 88.5 72 104.6v27.6L512 601.4 312 344.2v-27.6c42.1-16.1 72-56.9 72-104.6 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 50.6 33.8 93.5 80 107.3v34.4c0 9.7 3.3 19.3 9.3 27L476 672.3v33.6c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-33.6l226.7-291.6c6-7.7 9.3-17.3 9.3-27v-34.4c46.2-13.8 80-56.7 80-107.3 0-61.8-50.2-112-112-112zM224 212a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm336 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm192-552a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"fork",theme:"outlined"},we=function(r,e){return f.createElement(X,Z({},r,{ref:e,icon:Se}))},Ie=f.forwardRef(we),Ee=function(r,e){return f.createElement(X,Z({},r,{ref:e,icon:Oe}))},Be=f.forwardRef(Ee),je=function(r,e){return f.createElement(X,Z({},r,{ref:e,icon:zt}))},Re=f.forwardRef(je);function Pe(){const{query:{isDirty:t,isSaving:r,...e},randomGroups:{cardIds:o,cards:n,onSelect:a,selection:u,relate:g,nextSet:p,deselectAll:m,cycles:c},showIds:i,cardSize:C}=dt(),x=f.useRef(null),[d,{width:h}]=Nt(),[I,y]=f.useMemo(()=>{const b=Math.floor(h/C)+1,j=Math.floor(h/b);return[b,j]},[C,h]),B=()=>{var b;p(),(b=x.current)==null||b.scrollIntoView({behavior:"smooth"})};return s.jsx(kt,{isLoading:e.isLoading,error:e.error,hasResponseData:!W.isEmpty(e.data),children:s.jsx("div",{ref:d,className:"my-6",children:s.jsxs(Wt,{title:"Card Relationship Matching",extra:s.jsxs(lt,{title:"Total cycles",children:[s.jsx(Ft,{})," ",c]}),className:"image-card-categorizer-card",ref:x,children:[s.jsx(_t.PreviewGroup,{children:s.jsx("div",{className:"image-cards-group",style:{gridTemplateColumns:`repeat(${Math.max(I,1)}, 1fr)`},children:o.map((b,j)=>{const R=u.includes(b),P=n[j];return s.jsx("div",{className:"image-card-card__image",children:s.jsxs(Dt,{onClick:()=>a(b),active:R,className:"image-cards-group__button",activeClass:"image-cards-group__button--active",children:[s.jsx(Vt,{id:b,width:y-24,preview:!1}),s.jsxs("div",{children:[i&&s.jsx(Gt,{children:b}),s.jsx(At,{card:P})]})]})},b)})})}),s.jsx(Te,{isSaving:r,isDirty:t,selection:u,relate:g,deselectAll:m,onNextSet:B})]})})})}const Te=({isSaving:t,isDirty:r,selection:e,relate:o,deselectAll:n,onNextSet:a})=>{if(t)return s.jsx(O,{icon:s.jsx(Re,{})});const u=()=>{e.length<2||o()};return s.jsxs(s.Fragment,{children:[r&&s.jsx(O,{icon:s.jsx(te,{}),type:"primary",style:{right:234}}),s.jsx(O,{icon:s.jsx(Ie,{}),style:{right:164},onClick:n}),s.jsx(O,{icon:s.jsx(Be,{}),style:{right:94},type:e.length<2?"default":"primary",badge:{count:e.length,size:"small"},onClick:u}),s.jsx(O,{icon:s.jsx(ee,{}),style:{right:24},onClick:a})]})};function ze(){const{query:{isDirty:t,isSaving:r,save:e,data:o,isLoading:n,isError:a},randomGroups:{filters:u},showIds:g,setShowIds:p,tagThreshold:m,setTagThreshold:c,sampleSize:i,setSampleSize:C,cardSize:x,setCardSize:d}=dt();return s.jsxs(Ht,{children:[s.jsx(A,{children:s.jsxs(se,{vertical:!0,gap:6,children:[s.jsx(ne,{isDirty:t,dirt:JSON.stringify(o),onSave:()=>e({}),isSaving:r}),s.jsx(Qt,{data:o,fileName:"imageCardsRelationships.json",loading:r,disabled:W.isEmpty(o),block:!0})]})}),s.jsx(oe,{isLoading:n||r,isDirty:t,isError:a,hasResponseData:!W.isEmpty(o)}),s.jsxs(A,{children:[s.jsx(tt,{label:"Use Cycles",value:u.useCycles,onChange:()=>u.toggleUseCycles()}),s.jsx(tt,{label:"Show Ids",value:g,onChange:h=>p(h)}),s.jsx(V,{onChange:h=>c(h),value:m,options:re,label:"Tag Count"}),s.jsx(V,{onChange:h=>C(h),value:i,options:ae,label:"Sample Size"}),s.jsx(V,{onChange:h=>d(h),value:x,options:ie,label:"Card Size"})]}),s.jsx(A,{children:s.jsx(Lt,{})})]})}function vo(){return s.jsx(Mt,{title:"Image Cards",subtitle:"Relationships",children:s.jsx(qt,{children:s.jsxs(Y,{hasSider:!0,children:[s.jsx(ze,{}),s.jsx(Y.Content,{className:"content",children:s.jsx(Pe,{})})]})})})}export{vo as default};
