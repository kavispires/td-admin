import{l as P}from"./useBaseUrl-7hhyaw6U.js";const k=(r,m,c,g)=>{const{reliabilityThreshold:l=4,projectionThreshold:p=55}={},i=`us-gb-${r.split("-")[1]}`,t=P.isEmpty(c[r])?[]:c[r],n=t.some(e=>e===32||e===-32);let u=0,a=0,o=0,M=0,s=0;t.forEach(e=>{e===32?u+=35:e===-32?a+=35:e===4?u+=4:e===-4?a+=4:e>0?o+=e:e<0&&(M+=Math.abs(e)),s+=Math.abs(e)});const C=o+M,b=Math.max(s,l),f=s===0?0:Math.round((u+o)/b*100),h=s===0?0:Math.round((a+M)/b*100),d=u+o,A=a+M,S=s===0?100:Math.round((b-d-A)/b*100),j=n||s>=l,D=n||C>l/1.5||s>=4,E=D&&s>l&&Math.abs(f-h)>=40,x=E&&Math.abs(f-h)>40?f>h?"ğŸ‘":"ğŸ‘":null,O=Math.abs(f-h)<50?null:f>=p?"ğŸ‘":h>=p?"ğŸ‘":null;return{suspectCardId:r,imageId:i,questionId:m,enoughData:D,reliable:E,total:s,yesCount:d,yesPercentage:f,noCount:A,noPercentage:h,blankPercentage:S,complete:j,values:t,resolution:x,projection:O}};function F(r){const m=r.map(t=>t===0?-1:t),c=r.filter(t=>t===-32||t===32||t===4||t===-4),g=m.filter(t=>t===-1||t===1),l=m.filter(t=>![-32,32,4,-4,-1,1].includes(t)).flatMap(t=>Array.from({length:Math.abs(t)},()=>t>0?1:-1)),p=[...g,...l].sort((t,n)=>t-n),y={"-1":0,1:0};p.forEach(t=>{(t===-1||t===1)&&(y[t]+=1)});const i=8;for(const[t,n]of Object.entries(y)){const u=Math.floor(n/i),a=n%i;for(let o=0;o<u;o++)c.push(t==="-1"?-i:i);if(a>0){const o=Array.from({length:a},()=>t==="-1"?-1:1);c.push(...o)}}return c.sort((t,n)=>t-n)}export{k as c,F as n};
