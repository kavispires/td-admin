"use strict";(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[3393],{2043:(e,a,t)=>{t.d(a,{Do:()=>p,H:()=>v,tj:()=>g,xh:()=>h,zE:()=>u});var n=t(3070),s=t(906),r=t(9793),o=t(5922),i=t(9862),d=t(4248),c=t(1431),l=t(184);function u(e){let{label:a,value:t,onChange:r,options:o,placeholder:i}=e;return(0,l.jsx)(n.Z.Item,{label:a,children:(0,l.jsxs)(s.Z,{style:{minWidth:"150px"},onChange:r,value:t,children:[i&&(0,l.jsx)(s.Z.Option,{value:"",disabled:!0,children:"placeholder"}),o.map((e=>"object"===typeof e?(0,l.jsx)(s.Z.Option,{value:e.value,children:e.label},"".concat(a,"-").concat(e.value)):(0,l.jsx)(s.Z.Option,{value:e,children:e},"".concat(a,"-").concat(e))))]})})}function h(e){let{label:a,value:t,onChange:s,min:o=0,max:i=100,step:d}=e;return(0,l.jsx)(n.Z.Item,{label:a,children:(0,l.jsx)(r.Z,{min:o,max:i,value:t,onChange:e=>s(null!==e&&void 0!==e?e:i),style:{minWidth:"150px",width:"100%"},step:d})})}function p(e){let{label:a,value:t,onChange:s,className:r,disabled:i}=e;return(0,l.jsx)(n.Z.Item,{label:a,valuePropName:"checked",className:r,children:(0,l.jsx)(o.Z,{checked:t,onChange:s,size:"small",disabled:i})})}function g(e){let{label:a,value:t,onChange:s,disabled:r,className:o}=e;return(0,l.jsx)(n.Z.Item,{label:a,valuePropName:"checked",className:o,children:(0,l.jsx)(i.Z,{checked:t,onChange:e=>s(e.target.checked),disabled:r})})}function v(e){let{value:a,label:t,onChange:s,options:r}=e;return(0,l.jsx)(n.Z.Item,{label:t,layout:r.length>2?"vertical":"horizontal",children:(0,l.jsx)(d.Z,{block:!0,value:a,onChange:s,options:r.map((e=>({label:(0,l.jsx)(c.Z,{arrow:!0,trigger:"hover",title:e.title,children:e.icon}),value:e.value})))})})}},2056:(e,a,t)=>{t.d(a,{m:()=>i});var n=t(1413),s=t(952),r=t(7134),o=t(184);function i(e){const a=(0,r._)();return(0,o.jsx)(s.Z,(0,n.Z)({onClick:()=>{var t,n;return a(null!==(t=null===(n=e.children)||void 0===n?void 0:n.toString())&&void 0!==t?t:"")}},e))}},7340:(e,a,t)=>{t.d(a,{k:()=>g});var n=t(1413),s=t(4925),r=t(9475),o=t(2426),i=t.n(o),d=t(2791),c=t(8211),l=t(4483),u=t(4841),h=t(184);const p=["isDirty","onSave","isSaving","dirt","interval"];function g(e){let{isDirty:a,onSave:t,isSaving:o,dirt:g,interval:v=6e5}=e,m=(0,s.Z)(e,p);const{togglePendingSave:x}=(0,u.b)(),[,j,f]=(0,c.Z)((()=>{a&&t()}),v);return(0,d.useEffect)((()=>{a?(x(!0),console.log("Save Reset",i()(Date.now()).format("MM/DD/YYYY HH:mm:ss")),f()):(x(!1),j())}),[a,f,j,g]),(0,d.useEffect)((()=>{const e=e=>{if(a){const a="You have unsaved changes, are you sure you want to leave?";return e.returnValue=a,a}};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[a]),(0,h.jsx)(r.ZP,(0,n.Z)((0,n.Z)({type:"primary",size:"large",icon:(0,h.jsx)(l.Z,{}),onClick:t,disabled:!a,loading:o,danger:!0,block:!0},m),{},{children:"Save"}))}},8866:(e,a,t)=>{t.d(a,{N:()=>d});var n=t(1413),s=t(4925),r=t(6178),o=t(184);const i=["children","level"];function d(e){let{children:a,level:t}=e,d=(0,s.Z)(e,i);return(0,o.jsx)(r.Z.Title,(0,n.Z)((0,n.Z)({level:null!==t&&void 0!==t?t:3},d),{},{children:a}))}},8357:(e,a,t)=>{t.d(a,{tj:()=>c.tj,xh:()=>c.xh,H:()=>c.H,zE:()=>c.zE,Do:()=>c.Do,Th:()=>g,F6:()=>d});t(8866);var n=t(1413),s=t(4925),r=t(3733),o=t(184);const i=["children","active","activeClass","className","hoverType"],d=e=>{let{children:a,active:t=!1,activeClass:d="",className:c="",hoverType:l="scale"}=e,u=(0,s.Z)(e,i);return(0,o.jsx)("button",(0,n.Z)((0,n.Z)({className:(0,r.Z)("transparent-button","transparent-button--".concat(l),t&&(d||"transparent-button--active"),c)},u),{},{children:a}))};var c=t(2043),l=t(952),u=t(3070),h=t(7965);function p(e){let{isLoading:a,isIdle:t,error:n,isDirty:s,isError:r,hasResponseData:i}=e;return t?(0,o.jsx)(l.Z,{children:"No Data yet"}):a?(0,o.jsx)(l.Z,{color:"blue",children:"Loading..."}):n||r?(0,o.jsx)(l.Z,{color:"red",children:"Error"}):s?(0,o.jsx)(l.Z,{color:"orange",children:"Modified"}):i?(0,o.jsx)(l.Z,{color:"green",children:"Loaded"}):(0,o.jsx)(l.Z,{children:"No Data"})}function g(e){return(0,o.jsx)(h.Pd,{children:(0,o.jsx)(u.Z.Item,{label:"Status",children:(0,o.jsx)(p,(0,n.Z)({},e))})})}},145:(e,a,t)=>{t.d(a,{f:()=>i});var n=t(2402),s=t(3733),r=t(2606),o=t(184);const i=e=>{let{id:a,width:t=200,className:i="",preview:d=!0,fileExtension:c="jpg"}=e;const{getUrl:l}=(0,r.n)("images"),u=a.replace(/-/g,"/");return(0,o.jsx)("div",{className:(0,s.Z)("image-card",i),children:(0,o.jsx)(n.Z,{width:t,src:l("".concat(u,".").concat(c)),fallback:l("back/default.jpg"),preview:d})})}},359:(e,a,t)=>{t.d(a,{p:()=>o});var n=t(1413),s=t(5529),r=t(763);function o(){var e;const a=(0,s.N)("images-decks"),t=null!==(e=a.data)&&void 0!==e?e:{},o=()=>{if((0,r.isEmpty)(t))return"td-d0-00";const e=(0,r.sample)(Object.keys(t));if(!e)return"td-d0-00";const a=(0,r.random)(1,t[e]);return"".concat(e,"-").concat(a.toString().padStart(2,"0"))};return(0,n.Z)((0,n.Z)({},a),{},{decks:t,decksList:Object.keys(t),onRandomCard:o,onRandomUniqueCard:e=>{let a=0;for(;a<30;){const t=o();if(!e.includes(t))return t;a++}if(a>30)throw new Error("Could not find a unique card")},onRandomCards:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const a=[];let t=0;for(;Object.keys(a).length<e&&t<30;){const e=o();a.includes(e)?t++:a.push(e)}if(t>30&&a.length<e)throw new Error("Could not find enough unique cards");return a}})}},7134:(e,a,t)=>{t.d(a,{_:()=>i});var n=t(4747),s=t(763),r=t(2791),o=t(3250);function i(){const[e,a]=(0,o.Z)(),{message:t}=n.Z.useApp();return(0,r.useEffect)((()=>{e.value&&(e.value.length>20?t.info("Copied to clipboard: ".concat((0,s.truncate)(e.value,{length:30,omission:"..."}))):t.success("Copied"))}),[e,t]),a}},8027:(e,a,t)=>{t.d(a,{A:()=>d,X:()=>c});var n=t(1413),s=t(9631),r=t(2592),o=t(2010),i=t(5850);function d(e,a){return async()=>{var t;console.log("%cQuerying ".concat(e,"/").concat(a," from firebase: ").concat((0,i.xE)()),"color: #f0f");const n=(0,s.JU)(r.RZ,"".concat(e,"/").concat(a));return null!==(t=(await(0,s.QT)(n)).data())&&void 0!==t?t:{}}}function c(e,a,t){return(0,o.a)((0,n.Z)({queryKey:["firebase",e,a],queryFn:d(e,a)},t))}},8938:(e,a,t)=>{t.d(a,{i:()=>h});var n=t(1413),s=t(4747),r=t(763),o=t(2791),i=t(3713),d=t(5850),c=t(8027),l=t(5529),u=t(2233);function h(e){let{tdrResourceName:a,firebaseDataCollectionName:t,serialize:h}=e;const{notification:p}=s.Z.useApp(),g=(0,i.NL)(),v=(0,l.N)(a),m=(0,c.X)("tdr",t,{select:h?d.d_:void 0}),[x,j]=(0,o.useState)({}),f=(0,u.B)("tdr",t,{onSuccess:()=>{p.success({message:"".concat(t," updated")}),g.refetchQueries({queryKey:["firebase","tdr",t]}),j({})},onError:e=>{p.error({message:"".concat(t," update failed"),description:e.message})}}),Z=(0,o.useMemo)((()=>{var e,s;return v.isSuccess&&m.isSuccess&&!f.isPending?(console.log("%cMerging ".concat(a,"+").concat(t," data..."),"color: #f0f"),(0,r.cloneDeep)((0,n.Z)((0,n.Z)((0,n.Z)({},null!==(e=v.data)&&void 0!==e?e:{}),null!==(s=m.data)&&void 0!==s?s:{}),x))):{}}),[a,t,v.data,m.data,v.isSuccess,m.isSuccess,f.isPending,x]),y=!(0,r.isEmpty)(x),C=m.data;return{data:Z,isLoading:v.isLoading||m.isLoading,error:v.error||m.error,firebaseData:C,isSaving:f.isPending,save:()=>{f.mutate(h?(0,d.aS)(x):x)},addEntryToUpdate:(e,a)=>{j((t=>(0,n.Z)((0,n.Z)({},t),{},{[e]:a})))},entriesToUpdate:x,isDirty:y}}},5529:(e,a,t)=>{t.d(a,{N:()=>i,Y:()=>d});var n=t(1413),s=t(763),r=t(2010),o=t(2606);function i(e){var a;let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{getUrl:i}=(0,o.n)("resources"),d=(0,r.a)({queryKey:[e],queryFn:async()=>{const a=await fetch(i("".concat(e,".json")));return await a.json()},enabled:t}),c=!(0,s.isEmpty)(d.data);return(0,n.Z)((0,n.Z)({},d),{},{data:null!==(a=d.data)&&void 0!==a?a:{},hasResponseData:c})}function d(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{getUrl:t}=(0,o.n)("resources"),i=(0,r.a)({queryKey:[e],queryFn:async()=>{const a=await fetch(t("".concat(e,".json")));return await a.json()},enabled:a}),d=!(0,s.isEmpty)(i.data);return(0,n.Z)((0,n.Z)({},i),{},{data:i.data,hasResponseData:d})}},548:(e,a,t)=>{t.d(a,{P:()=>s});var n=t(4766);function s(e){var a,t;let{prefix:s="",defaultCurrent:r=1,defaultPageSize:o=10,pageSizeOptions:i=[10,20,50,100],total:d,showQuickJumper:c}=e;const{queryParams:l,addParam:u}=(0,n.K)();return{current:Number(null!==(a=l.get("".concat(s,"page")))&&void 0!==a?a:String(r)),pageSize:Number(null!==(t=l.get("".concat(s,"pageSize")))&&void 0!==t?t:String(o)),onChange:e=>{u("".concat(s,"page"),e.toString(),String(r))},onShowSizeChange:(e,a)=>{u("".concat(s,"pageSize"),a.toString(),String(o))},defaultCurrent:r,defaultPageSize:o,pageSizeOptions:i,total:d,hideOnSinglePage:!0,showQuickJumper:c}}},2233:(e,a,t)=>{t.d(a,{B:()=>d});var n=t(1413),s=t(9631),r=t(2592),o=t(8556);function i(e,a,t){console.log("%cUpdating ".concat(e,"/").concat(a," from firebase"),"color: #f00");const n=(0,s.JU)(r.RZ,"".concat(e,"/").concat(a));return(0,s.r7)(n,t)}function d(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,o.D)((0,n.Z)({mutationFn:async t=>i(e,a,t)},t))}},9336:(e,a,t)=>{t.r(a),t.d(a,{ImageCardsPasscode:()=>$,default:()=>ee});var n=t(1413),s=t(1790),r=t(2128),o=t(1046),i=t(9475),d=t(4766),c=t(763),l=t(2791),u=t(5625),h=t(906),p=t(4520),g=t(7515),v=t(5),m=t(2056),x=t(548),j=t(5675),f=t(145),Z=t(184);function y(e){let{sets:a,addEntryToUpdate:t,hidePagination:n}=e;const s=(0,x.P)({total:a.length,showQuickJumper:!0}),r=[{title:"Id",dataIndex:"id",key:"id",sorter:(e,a)=>e.id.localeCompare(a.id)},{title:"Passcode",dataIndex:"passcode",key:"passcode",sorter:(e,a)=>e.passcode[0].localeCompare(a.passcode[0]),render:(e,a)=>(0,Z.jsx)(C,{entry:a,addEntryToUpdate:t})},{title:"Cards",dataIndex:"imageCardsIds",key:"imageCardsIds",render:(e,a)=>(0,Z.jsx)(b,{entry:a,addEntryToUpdate:t})}];return(0,Z.jsx)(u.Z,{columns:r,dataSource:a,className:"my-4",rowKey:"id",pagination:n?void 0:s})}function C(e){let{entry:a,addEntryToUpdate:t}=e;return(0,Z.jsx)(h.Z,{mode:"tags",style:{width:300},placeholder:"Add passcode from easier to harder",defaultValue:a.passcode,onChange:e=>{t(a.id,(0,n.Z)((0,n.Z)({},a),{},{passcode:e}))}})}function b(e){let{entry:a,addEntryToUpdate:t}=e;const[s,r]=(0,l.useState)("");return(0,Z.jsxs)(p.Z,{gap:6,wrap:"wrap",align:"flex-end",children:[a.imageCardsIds.map((e=>(0,Z.jsxs)(p.Z,{gap:2,vertical:!0,children:[(0,Z.jsx)(f.f,{id:e,width:60}),(0,Z.jsx)(m.m,{children:e}),(0,Z.jsx)(i.ZP,{size:"small",onClick:()=>(e=>{t(a.id,(0,n.Z)((0,n.Z)({},a),{},{imageCardsIds:a.imageCardsIds.filter((a=>a!==e))}))})(e),children:"Remove"})]},e))),(0,Z.jsx)("div",{children:(0,Z.jsx)(g.Z,{placeholder:"td-d*",style:{width:100},onChange:e=>r(e.target.value),onPressEnter:()=>{s&&(t(a.id,(0,n.Z)((0,n.Z)({},a),{},{imageCardsIds:[...a.imageCardsIds,s.trim()]})),r(""))},value:s})})]})}function S(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,l.useMemo)((()=>{console.log("Recomputing passcode names typeahead...");const t={},n=Object.values(e).reduce(((e,n)=>(n.passcode.forEach((s=>{const r=a?"".concat(s," (").concat(n.id,")"):s;e[r]&&console.warn("Duplicate passcode found: ".concat(s),e[r],n.id),e[r]=n.id,n.imageCardsIds.forEach((e=>{t[e]||(t[e]=[]),t[e].push(s)}))})),e)),{});return{namesDict:n,options:(0,c.orderBy)(Object.keys(n),[e=>e.toLowerCase()]).map((e=>({value:e}))),imagesDict:t}}),[e,a])}function w(e){let{data:a,onFinish:t}=e;const{namesDict:n,options:s}=S(a,!0),[r,o]=(0,l.useState)([]),[i,d]=(0,l.useState)("");(0,j.Z)((()=>{i&&u(i)}),500,[i]);const u=e=>{if(!e)return void o([]);const a=e.trim().toUpperCase(),t=s.filter((e=>{var t;return String(null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:"").toUpperCase().includes(a)})),n=(0,c.orderBy)(t,[e=>{var t;const n=String(null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:"").toUpperCase();if(n===a)return 0;const s=n.match(/\((.*?)\)/);if(s&&s[1]===a)return 1;const r=n.indexOf(a);return 0===r?2:r>0?3:4}]);o(n)};return(0,Z.jsx)(v.Z,{options:r,style:{width:250},allowClear:!0,placeholder:"Search...",filterOption:(e,a)=>{var t;return-1!==String(null!==(t=null===a||void 0===a?void 0:a.value)&&void 0!==t?t:"").toUpperCase().indexOf(null===e||void 0===e?void 0:e.toUpperCase())},onSearch:d,notFoundContent:i.length>0?"No items found":"Type to search...",onSelect:e=>{void 0!==n[e]&&t(n[e])},children:(0,Z.jsx)(g.Z,{onPressEnter:()=>{r.length>0&&void 0!==n[r[0].value]&&t(n[r[0].value])}})})}var E=t(9286),k=t(7557),I=t(7128),P=t(4747),D=t(6178),T=t(952),z=t(5850),N=t(359);const U={id:"",passcode:[],imageCardsIds:[]},O=(e,a)=>Array.from({length:e},(()=>(0,n.Z)((0,n.Z)({},(0,c.cloneDeep)(U)),{},{id:(0,z.Lk)(a)})));function q(e){const[a,t]=(0,l.useState)(O(3,Object.keys(e.data))),s=(0,l.useMemo)((()=>a.some((e=>e.passcode.length>0||e.imageCardsIds.length>0))),[a]);return(0,Z.jsxs)(o.Z,{direction:"vertical",className:"full-width",children:[(0,Z.jsx)(i.ZP,{type:"primary",onClick:()=>{console.log("Add entries to database"),a.forEach((a=>{a.passcode.length>0&&a.imageCardsIds.length>0&&e.addEntryToUpdate(a.id,a)})),t(O(5,Object.keys(e.data)))},disabled:!s,children:"Add Entries"}),(0,Z.jsx)(y,{sets:a,addEntryToUpdate:(e,a)=>{t((t=>t.map((t=>t.id===e?a:t))))}}),(0,Z.jsx)(i.ZP,{icon:(0,Z.jsx)(E.Z,{}),onClick:()=>{t((e=>[...e,(0,n.Z)((0,n.Z)({},(0,c.cloneDeep)(U)),{},{id:crypto.randomUUID().substring(0,5)})]))},children:"Add row"}),(0,Z.jsx)(I.Z,{}),(0,Z.jsx)(H,{data:e.data,addEntryToUpdate:e.addEntryToUpdate})]})}function H(e){var a;let{data:t,addEntryToUpdate:n}=e;const[s,r]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),{namesDict:u,imagesDict:h}=S(t),{onRandomCard:v}=(0,N.p)(),[m,x]=(0,l.useState)(""),{message:j}=P.Z.useApp(),y=()=>{const e=v();c(e),r(e)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(D.Z.Title,{level:4,className:"my-0",children:"Create Image Card Multiprompt"}),(0,Z.jsxs)(o.Z,{className:"full-width",children:[(0,Z.jsxs)(p.Z,{vertical:!0,gap:8,children:[(0,Z.jsxs)(p.Z,{children:[(0,Z.jsx)(g.Z,{onChange:e=>r(e.target.value),placeholder:"Image Card ID",onPressEnter:()=>{s&&c(s)},value:s}),(0,Z.jsx)(i.ZP,{onClick:y,children:"Random"})]}),(0,Z.jsx)(f.f,{id:d,width:200})]}),(0,Z.jsxs)(p.Z,{vertical:!0,gap:8,children:[(0,Z.jsxs)(p.Z,{children:[(0,Z.jsx)(g.Z,{placeholder:"Names",onChange:e=>x(e.target.value),value:m}),(0,Z.jsx)(i.ZP,{type:"primary",disabled:!d||!m,onClick:()=>{const e=m.split(",").map((e=>e.trim().toLowerCase())).filter(Boolean);console.log(e),e.length>0&&d&&e.forEach((e=>{if(u[e]){const a=t[u[e]];a.imageCardsIds.push(d),a.imageCardsIds=(0,z.R1)(a.imageCardsIds),n(a.id,a)}else{const a={id:(0,z.Lk)(Object.keys(t)),passcode:[e],imageCardsIds:[d]};n(a.id,a)}})),x(""),y(),j.success("Entries processed")},children:"Process"})]}),(0,Z.jsx)(p.Z,{gap:8,wrap:!0,children:m.split(",").map((e=>{const a=e.trim().toLowerCase(),t=u[a];return(0,Z.jsx)(T.Z,{icon:t?(0,Z.jsx)(k.Z,{}):(0,Z.jsx)(E.Z,{}),color:t?"blue":"green",children:a},a)}))}),(0,Z.jsx)(p.Z,{gap:8,wrap:!0,children:h[d]&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(D.Z.Text,{type:"secondary",children:"Already in:"}),null===(a=h[d])||void 0===a?void 0:a.map((e=>(0,Z.jsx)(T.Z,{children:e},e)))]})})]})]})]})}function R(e){(0,N.p)();const{addParam:a,removeParam:t,is:s,queryParams:r}=(0,d.K)();return(0,Z.jsxs)(Z.Fragment,{children:[(s("display","table")||!r.has("display"))&&(0,Z.jsx)(L,(0,n.Z)({},e)),s("display","create")&&(0,Z.jsx)(q,(0,n.Z)({},e))]})}function L(e){const a=(0,l.useMemo)((()=>(0,c.orderBy)(Object.values(e.data),["id","passcode"])),[e.data]),[t,n]=(0,l.useState)();return(0,Z.jsxs)(o.Z,{direction:"vertical",className:"full-width my-4",children:[(0,Z.jsx)(w,{data:e.data,onFinish:e=>n(e)}),t&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(y,{sets:[e.data[t]],addEntryToUpdate:e.addEntryToUpdate,hidePagination:!0}),(0,Z.jsx)(i.ZP,{size:"small",onClick:()=>n(null),children:"Clear search"})]}),(0,Z.jsx)(y,{sets:a,addEntryToUpdate:e.addEntryToUpdate})]})}var V=t(9197),M=t(7460);const F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]},name:"file-add",theme:"outlined"};var A=t(4790),B=function(e,a){return l.createElement(A.Z,(0,M.Z)({},e,{ref:a,icon:F}))};const K=l.forwardRef(B);var J=t(8357),Q=t(7018),Y=t(7340),_=t(7965);function X(e){var a;let{data:t,save:n,isDirty:s,isSaving:r,entriesToUpdate:o}=e;const{addParams:i,queryParams:u}=(0,d.K)(),{complete:h,incomplete:g,varied:v,mappings:m,mappedImages:x,overdone:j}=(0,l.useMemo)((()=>{let e=0,a=0,n=0,s=0,r=0;const o={};return Object.values(t).forEach((t=>{t.imageCardsIds.length>=3&&e++,t.imageCardsIds.length>4&&n++,t.imageCardsIds.length<3&&a++,t.passcode.length>3&&s++,r+=t.imageCardsIds.length,t.imageCardsIds.forEach((e=>{o[e]=!0}))})),{complete:e,incomplete:a,varied:s,mappings:r,mappedImages:Object.keys(o).length,overdone:n}}),[t]);return(0,Z.jsxs)(_.Pd,{children:[(0,Z.jsxs)(p.Z,{vertical:!0,gap:12,children:[(0,Z.jsx)(Y.k,{isDirty:s,onSave:n,isSaving:r,dirt:JSON.stringify(o)}),(0,Z.jsx)(Q.o,{data:()=>function(e){console.log("Preparing file for download...");const a=(0,c.cloneDeep)(e);return(0,z.Tj)(a)}(t),fileName:"daily-passcode-sets.json",disabled:s,block:!0})]}),(0,Z.jsx)(I.Z,{}),(0,Z.jsx)(J.H,{label:"Display",value:null!==(a=u.get("display"))&&void 0!==a?a:"table",onChange:e=>i({display:e,page:1},{page:1,display:"table"}),options:[{title:"Table",icon:(0,Z.jsx)(V.Z,{}),value:"table"},{title:"Create",icon:(0,Z.jsx)(K,{}),value:"create"}]}),(0,Z.jsx)("p",{children:"Stats"}),(0,Z.jsxs)(D.Z.Text,{children:["Passcode sets: ",(0,Z.jsx)(T.Z,{children:Object.keys(t).length})]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(D.Z.Text,{children:["Complete: ",(0,Z.jsx)(T.Z,{color:"green-inverse",children:h})]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(D.Z.Text,{children:["Incomplete: ",(0,Z.jsx)(T.Z,{color:"gold-inverse",children:g})]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(D.Z.Text,{children:["Overdone: ",(0,Z.jsx)(T.Z,{color:"purple",children:j})]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(D.Z.Text,{children:["Varied: ",(0,Z.jsx)(T.Z,{children:v})]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(D.Z.Text,{children:["Mappings: ",(0,Z.jsx)(T.Z,{children:m})]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)(D.Z.Text,{children:["Unique images: ",(0,Z.jsx)(T.Z,{children:x})]})]})}var W=t(4562),G=t(8938);function $(){const e=(0,G.i)({tdrResourceName:"daily-passcode-sets",firebaseDataCollectionName:"imagePasscode",serialize:!0});return(0,Z.jsx)(_.Xg,{title:"Image Cards Passcode Sets",subtitle:"Daily Set Entries",children:(0,Z.jsxs)(s.Z,{hasSider:!0,children:[(0,Z.jsx)(W.p,{children:(0,Z.jsx)(X,(0,n.Z)({},e))}),(0,Z.jsx)(s.Z.Content,{className:"content",children:(0,Z.jsx)(r.T,{isLoading:e.isLoading,error:e.error,hasResponseData:!(0,c.isEmpty)(e.data),children:(0,Z.jsx)(R,(0,n.Z)({},e))})})]})})}const ee=$},9286:(e,a,t)=>{t.d(a,{Z:()=>d});var n=t(7460),s=t(2791);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var o=t(4790),i=function(e,a){return s.createElement(o.Z,(0,n.Z)({},e,{ref:a,icon:r}))};const d=s.forwardRef(i)},9197:(e,a,t)=>{t.d(a,{Z:()=>d});var n=t(7460),s=t(2791);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var o=t(4790),i=function(e,a){return s.createElement(o.Z,(0,n.Z)({},e,{ref:a,icon:r}))};const d=s.forwardRef(i)}}]);
//# sourceMappingURL=ImageCardsPasscode.f8f573e7.chunk.js.map