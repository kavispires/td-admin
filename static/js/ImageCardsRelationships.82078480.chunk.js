"use strict";(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[997],{7166:(e,s,t)=>{t.d(s,{P:()=>n,l:()=>o});var i=t(2791),a=t(2671),r=t(184);const l=(0,i.createContext)({}),n=e=>{let{children:s}=e;const t=(0,a.AZ)(),[n,o]=(0,i.useState)(15),[c,d]=(0,i.useState)(5),[h,x]=(0,i.useState)(150),[j,u]=(0,i.useState)(!1),g=(0,a.IN)(t.data,t.setDirty,n,c);return(0,r.jsx)(l.Provider,{value:{sampleSize:n,setSampleSize:o,tagThreshold:c,setTagThreshold:d,cardSize:h,setCardSize:x,showIds:j,setShowIds:u,randomGroups:g,query:t},children:s})},o=()=>(0,i.useContext)(l)},9936:(e,s,t)=>{t.d(s,{A:()=>o});var i=t(8622),a=t(3070),r=t(9367),l=t(7166),n=t(184);function o(){const{query:{stats:e}}=(0,l.l)();return(0,n.jsx)(a.Z.Item,{label:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.C,{icon:(0,n.jsx)(i.Z,{}),shape:"square",size:"small",style:{marginRight:6}}),"Stats"]}),children:(0,n.jsxs)("ul",{className:"statistic__list",children:[(0,n.jsxs)("li",{children:["Completion: ",Math.floor(100*e.total/2520),"%"]}),(0,n.jsxs)("li",{children:["Total Relationships: ",e.total]}),(0,n.jsxs)("li",{children:["Complete: ",e.complete]}),(0,n.jsxs)("li",{children:["Overdone: ",e.overdone]}),(0,n.jsxs)("li",{children:["Single Match: ",e.single]})]})})}},7131:(e,s,t)=>{t.r(s),t.d(s,{default:()=>R});var i=t(1790),a=t(7166),r=t(4925),l=t(7691),n=t(7106),o=t(398),c=t(4988),d=t(7360),h=t(4057),x=t(6473),j=t(2241),u=t(952),g=t(3088),m=t(8357),p=t(2128),v=t(763),S=t(2791),y=t(7415),C=t(145),Z=t(4249),f=t(184);const z=["isDirty","isSaving","save","stats"];function b(){const e=(0,a.l)(),{query:{isDirty:s,isSaving:t,save:i,stats:n},randomGroups:{cardIds:o,cards:c,onSelect:d,selection:h,relate:g,nextSet:b,deselectAll:D,cycles:I},showIds:N,cardSize:T}=e,k=(0,r.Z)(e.query,z),_=(0,S.useRef)(null),[E,{width:R}]=(0,y.Z)(),[M,P]=(0,S.useMemo)((()=>{const e=Math.floor(R/T)+1;return[e,Math.floor(R/e)]}),[T,R]);return(0,f.jsx)(p.T,{isLoading:k.isLoading,error:k.error,hasResponseData:!(0,v.isEmpty)(k.data),children:(0,f.jsx)("div",{ref:E,className:"my-6",children:(0,f.jsxs)(x.Z,{title:"Card Relationship Matching",extra:(0,f.jsxs)("span",{children:[(0,f.jsx)(l.Z,{})," ",I]}),className:"image-card-categorizer-card",ref:_,children:[(0,f.jsx)(j.Z.PreviewGroup,{children:(0,f.jsx)("div",{className:"image-cards-group",style:{gridTemplateColumns:"repeat(".concat(Math.max(M,1),", 1fr)")},children:o.map(((e,s)=>{const t=h.includes(e),i=c[s];return(0,f.jsx)("div",{className:"image-card-card__image",children:(0,f.jsxs)(m.F6,{onClick:()=>d(e),active:t,className:"image-cards-group__button",activeClass:"image-cards-group__button--active",children:[(0,f.jsx)(C.f,{id:e,width:P-24,preview:!1}),(0,f.jsxs)("div",{children:[N&&(0,f.jsx)(u.Z,{children:e}),(0,f.jsx)(Z.c,{card:i})]})]})},e)}))})}),(0,f.jsx)(w,{isSaving:t,isDirty:s,selection:h,relate:g,deselectAll:D,onNextSet:()=>{var e;b(),null===(e=_.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}})]})})})}const w=e=>{let{isSaving:s,isDirty:t,selection:i,relate:a,deselectAll:r,onNextSet:l}=e;if(s)return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(g.Z,{icon:(0,f.jsx)(n.Z,{})})});return(0,f.jsxs)(f.Fragment,{children:[t&&(0,f.jsx)(g.Z,{icon:(0,f.jsx)(o.Z,{}),type:"primary",style:{right:234}}),(0,f.jsx)(g.Z,{icon:(0,f.jsx)(c.Z,{}),style:{right:164},onClick:r}),(0,f.jsx)(g.Z,{icon:(0,f.jsx)(d.Z,{}),style:{right:94},type:i.length<2?"default":"primary",badge:{count:i.length,size:"small"},onClick:()=>{i.length<2||a()}}),(0,f.jsx)(g.Z,{icon:(0,f.jsx)(h.Z,{}),style:{right:24},onClick:l})]})};var D=t(4520),I=t(7018),N=t(7340),T=t(7965),k=t(6591),_=t(9936);function E(){const{query:{isDirty:e,isSaving:s,save:t,data:i,isLoading:r,isError:l},randomGroups:{filters:n},showIds:o,setShowIds:c,tagThreshold:d,setTagThreshold:h,sampleSize:x,setSampleSize:j,cardSize:u,setCardSize:g}=(0,a.l)();return(0,f.jsxs)(T.p3,{children:[(0,f.jsx)(T.Pd,{children:(0,f.jsxs)(D.Z,{vertical:!0,gap:6,children:[(0,f.jsx)(N.k,{isDirty:e,dirt:JSON.stringify(i),onSave:()=>t({}),isSaving:s}),(0,f.jsx)(I.o,{data:i,fileName:"imageCardsRelationships.json",loading:s,disabled:(0,v.isEmpty)(i),block:!0})]})}),(0,f.jsx)(m.Th,{isLoading:r||s,isDirty:e,isError:l,hasResponseData:!(0,v.isEmpty)(i)}),(0,f.jsxs)(T.Pd,{children:[(0,f.jsx)(m.Do,{label:"Use Cycles",value:n.useCycles,onChange:()=>n.toggleUseCycles()}),(0,f.jsx)(m.Do,{label:"Show Ids",value:o,onChange:e=>c(e)}),(0,f.jsx)(m.zE,{onChange:e=>h(e),value:d,options:k.VC,label:"Tag Count"}),(0,f.jsx)(m.zE,{onChange:e=>j(e),value:x,options:k.ZI,label:"Sample Size"}),(0,f.jsx)(m.zE,{onChange:e=>g(e),value:u,options:k.Hn,label:"Card Size"})]}),(0,f.jsx)(T.Pd,{children:(0,f.jsx)(_.A,{})})]})}const R=function(){return(0,f.jsx)(T.Xg,{title:"Image Cards",subtitle:"Relationships",children:(0,f.jsx)(a.P,{children:(0,f.jsxs)(i.Z,{hasSider:!0,children:[(0,f.jsx)(E,{}),(0,f.jsx)(i.Z.Content,{className:"content",children:(0,f.jsx)(b,{})})]})})})}}}]);
//# sourceMappingURL=ImageCardsRelationships.82078480.chunk.js.map