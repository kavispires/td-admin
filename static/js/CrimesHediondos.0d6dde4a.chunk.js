/*! For license information please see CrimesHediondos.0d6dde4a.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[1886],{9961:(e,n,t)=>{t.d(n,{m:()=>s});var a=t(2556),r=t(5657),o=t(7134),l=t(184);function s(e){let{content:n,shape:t,icon:s,size:i,...c}=e;const d=(0,o._)();return(0,l.jsx)(a.ZP,{shape:null!==t&&void 0!==t?t:"circle",icon:null!==s&&void 0!==s?s:(0,l.jsx)(r.Z,{}),size:null!==i&&void 0!==i?i:"small",onClick:()=>d(n),...c})}},4341:(e,n,t)=>{t.d(n,{M:()=>r});var a=t(2791);function r(e){let{maxExpandedRows:n,rowExpandable:t,defaultExpandAllRows:r,...o}=e;const[l,s]=(0,a.useState)([]);return{expandedRowKeys:l,rowExpandable:null!==t&&void 0!==t?t:()=>!0,defaultExpandAllRows:null!==r&&void 0!==r&&r,onExpand:(e,t)=>{const a=[...l];if(!e)return s(a.filter((e=>e!==t.id)));if(n){for(;a.length>=n;)a.shift();a.push(t.id),s(a)}},...o}}},548:(e,n,t)=>{t.d(n,{P:()=>r});var a=t(4766);function r(e){var n,t;let{prefix:r="",defaultCurrent:o=1,defaultPageSize:l=10,pageSizeOptions:s=[10,20,50,100],total:i,showQuickJumper:c}=e;const{queryParams:d,addParam:u}=(0,a.K)();return{current:Number(null!==(n=d.get("".concat(r,"page")))&&void 0!==n?n:String(o)),pageSize:Number(null!==(t=d.get("".concat(r,"pageSize")))&&void 0!==t?t:String(l)),onChange:e=>{u("".concat(r,"page"),e.toString(),String(o))},onShowSizeChange:(e,n)=>{u("".concat(r,"pageSize"),n.toString(),String(l))},defaultCurrent:o,defaultPageSize:l,pageSizeOptions:s,total:i,hideOnSinglePage:!0,showQuickJumper:c}}},816:(e,n,t)=>{t.r(n),t.d(n,{default:()=>de});var a=t(3990),r=t(4766),o=t(1105),l=t(1046),s=t(9481),i=t(952),c=t(2556),d=t(1310),u=t(184);function p(e){let{name:n,language:t,...a}=e;return(0,u.jsx)(o.Z,{prefix:(0,u.jsx)(d.H,{language:t,width:"1em"}),placeholder:"Name in ".concat(t.toUpperCase()),defaultValue:n[t],size:"small",...a})}var m=t(9961),v=t(7134),g=t(4341),f=t(548),x=t(763),h=t(8835),y=t(5850),j=t(5437),C=t(4520),w=t(2791);function Z(e){let{allTags:n,onSelect:t}=e;return(0,u.jsx)(j.Z,{showSearch:!0,mode:"tags",placeholder:"Add new tag",options:n,style:{width:"200px"},autoClearSearchValue:!0,maxCount:1,onSelect:t,allowClear:!0,defaultActiveFirstOption:!1,size:"small"})}function b(e){let{allTags:n,onSelect:t}=e;const[a,r]=(0,w.useState)([]);return(0,u.jsxs)(C.Z,{gap:6,children:[(0,u.jsx)(j.Z,{showSearch:!0,mode:"tags",placeholder:"Add new tag",options:[],style:{width:"200px"},autoClearSearchValue:!0,allowClear:!0,value:a,onChange:r,tokenSeparators:[","],onClear:()=>r([]),defaultActiveFirstOption:!1,size:"small"}),(0,u.jsx)(c.ZP,{onClick:()=>{t(a.map((e=>e.trim().toLowerCase()))),r([])},disabled:0===a.length,children:"Add"})]})}function S(e){let{card:n,allTags:t,onUpdateCard:a}=e;const r=e=>{var t;const r=(0,x.cloneDeep)(n);var o,l;null!==(t=r.tags)&&void 0!==t&&t.includes(e)?r.tags=null===(o=r.tags)||void 0===o?void 0:o.filter((n=>n!==e)):r.tags=(0,y.R1)([...null!==(l=r.tags)&&void 0!==l?l:[],e]).sort();a(r)};return(0,u.jsxs)(l.Z,{wrap:!0,children:[(0,u.jsxs)(l.Z,{size:"small",children:["New tag:",(0,u.jsx)(Z,{allTags:t,onSelect:r})]}),(0,u.jsxs)(l.Z,{size:"small",children:["All multiple tags:",(0,u.jsx)(b,{allTags:t,onSelect:e=>{var t;const r=(0,x.cloneDeep)(n);r.tags=(0,y.R1)([...null!==(t=r.tags)&&void 0!==t?t:[],...e]).sort(),a(r)}})]}),(0,u.jsx)("ul",{className:"all-tags",children:t.map((e=>{var t;let{value:a,count:o}=e;return(0,u.jsxs)(i.Z,{color:null!==(t=n.tags)&&void 0!==t&&t.includes(a)?"yellow":void 0,className:"all-tags__tag",onClick:()=>r(a),children:[a," (",o,")"]},"all-tags-".concat(a))}))})]})}var k=t(3733),E=t(9228),N=t(2997);function O(e){let{item:n,cardWidth:t,activeColor:a,isSelected:r=!1,className:o=""}=e;return n.itemId?(0,u.jsxs)("div",{className:(0,k.Z)("crime-item-card",r&&"crime-item-card--selected",o),style:a&&r?{borderColor:"black",backgroundColor:a}:{},children:[(0,u.jsx)(E.Z,{content:(0,u.jsxs)(u.Fragment,{children:[n.name.pt," | ",n.name.en]}),children:(0,u.jsx)(i.Z,{className:"crime-item-card__name",color:"weapon"===n.type?"geekblue":"volcano",style:{maxWidth:"".concat(t,"px")},children:(0,u.jsx)("span",{children:n.name.en})})}),(0,u.jsx)("div",{className:(0,k.Z)("crime-item-card__item-container","crime-item-card__item-container--".concat(n.type)),children:(0,u.jsx)(N.ck,{id:n.itemId,width:.85*t,className:"crime-item-card__item"})})]}):(0,u.jsx)(u.Fragment,{children:n.id})}function P(e){let{rows:n,allTags:t,onUpdateCard:a}=e;const r=(0,v._)(),d=(0,f.P)({total:n.length,showQuickJumper:!0}),y=(e,n,t)=>{const r=(0,x.cloneDeep)(t);r.name[n]=e,a(r)},j=[{title:"Id",dataIndex:"id",key:"id",render:e=>(0,u.jsxs)("span",{children:[e,(0,u.jsx)(m.m,{content:e})]}),sorter:(e,n)=>e.id.localeCompare(n.id)},{title:"Card",dataIndex:"itemId",key:"itemId",render:(e,n)=>(0,u.jsxs)("div",{children:[(0,u.jsx)(O,{item:n,cardWidth:70}),(0,u.jsx)(o.Z,{defaultValue:n.itemId,size:"small",onBlur:e=>{var t,r,o;if(console.log(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value),console.log("onBlur"),null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.value&&(null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value)!==n.itemId){var l;const t=(0,x.cloneDeep)(n);t.itemId=null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value,a(t)}}})]})},{title:"Name",dataIndex:"name",key:"name",sorter:(e,n)=>e.name.en.localeCompare(n.name.en),render:(e,n)=>(0,u.jsxs)(l.Z,{direction:"vertical",style:{minWidth:150},children:[(0,u.jsx)(p,{name:e,language:"en",onPressEnter:e=>{var t;return y((null===(t=e.target)||void 0===t?void 0:t.value)||n.name.en,"en",n)}}),(0,u.jsx)(p,{name:e,language:"pt",onPressEnter:e=>{var t;return y((null===(t=e.target)||void 0===t?void 0:t.value)||n.name.pt,"pt",n)}})]})},{title:"Type",dataIndex:"type",key:"type",render:e=>(0,u.jsx)("span",{children:e}),sorter:(e,n)=>e.type.localeCompare(n.type)},s.Z.EXPAND_COLUMN,{title:"Tags",dataIndex:"tags",key:"tags",render:e=>(0,u.jsx)(l.Z,{size:"small",wrap:!0,children:e.map((e=>(0,u.jsx)(i.Z,{children:e},e)))})},{title:"Verify",dataIndex:"tags",key:"verify",render:e=>e.length>2?(0,u.jsx)(h.Z,{}):""}],C=(0,g.M)({maxExpandedRows:1,expandedRowRender:e=>(0,u.jsx)(S,{card:e,allTags:t,onUpdateCard:a})});return(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsxs)(l.Z,{className:"mb-4",children:[(0,u.jsx)(c.ZP,{onClick:()=>{r(t.map((e=>e.value)).join(", "))},children:"Copy AllTags"}),(0,u.jsx)(c.ZP,{onClick:()=>{if(d){const{current:e=1,pageSize:t=10}=d,a=n.slice((e-1)*t,e*t),o=[];a.forEach(((e,n)=>{var t;o.push("".concat(n+1,") ").concat(e.name.en," - Current tags: ").concat((null!==(t=e.tags)&&void 0!==t?t:[]).join(", ")))})),console.log(o),r(o.join("\n"))}},children:"Copy Page Cards"})]}),(0,u.jsx)(s.Z,{columns:j,dataSource:n,rowKey:"id",expandable:C,pagination:d})]})}var z=t(959),D=t(2675),I=t(7747);function T(e){let{allTags:n,onUpdateCard:t,card:a,buttonProps:r}=e;const[o,s]=(0,D.Z)(!1),i=(e,n,a)=>{const r=(0,x.cloneDeep)(a);r.name[n]=e,t(r)};return console.log("EditCrimeCardModal",a),(0,u.jsxs)("div",{children:[(0,u.jsx)(c.ZP,{...r,onClick:s,size:"small",icon:(0,u.jsx)(I.Z,{}),style:{minWidth:100},children:"Edit"}),(0,u.jsx)(z.Z,{title:"Editing ".concat(a.id," (").concat(a.name.en,")"),open:o,onOk:()=>s(!1),onCancel:s,width:1e3,children:o&&(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(l.Z,{children:[(0,u.jsxs)(l.Z,{direction:"vertical",style:{minWidth:150},children:[(0,u.jsx)(O,{item:a,cardWidth:100}),(0,u.jsx)(p,{name:a.name,language:"en",onPressEnter:e=>{var n;return i((null===(n=e.target)||void 0===n?void 0:n.value)||a.name.en,"en",a)}}),(0,u.jsx)(p,{name:a.name,language:"pt",onPressEnter:e=>{var n;return i((null===(n=e.target)||void 0===n?void 0:n.value)||a.name.pt,"pt",a)}})]}),(0,u.jsx)(S,{allTags:n,onUpdateCard:t,card:a})]})})})]})}function R(e){let{rows:n,weapons:t,evidence:a,onUpdateCard:r,allTags:o}=e;const i=(0,w.useMemo)((()=>{const e={};return n.forEach((n=>{var t;null===(t=n.tags)||void 0===t||t.forEach((t=>{e[t]||(e[t]={id:t,tag:t,count:0,cardsIds:[]}),e[t].count++,e[t].cardsIds.push(n.id)}))})),(0,x.orderBy)(Object.values(e),["tag"],["asc"])}),[n]),c=(0,f.P)({total:i.length,showQuickJumper:!0}),d=(0,g.M)({maxExpandedRows:1,expandRowByClick:!0,expandedRowRender:e=>(0,u.jsx)(l.Z,{size:"small",wrap:!0,children:e.cardsIds.map((e=>{var n;const s=null!==(n=t[e])&&void 0!==n?n:a[e];return(0,u.jsxs)(l.Z,{direction:"vertical",align:"center",children:[(0,u.jsx)(O,{item:s,cardWidth:75}),(0,u.jsx)(T,{allTags:o,onUpdateCard:r,card:s})]},e)}))})}),p=[{title:"Id",dataIndex:"id",key:"id",render:e=>(0,u.jsx)("span",{children:e}),sorter:(e,n)=>e.id.localeCompare(n.id)},{title:"Tag",dataIndex:"tag",key:"tag",render:e=>(0,u.jsx)("span",{children:e}),sorter:(e,n)=>e.tag.localeCompare(n.tag)},{title:"Count",dataIndex:"count",key:"count",render:e=>(0,u.jsx)("span",{children:e}),sorter:(e,n)=>e.count-n.count}];return(0,u.jsx)("div",{className:"my-4",children:(0,u.jsx)(s.Z,{columns:p,dataSource:i,rowKey:"id",expandable:d,pagination:c})})}var U=t(8252),M=t(7460),A=t(7669),Q=t(4508),_=function(e,n){return w.createElement(Q.Z,(0,M.Z)({},e,{ref:n,icon:A.Z}))};const V=w.forwardRef(_);function J(e){var n;let{sceneQuery:t,allTags:a,objects:r}=e;const o=(0,v._)(),d=Object.values(null!==(n=t.data)&&void 0!==n?n:[]),x=(0,f.P)({total:d.length,showQuickJumper:!0}),h=[{title:"Id",dataIndex:"id",key:"id",render:e=>(0,u.jsxs)("span",{children:[e,(0,u.jsx)(m.m,{content:e})]}),sorter:(e,n)=>e.id.localeCompare(n.id)},{title:"Title",dataIndex:"title",key:"title",render:(e,n)=>(0,u.jsxs)(l.Z,{direction:"vertical",style:{minWidth:150},children:[(0,u.jsx)(p,{name:n.title,language:"en",readOnly:!0}),(0,u.jsx)(p,{name:n.title,language:"pt",readOnly:!0})]})},{title:"Type",dataIndex:"type",key:"type",render:e=>(0,u.jsx)("span",{children:e}),sorter:(e,n)=>e.type.localeCompare(n.type)},s.Z.EXPAND_COLUMN,{title:"Options",dataIndex:"values",key:"tags",render:(e,n)=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.ZP,{onClick:()=>(e=>{const n=[];n.push('"'.concat(e.description.en,'"')),e.values.forEach(((e,t)=>{n.push("".concat(t,") ").concat(e.en))})),o(n.join("\n"))})(n),children:"Copy options"}),(0,u.jsx)("ul",{children:e.map(((e,a)=>{var r,o,l;return(0,u.jsxs)("li",{children:[(0,u.jsxs)(U.Z,{children:[e.en," / ",e.pt," ",(0,u.jsx)(i.Z,{children:null!==(r=null===(o=n.tags)||void 0===o||null===(l=o[a])||void 0===l?void 0:l.length)&&void 0!==r?r:0})]}),(0,u.jsx)(W,{scene:n,valueIndex:a,addEntryToUpdate:t.addEntryToUpdate})]},e.en)}))})]})}],y=(0,g.M)({maxExpandedRows:1,expandedRowRender:e=>(0,u.jsx)(L,{scene:e,objects:r})});return(0,u.jsxs)("div",{className:"my-4",children:[(0,u.jsx)(U.Z.Title,{level:2,className:"my-0",children:"Scenes"}),(0,u.jsx)(l.Z,{className:"mb-4",children:(0,u.jsx)(c.ZP,{onClick:()=>{o(a.map((e=>e.value)).join(", "))},children:"Copy AllTags"})}),(0,u.jsx)(s.Z,{columns:h,dataSource:d,rowKey:"id",expandable:y,pagination:x})]})}function W(e){var n,t,a,r;let{scene:o,valueIndex:l,addEntryToUpdate:s}=e;const[d,p]=(0,D.Z)(!1),[m,v]=(0,w.useState)([]),g=null!==(n=null===o||void 0===o||null===(t=o.tags)||void 0===t?void 0:t[l])&&void 0!==n?n:[],f=()=>{var e;const n=(0,x.cloneDeep)(o);n.tags=null!==(e=n.tags)&&void 0!==e?e:{},n.tags[l]=[...m.filter(Boolean)],console.log(n.tags),s(n.id,n),v([]),p()};return d?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(C.Z,{gap:6,align:"center",children:[(0,u.jsx)(j.Z,{showSearch:!0,mode:"tags",placeholder:"Add new tag",options:[],style:{minWidth:"200px",maxWidth:"600px"},autoClearSearchValue:!0,allowClear:!0,defaultValue:g,onChange:v,tokenSeparators:[","],onClear:()=>v([]),defaultActiveFirstOption:!1,size:"small"}),(0,u.jsx)(c.ZP,{onClick:f,disabled:0===m.length,children:"Add"}),(0,u.jsx)(c.ZP,{onClick:p,icon:(0,u.jsx)(V,{}),shape:"circle",size:"small",type:"text"})]})}):(0,u.jsxs)(u.Fragment,{children:[null===o||void 0===o||null===(a=o.tags)||void 0===a||null===(r=a[l])||void 0===r?void 0:r.map((e=>(0,u.jsx)(i.Z,{color:"green",children:e},e))),(0,u.jsx)(c.ZP,{shape:"circle",size:"small",onClick:p,icon:(0,u.jsx)(I.Z,{})})]})}function L(e){let{scene:n,objects:t}=e;const[a,r]=(0,w.useState)(null);return(0,u.jsxs)("div",{className:"full-width",children:[(0,u.jsx)(c.ZP,{onClick:()=>{const e=(0,x.sample)(t),a=F(n,e);r({entry:e,likelihood:a})},children:"Sample"}),(0,u.jsxs)("div",{className:"scene-options-sampler mt-4",children:[a&&(0,u.jsx)(O,{item:a.entry,cardWidth:70}),n.values.map(((e,n)=>{var t,r;const o=null!==(t=null===a||void 0===a?void 0:a.likelihood[n])&&void 0!==t?t:0;let s=o>50?"cyan":o>25?"orange":"red";return s=o===Math.max(...Object.values(null!==(r=null===a||void 0===a?void 0:a.likelihood)&&void 0!==r?r:{}))?"green":s,(0,u.jsxs)(l.Z,{direction:"vertical",children:[(0,u.jsxs)(U.Z.Text,{children:[e.en," / ",e.pt]}),(0,u.jsxs)(i.Z,{color:0===o?void 0:s,children:[o,"%"]})]},e.en)}))]})]})}const F=(e,n)=>{var t,a;const r={},o={};return console.log("========="),(null!==(t=n.tags)&&void 0!==t?t:[]).forEach((n=>{var t;o[n]=0,Object.keys(null!==(t=e.tags)&&void 0!==t?t:{}).forEach((t=>{var a,r;(null!==(a=null===(r=e.tags)||void 0===r?void 0:r[t])&&void 0!==a?a:[]).includes(n)&&(o[n]=o[n]+1)}))})),console.log(JSON.parse(JSON.stringify(o))),Object.keys(o).forEach((e=>{const n=Math.max(0,1-.1*o[e]);o[e]=n})),console.log(JSON.parse(JSON.stringify(o))),(null!==(a=n.tags)&&void 0!==a?a:[]).forEach((n=>{var t;Object.keys(null!==(t=e.tags)&&void 0!==t?t:{}).forEach((t=>{var a,l;var s;(null!==(a=null===(l=e.tags)||void 0===l?void 0:l[t])&&void 0!==a?a:[]).includes(n)&&(r[t]=(null!==(s=r[t])&&void 0!==s?s:0)+o[n])}))})),console.log(JSON.parse(JSON.stringify(r))),Object.keys(r).forEach((e=>{var t,a,o;r[e]=Math.floor(Math.min(100,(null!==(t=r[e])&&void 0!==t?t:0)/(null!==(a=null===(o=n.tags)||void 0===o?void 0:o.length)&&void 0!==a?a:1)*100))})),console.log(JSON.parse(JSON.stringify(r))),r};function H(e){let{weaponsQuery:n,evidenceQuery:t,scenesQuery:a}=e;const{is:o,queryParams:l}=(0,r.K)(),s=(0,w.useMemo)((()=>[...Object.values(n.data),...Object.values(t.data)]),[n.data,t.data]),i=(0,w.useMemo)((()=>{const e={};return s.forEach((n=>{var t;null===(t=n.tags)||void 0===t||t.forEach((n=>{var t;e[n]=(null!==(t=e[n])&&void 0!==t?t:0)+1}))})),(0,x.orderBy)(Object.entries(e).map((e=>{let[n,t]=e;return{value:n,label:n,count:t}})),["value"],["asc"])}),[s]),c=e=>{if("weapon"===e.type)n.addEntryToUpdate(e.id,e);else{if("evidence"!==e.type)throw new Error("Invalid card type");t.addEntryToUpdate(e.id,e)}};return(0,u.jsxs)(u.Fragment,{children:[(o("display","cards")||!l.has("display"))&&(0,u.jsx)(P,{rows:s,allTags:i,onUpdateCard:c}),o("display","tags")&&(0,u.jsx)(R,{rows:s,weapons:n.data,evidence:t.data,onUpdateCard:c,allTags:i}),o("display","scenes")&&(0,u.jsx)(J,{sceneQuery:a,allTags:i,objects:s})]})}var B=t(7128),K=t(8357),q=t(7018),X=t(7340),G=t(7965);const Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M870 126H663.8c-17.4 0-32.9 11.9-37 29.3C614.3 208.1 567 246 512 246s-102.3-37.9-114.8-90.7a37.93 37.93 0 00-37-29.3H154a44 44 0 00-44 44v252a44 44 0 0044 44h75v388a44 44 0 0044 44h478a44 44 0 0044-44V466h75a44 44 0 0044-44V170a44 44 0 00-44-44zm-28 268H723v432H301V394H182V198h153.3c28.2 71.2 97.5 120 176.7 120s148.5-48.8 176.7-120H842v196z"}}]},name:"skin",theme:"outlined"};var $=function(e,n){return w.createElement(Q.Z,(0,M.Z)({},e,{ref:n,icon:Y}))};const ee=w.forwardRef($);const ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 000 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM459.7 834.7L189.3 564.3 589 164.6 836 188l23.4 247-399.7 399.7zM680 256c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm0 120c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]},name:"tag",theme:"outlined"};var te=function(e,n){return w.createElement(Q.Z,(0,M.Z)({},e,{ref:n,icon:ne}))};const ae=w.forwardRef(te);var re=t(881);function oe(e){var n;let{weaponsQuery:t,evidenceQuery:a,scenesQuery:o}=e;const{queryParams:l,addParam:s,addParams:i,is:c}=(0,r.K)();return(0,u.jsxs)(G.Pd,{children:[(0,u.jsxs)(C.Z,{vertical:!0,gap:12,children:[(0,u.jsx)("span",{children:"Weapons"}),(0,u.jsx)(X.k,{isDirty:t.isDirty,onSave:t.save,isSaving:t.isSaving,dirt:JSON.stringify(t.entriesToUpdate)}),(0,u.jsx)(q.o,{data:()=>le(t.data),fileName:"crime-weapons.json",disabled:t.isDirty,block:!0}),(0,u.jsx)("span",{children:"Evidence"}),(0,u.jsx)(X.k,{isDirty:a.isDirty,onSave:a.save,isSaving:a.isSaving,dirt:JSON.stringify(a.entriesToUpdate)}),(0,u.jsx)(q.o,{data:()=>le(a.data),fileName:"crime-evidence.json",disabled:a.isDirty,block:!0}),(0,u.jsx)("span",{children:"Scenes"}),(0,u.jsx)(X.k,{isDirty:o.isDirty,onSave:o.save,isSaving:o.isSaving,dirt:JSON.stringify(o.entriesToUpdate)}),(0,u.jsx)(q.o,{data:()=>le(o.data),fileName:"crime-scenes.json",disabled:o.isDirty,block:!0})]}),(0,u.jsx)(B.Z,{}),(0,u.jsx)(K.H,{label:"Display",value:null!==(n=l.get("display"))&&void 0!==n?n:"listing",onChange:e=>i({display:e,page:1},{page:1}),options:[{title:"Cards",icon:(0,u.jsx)(ee,{}),value:"cards"},{title:"Tags",icon:(0,u.jsx)(ae,{}),value:"tags"},{title:"Scenes",icon:(0,u.jsx)(re.Z,{}),value:"scenes"}]}),c("display","item")&&(0,u.jsx)(K.Do,{label:"No Groups Only",value:c("emptyOnly"),onChange:e=>s("emptyOnly",e,!1)})]})}function le(e){console.log("Preparing file for download...");const n=(0,x.cloneDeep)(e);return(0,y.Tj)(n)}var se=t(2128),ie=t(8938),ce=t(5529);const de=function(){const e=(0,ie.i)({tdrResourceName:"crime-weapons",firebaseDataCollectionName:"crimeWeapons",serialize:!0}),n=(0,ie.i)({tdrResourceName:"crime-evidence",firebaseDataCollectionName:"crimeEvidence",serialize:!0}),t=(0,ie.i)({tdrResourceName:"crime-scenes",firebaseDataCollectionName:"crimeScenes",serialize:!0}),r=(0,ce.N)("items");return(0,u.jsx)(G.Xg,{title:"Crimes Hediondos",subtitle:"Categorizer",children:(0,u.jsxs)(a.Z,{hasSider:!0,children:[(0,u.jsx)(G.p3,{children:(0,u.jsx)(oe,{weaponsQuery:e,evidenceQuery:n,scenesQuery:t})}),(0,u.jsx)(a.Z.Content,{className:"content",children:(0,u.jsx)(se.T,{isLoading:e.isLoading||n.isLoading||t.isLoading||r.isLoading,error:e.error||n.error||t.error||r.error,hasResponseData:!(0,x.isEmpty)(e.data)&&!(0,x.isEmpty)(n.data)&&!(0,x.isEmpty)(t.data)&&!(0,x.isEmpty)(r.data),children:(0,u.jsx)(H,{weaponsQuery:e,evidenceQuery:n,scenesQuery:t})})})]})})}},8835:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(7460),r=t(2791),o=t(2982),l=t(4508),s=function(e,n){return r.createElement(l.Z,(0,a.Z)({},e,{ref:n,icon:o.Z}))};const i=r.forwardRef(s)},5657:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(7460),r=t(2791),o=t(8291),l=t(4508),s=function(e,n){return r.createElement(l.Z,(0,a.Z)({},e,{ref:n,icon:o.Z}))};const i=r.forwardRef(s)},7747:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(7460),r=t(2791),o=t(7820),l=t(4508),s=function(e,n){return r.createElement(l.Z,(0,a.Z)({},e,{ref:n,icon:o.Z}))};const i=r.forwardRef(s)},881:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(7460),r=t(2791);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"};var l=t(4508),s=function(e,n){return r.createElement(l.Z,(0,a.Z)({},e,{ref:n,icon:o}))};const i=r.forwardRef(s)},4483:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(7460),r=t(2791);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};var l=t(4508),s=function(e,n){return r.createElement(l.Z,(0,a.Z)({},e,{ref:n,icon:o}))};const i=r.forwardRef(s)},959:(e,n,t)=>{t.d(n,{Z:()=>C});var a=t(8887),r=t(6854),o=t(2173),l=t(2791),s=t(9809),i=t.n(s),c=t(3224),d=t(7268),u=t(1929),p=t(7838),m=t(2456),v=t(1458),g=t(3931),f=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t};const x=(0,d.i)((e=>{const{prefixCls:n,className:t,closeIcon:a,closable:r,type:o,title:s,children:d,footer:x}=e,h=f(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:y}=l.useContext(u.E_),j=y(),C=n||y("modal"),w=(0,p.Z)(j),[Z,b,S]=(0,g.ZP)(C,w),k="".concat(C,"-confirm");let E={};return E=o?{closable:null!==r&&void 0!==r&&r,title:"",footer:"",children:l.createElement(m.O,Object.assign({},e,{prefixCls:C,confirmPrefixCls:k,rootPrefixCls:j,content:d}))}:{closable:null===r||void 0===r||r,title:s,footer:null!==x&&l.createElement(v.$,Object.assign({},e)),children:d},Z(l.createElement(c.s,Object.assign({prefixCls:C,className:i()(b,"".concat(C,"-pure-panel"),o&&k,o&&"".concat(k,"-").concat(o),t,S,w)},h,{closeIcon:(0,v.b)(C,a),closable:r},E)))}));var h=t(7562);function y(e){return(0,a.ZP)((0,a.uW)(e))}const j=o.Z;j.useModal=h.Z,j.info=function(e){return(0,a.ZP)((0,a.cw)(e))},j.success=function(e){return(0,a.ZP)((0,a.vq)(e))},j.error=function(e){return(0,a.ZP)((0,a.AQ)(e))},j.warning=y,j.warn=y,j.confirm=function(e){return(0,a.ZP)((0,a.Au)(e))},j.destroyAll=function(){for(;r.Z.length;){const e=r.Z.pop();e&&e()}},j.config=a.ai,j._InternalPanelDoNotUseOrYouWillBeFired=x;const C=j},6998:(e,n,t)=>{var a=t(2458),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,n){var t,o,l,s,i,c,d=!1;n||(n={}),t=n.debug||!1;try{if(l=a(),s=document.createRange(),i=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(a){if(a.stopPropagation(),n.format)if(a.preventDefault(),"undefined"===typeof a.clipboardData){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=r[n.format]||r.default;window.clipboardData.setData(o,e)}else a.clipboardData.clearData(),a.clipboardData.setData(n.format,e);n.onCopy&&(a.preventDefault(),n.onCopy(a.clipboardData))})),document.body.appendChild(c),s.selectNodeContents(c),i.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(u){t&&console.error("unable to copy using execCommand: ",u),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(n.format||"text",e),n.onCopy&&n.onCopy(window.clipboardData),d=!0}catch(u){t&&console.error("unable to copy using clipboardData: ",u),t&&console.error("falling back to prompt"),o=function(e){var n=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,n)}("message"in n?n.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{i&&("function"==typeof i.removeRange?i.removeRange(s):i.removeAllRanges()),c&&document.body.removeChild(c),l()}return d}},3250:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(6998),r=t.n(a),o=t(2791);const l=function(e){void 0===e&&(e={});var n=(0,o.useState)(e),t=n[0],a=n[1];return[t,(0,o.useCallback)((function(e){a((function(n){return Object.assign({},n,e instanceof Function?e(n):e)}))}),[])]};const s=function(){var e=function(){var e=(0,o.useRef)(!1),n=(0,o.useCallback)((function(){return e.current}),[]);return(0,o.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n}(),n=l({value:void 0,error:void 0,noUserInteraction:!0}),t=n[0],a=n[1];return[t,(0,o.useCallback)((function(n){var t,o;if(e())try{if("string"!==typeof n&&"number"!==typeof n){var l=new Error("Cannot copy typeof "+typeof n+" to clipboard, must be a string");return void a({value:n,error:l,noUserInteraction:!0})}if(""===n){l=new Error("Cannot copy empty string to clipboard.");return void a({value:n,error:l,noUserInteraction:!0})}o=n.toString(),t=r()(o),a({value:o,error:void 0,noUserInteraction:t})}catch(l){a({value:o,error:l,noUserInteraction:t})}}),[])]}},8211:(e,n,t)=>{t.d(n,{Z:()=>r});var a=t(2791);function r(e,n){void 0===n&&(n=0);var t=(0,a.useRef)(!1),r=(0,a.useRef)(),o=(0,a.useRef)(e),l=(0,a.useCallback)((function(){return t.current}),[]),s=(0,a.useCallback)((function(){t.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((function(){t.current=!0,o.current()}),n)}),[n]),i=(0,a.useCallback)((function(){t.current=null,r.current&&clearTimeout(r.current)}),[]);return(0,a.useEffect)((function(){o.current=e}),[e]),(0,a.useEffect)((function(){return s(),i}),[n]),[l,i,s]}}}]);
//# sourceMappingURL=CrimesHediondos.0d6dde4a.chunk.js.map