(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[7286],{7018:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var s=n(1413),r=n(4925),a=n(9475),l=n(5850),i=n(184);const c=["data","fileName","loading","children"];function o(e){let{data:t,fileName:n,loading:o,children:d}=e,u=(0,r.Z)(e,c);return(0,i.jsx)(a.ZP,(0,s.Z)((0,s.Z)({onClick:()=>(0,l.ZN)("function"===typeof t?t():t,n),loading:o},u),{},{children:null!==d&&void 0!==d?d:"Download JSON"}))}},8866:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var s=n(1413),r=n(4925),a=n(6178),l=n(184);const i=["children","level"];function c(e){let{children:t,level:n}=e,c=(0,r.Z)(e,i);return(0,l.jsx)(a.Z.Title,(0,s.Z)((0,s.Z)({level:null!==n&&void 0!==n?n:3},c),{},{children:t}))}},8357:(e,t,n)=>{"use strict";n.d(t,{tj:()=>o.tj,xh:()=>o.xh,H:()=>o.H,zE:()=>o.zE,Do:()=>o.Do,Th:()=>p,F6:()=>c});n(8866);var s=n(1413),r=n(4925),a=n(3733),l=n(184);const i=["children","active","activeClass","className","hoverType"],c=e=>{let{children:t,active:n=!1,activeClass:c="",className:o="",hoverType:d="scale"}=e,u=(0,r.Z)(e,i);return(0,l.jsx)("button",(0,s.Z)((0,s.Z)({className:(0,a.Z)("transparent-button","transparent-button--".concat(d),n&&(c||"transparent-button--active"),o)},u),{},{children:t}))};var o=n(2043),d=n(952),u=n(3070),h=n(7965);function g(e){let{isLoading:t,isIdle:n,error:s,isDirty:r,isError:a,hasResponseData:i}=e;return n?(0,l.jsx)(d.Z,{children:"No Data yet"}):t?(0,l.jsx)(d.Z,{color:"blue",children:"Loading..."}):s||a?(0,l.jsx)(d.Z,{color:"red",children:"Error"}):r?(0,l.jsx)(d.Z,{color:"orange",children:"Modified"}):i?(0,l.jsx)(d.Z,{color:"green",children:"Loaded"}):(0,l.jsx)(d.Z,{children:"No Data"})}function p(e){return(0,l.jsx)(h.Pd,{children:(0,l.jsx)(u.Z.Item,{label:"Status",children:(0,l.jsx)(g,(0,s.Z)({},e))})})}},145:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var s=n(2241),r=n(3733),a=n(2606),l=n(184);const i=e=>{let{id:t,width:n=200,className:i="",preview:c=!0,fileExtension:o="jpg"}=e;const{getUrl:d}=(0,a.n)("images"),u=t.replace(/-/g,"/");return(0,l.jsx)("div",{className:(0,r.Z)("image-card",i),children:(0,l.jsx)(s.Z,{width:n,src:d("".concat(u,".").concat(o)),fallback:d("back/default.jpg"),preview:c})})}},7166:(e,t,n)=>{"use strict";n.d(t,{P:()=>i,l:()=>c});var s=n(2791),r=n(1127),a=n(184);const l=(0,s.createContext)({}),i=e=>{let{children:t}=e;const n=(0,r.AZ)(),[i,c]=(0,s.useState)(15),[o,d]=(0,s.useState)(5),[u,h]=(0,s.useState)(150),[g,p]=(0,s.useState)(!1),f=(0,r.IN)(n.data,n.setDirty,i,o);return(0,a.jsx)(l.Provider,{value:{sampleSize:i,setSampleSize:c,tagThreshold:o,setTagThreshold:d,cardSize:u,setCardSize:h,showIds:g,setShowIds:p,randomGroups:f,query:n},children:t})},c=()=>(0,s.useContext)(l)},9936:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var s=n(8622),r=n(3070),a=n(9367),l=n(7166),i=n(184);function c(){const{query:{stats:e}}=(0,l.l)();return(0,i.jsx)(r.Z.Item,{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.C,{icon:(0,i.jsx)(s.Z,{}),shape:"square",size:"small",style:{marginRight:6}}),"Stats"]}),children:(0,i.jsxs)("ul",{className:"statistic__list",children:[(0,i.jsxs)("li",{children:["Completion: ",Math.floor(100*e.total/2520),"%"]}),(0,i.jsxs)("li",{children:["Total Relationships: ",e.total]}),(0,i.jsxs)("li",{children:["Complete: ",e.complete]}),(0,i.jsxs)("li",{children:["Overdone: ",e.overdone]}),(0,i.jsxs)("li",{children:["Single Match: ",e.single]})]})})}},1127:(e,t,n)=>{"use strict";n.d(t,{AZ:()=>m,gU:()=>f,IN:()=>v});var s=n(4747),r=n(9631),a=n(763),l=n(2791),i=n(2592),c=n(5850),o=n(3713),d=n(2010),u=n(8556),h=n(4766);const g=()=>(0,a.padStart)(String((0,a.random)(1,252)),2,"0"),p=()=>(0,a.random)(1,12);function f(e,t){var n,s,r;const[a,i]=(0,l.useState)(p()),[o,d]=(0,l.useState)(g()),[u,f]=(0,l.useState)(p()),[m,v]=(0,l.useState)(g()),x="td-d".concat(a,"-").concat(o),j="td-d".concat(u,"-").concat(m),[y,S]=(0,l.useState)(0),{queryParams:b}=(0,h.K)(),Z=Number(null!==(n=b.get("cycle"))&&void 0!==n?n:3),w=null!==(s=null===e||void 0===e?void 0:e[x])&&void 0!==s?s:[],C=null!==(r=null===e||void 0===e?void 0:e[j])&&void 0!==r?r:[],E=()=>{S(0),i(p()),d(g()),f(p()),v(g())};return(0,l.useEffect)((()=>{x===j&&v(g())}),[x,j]),{cardAId:x,cardA:w,cardBId:j,cardB:C,relate:()=>{S(0),w.push(j),e[x]=(0,c.R1)(w),C.push(x),e[j]=(0,c.R1)(C),t(!0),i(u),d(m),f(p()),v(g())},unrelate:()=>{y>=Z?(S(0),E()):(S((e=>e+1)),f(p()),v(g()))},areRelated:w.includes(j),onRandomCards:E}}function m(){const[e,t]=(0,l.useState)(!1),n=["data/imageCardsRelationships"],a=(0,o.NL)(),{notification:c}=s.Z.useApp(),[h,g]=(0,l.useState)({total:0,overdone:0,complete:0,single:0}),{data:p={},isLoading:f,isSuccess:m,isError:v,error:x,isFetched:j,isRefetching:y,refetch:S}=(0,d.a)({queryKey:n,queryFn:async()=>{var e;const t=(0,r.JU)(i.RZ,"data/imageCardsRelationships");return null!==(e=(await(0,r.QT)(t)).data())&&void 0!==e?e:{}}}),{isPending:b,isError:Z,isSuccess:w,mutate:C}=(0,u.D)({mutationKey:n,mutationFn:async()=>{const e=(0,r.JU)(i.RZ,"data/imageCardsRelationships");return await(0,r.pl)(e,p),p},onSuccess:()=>{c.success({message:"Saved",placement:"bottomLeft"}),a.refetchQueries({queryKey:n}),t(!1)}});return(0,l.useEffect)((()=>{if(!y&&j){const e=Object.keys(p).length;let t=0,n=0,s=0;Object.values(p).forEach((e=>{e.length>8&&(t+=1),1===e.length&&(s+=1),e.length>2&&(n+=1)})),g({total:e,overdone:t,complete:n,single:s})}}),[j,y]),{data:p,isLoading:f,isSuccess:m,isError:v,error:x,hasData:m&&Object.keys(p).length>0,refetch:S,isSaving:b,isMutationError:Z,isSaved:w,save:C,setDirty:t,isDirty:e,stats:h}}function v(e,t,n,s){const[r,a]=(0,l.useState)([]),[i,o]=(0,l.useState)([]),[d,u]=(0,l.useState)([]),[h,f]=(0,l.useState)(0),[m,v]=(0,l.useState)(!0),[x,j]=(0,l.useState)([]),y=t=>{o((null!==t&&void 0!==t?t:r).map((t=>{var n;return null!==(n=null===e||void 0===e?void 0:e[t])&&void 0!==n?n:[]})))},S=()=>{const t=[...x];let r=0;const l=d.length<2e3?d:[];let i=0;for(;i<400&&t.length<n;){var c;const n="td-d".concat(p(),"-").concat(g()),a=null!==(c=e[n])&&void 0!==c?c:[],o=!(s>0)||a.length<s,d=!!m&&l.includes(n);t.includes(n)||d||!o||(t.push(n),r+=1),i+=1}a(t),u((e=>[...e,...t])),y(t),f((e=>e+r))};(0,l.useEffect)((()=>{0===r.length&&S()}),[r]);return{cardIds:r,cards:i,selection:x,onSelect:e=>{j((t=>{const n=[...t],s=n.indexOf(e);return s>-1?n.splice(s,1):n.push(e),n}))},relate:()=>{x.forEach((t=>{var n;const s=null!==(n=e[t])&&void 0!==n?n:[];s.push(...x.filter((e=>e!==t))),e[t]=(0,c.R1)(s)})),t(!0),j([]),y(),u([]),f(0)},nextSet:S,deselectAll:()=>{j([])},cycles:h,filters:{useCycles:m,toggleUseCycles:()=>{v((e=>!e))}}}}},4766:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var s=n(1087),r=n(263);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,n]=(0,s.lr)(),a=(e,s,r)=>{void 0===s||""===s||s===r?t.delete(e):t.set(e,String(s)),n(t)},l=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.entries(e).forEach((e=>{let[n,r]=e;s[n]===r?t.delete(n):t.set(n,String(r))})),n(t)},i=e=>{t.delete(e),n(t)},c=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return t.get(e)===String(n)};return(0,r.Z)((()=>{Object.entries(e).forEach((e=>{let[n,s]=e;t.has(n)||a(n,s)}))})),{addParam:a,addParams:l,removeParam:i,queryParams:t,is:c}}},8741:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var s=n(1790),r=n(4925),a=n(4520),l=n(1046),i=n(952),c=n(2786),o=n(2128),d=n(763),u=n(2791),h=n(7415),g=n(7460);const p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm154.7 454.5l-246 178c-5.3 3.8-12.7 0-12.7-6.5v-46.9c0-10.2 4.9-19.9 13.2-25.9L566.6 512 421.2 406.8c-8.3-6-13.2-15.6-13.2-25.9V334c0-6.5 7.4-10.3 12.7-6.5l246 178c4.4 3.2 4.4 9.8 0 13z"}}]},name:"right-circle",theme:"filled"};var f=n(4790),m=function(e,t){return u.createElement(f.Z,(0,g.Z)({},e,{ref:t,icon:p}))};const v=u.forwardRef(m);var x=n(145),j=n(7166),y=n(184);const S=["isDirty","isSaving","save","stats","data"];function b(){const e=(0,j.l)(),{query:{isDirty:t,isSaving:n,save:s,stats:g,data:p},randomGroups:{cardIds:f},showIds:m,cardSize:b}=e,w=(0,r.Z)(e.query,S),[C,{width:E}]=(0,h.Z)(),[,N]=(0,u.useMemo)((()=>{const e=Math.floor(E/b)+1;return[e,Math.floor(E/e)]}),[b,E]),I=[{title:"Length",dataIndex:"length",key:"length"},{title:"Relationships",dataIndex:"relationships",key:"relationship",render:(e,t)=>(0,y.jsx)(a.Z,{wrap:"wrap",gap:2,children:e.map((n=>(0,y.jsxs)(l.Z,{children:[(0,y.jsxs)(l.Z,{direction:"vertical",children:[(0,y.jsx)(x.f,{id:n,width:N}),m&&(0,y.jsx)(i.Z,{children:n})]}),e[e.length-1]!==n&&(0,y.jsx)(v,{})]},"".concat(t.origin,"-").concat(n))))})}],z=(0,u.useMemo)((()=>(0,d.orderBy)(f.map((e=>{const t=Z(e,p,"longest",10);return{key:e,origin:e,length:t.length,relationships:t}})),["length"],["desc"])),[f,p]);return(0,y.jsx)(o.T,{isLoading:w.isLoading,error:w.error,hasResponseData:!0,children:(0,y.jsx)("div",{ref:C,className:"my-6",children:(0,y.jsx)(c.Z,{dataSource:z,columns:I})})})}const Z=(0,d.memoize)(((e,t,n,s)=>{const r=new Set,a=[];let l=[],i=0;for(a.push({currentId:e,path:[],depth:0});a.length>0&&i<100;){var c;i++;const{currentId:e,path:o,depth:d}=null!==(c=a.pop())&&void 0!==c?c:{currentId:"",path:[],depth:0};if(r.add(e),o.push(e),"longest"===n&&o.length>l.length&&(l=[...o]),"shortest"===n&&(0===l.length||o.length<l.length)&&(l=[...o]),"any"===n&&0===l.length&&(l=[...o]),!(d>=s))for(const n of t[e]||[])r.has(n)||a.push({currentId:n,path:[...o],depth:d+1})}return l}));var w=n(9475),C=n(8357),E=n(7018),N=n(7965),I=n(6591),z=n(9936);function O(){const{query:{isDirty:e,isSaving:t,data:n,isLoading:s,isError:r},showIds:a,setShowIds:l,sampleSize:i,setSampleSize:c,cardSize:o,setCardSize:u,randomGroups:{nextSet:h}}=(0,j.l)();return(0,y.jsxs)(N.p3,{children:[(0,y.jsx)(C.Th,{isLoading:s||t,isDirty:e,isError:r,hasResponseData:!(0,d.isEmpty)(n)}),(0,y.jsxs)(N.Pd,{children:[(0,y.jsx)(C.Do,{label:"Show Ids",value:a,onChange:e=>l(e)}),(0,y.jsx)(C.zE,{onChange:e=>c(e),value:i,options:I.ZI,label:"Sample Size"}),(0,y.jsx)(C.zE,{onChange:e=>u(e),value:o,options:I.Hn,label:"Card Size"}),(0,y.jsx)(w.ZP,{onClick:h,block:!0,type:"primary",children:"New Random Sample"})]}),(0,y.jsx)(N.Pd,{children:(0,y.jsx)(z.A,{})}),(0,y.jsx)(N.Pd,{children:(0,y.jsx)(E.o,{data:n,fileName:"imageCardsRelationships.json",loading:t,disabled:(0,d.isEmpty)(n),block:!0})})]})}const R=function(){return(0,y.jsx)(N.Xg,{title:"Image Cards",subtitle:"Connections",children:(0,y.jsx)(j.P,{children:(0,y.jsxs)(s.Z,{hasSider:!0,children:[(0,y.jsx)(O,{}),(0,y.jsx)(s.Z.Content,{className:"content",children:(0,y.jsx)(b,{})})]})})})}},398:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var s=n(7460),r=n(2791);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};var l=n(4790),i=function(e,t){return r.createElement(l.Z,(0,s.Z)({},e,{ref:t,icon:a}))};const c=r.forwardRef(i)},6384:(e,t,n)=>{"use strict";function s(e){return["small","middle","large"].includes(e)}function r(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}n.d(t,{T:()=>r,n:()=>s})},4520:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var s=n(2791),r=n(9809),a=n.n(r),l=n(1498),i=n(6384),c=n(1929),o=n(6428),d=n(4628);const u=["wrap","nowrap","wrap-reverse"],h=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],g=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];const p=function(e,t){return a()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const n=!0===t.wrap?"wrap":t.wrap;return{["".concat(e,"-wrap-").concat(n)]:n&&u.includes(n)}})(e,t)),((e,t)=>{const n={};return g.forEach((s=>{n["".concat(e,"-align-").concat(s)]=t.align===s})),n["".concat(e,"-align-stretch")]=!t.align&&!!t.vertical,n})(e,t)),((e,t)=>{const n={};return h.forEach((s=>{n["".concat(e,"-justify-").concat(s)]=t.justify===s})),n})(e,t)))},f=e=>{const{componentCls:t}=e;return{[t]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},m=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},v=e=>{const{componentCls:t}=e,n={};return u.forEach((e=>{n["".concat(t,"-wrap-").concat(e)]={flexWrap:e}})),n},x=e=>{const{componentCls:t}=e,n={};return g.forEach((e=>{n["".concat(t,"-align-").concat(e)]={alignItems:e}})),n},j=e=>{const{componentCls:t}=e,n={};return h.forEach((e=>{n["".concat(t,"-justify-").concat(e)]={justifyContent:e}})),n},y=(0,o.I$)("Flex",(e=>{const{paddingXS:t,padding:n,paddingLG:s}=e,r=(0,d.IX)(e,{flexGapSM:t,flexGap:n,flexGapLG:s});return[f(r),m(r),v(r),x(r),j(r)]}),(()=>({})),{resetStyle:!1});var S=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const b=s.forwardRef(((e,t)=>{const{prefixCls:n,rootClassName:r,className:o,style:d,flex:u,gap:h,children:g,vertical:f=!1,component:m="div"}=e,v=S(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:x,direction:j,getPrefixCls:b}=s.useContext(c.E_),Z=b("flex",n),[w,C,E]=y(Z),N=null!==f&&void 0!==f?f:null===x||void 0===x?void 0:x.vertical,I=a()(o,r,null===x||void 0===x?void 0:x.className,Z,C,E,p(Z,e),{["".concat(Z,"-rtl")]:"rtl"===j,["".concat(Z,"-gap-").concat(h)]:(0,i.n)(h),["".concat(Z,"-vertical")]:N}),z=Object.assign(Object.assign({},null===x||void 0===x?void 0:x.style),d);return u&&(z.flex=u),h&&!(0,i.n)(h)&&(z.gap=h),w(s.createElement(m,Object.assign({ref:t,className:I,style:z},(0,l.Z)(v,["justify","wrap","align"])),g))}));const Z=b},1291:e=>{function t(e,t){if((e=e.replace(/\s+/g,""))===(t=t.replace(/\s+/g,"")))return 1;if(e.length<2||t.length<2)return 0;let n=new Map;for(let r=0;r<e.length-1;r++){const t=e.substring(r,r+2),s=n.has(t)?n.get(t)+1:1;n.set(t,s)}let s=0;for(let r=0;r<t.length-1;r++){const e=t.substring(r,r+2),a=n.has(e)?n.get(e):0;a>0&&(n.set(e,a-1),s++)}return 2*s/(e.length+t.length-2)}e.exports={compareTwoStrings:t,findBestMatch:function(e,n){if(!function(e,t){return"string"===typeof e&&(!!Array.isArray(t)&&(!!t.length&&!t.find((function(e){return"string"!==typeof e}))))}(e,n))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const s=[];let r=0;for(let l=0;l<n.length;l++){const a=n[l],i=t(e,a);s.push({target:a,rating:i}),i>s[r].rating&&(r=l)}const a=s[r];return{ratings:s,bestMatch:a,bestMatchIndex:r}}}}}]);
//# sourceMappingURL=ImageCardsConnections.c9a86431.chunk.js.map