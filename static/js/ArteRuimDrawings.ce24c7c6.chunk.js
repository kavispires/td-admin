"use strict";(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[3265],{8866:(e,t,a)=>{a.d(t,{N:()=>c});var r=a(1413),n=a(4925),s=a(6178),i=a(184);const o=["children","level"];function c(e){let{children:t,level:a}=e,c=(0,n.Z)(e,o);return(0,i.jsx)(s.Z.Title,(0,r.Z)((0,r.Z)({level:null!==a&&void 0!==a?a:3},c),{},{children:t}))}},8357:(e,t,a)=>{a.d(t,{tj:()=>d.tj,xh:()=>d.xh,H:()=>d.H,zE:()=>d.zE,Do:()=>d.Do,Th:()=>f,F6:()=>c});a(8866);var r=a(1413),n=a(4925),s=a(3733),i=a(184);const o=["children","active","activeClass","className","hoverType"],c=e=>{let{children:t,active:a=!1,activeClass:c="",className:d="",hoverType:l="scale"}=e,u=(0,n.Z)(e,o);return(0,i.jsx)("button",(0,r.Z)((0,r.Z)({className:(0,s.Z)("transparent-button","transparent-button--".concat(l),a&&(c||"transparent-button--active"),d)},u),{},{children:t}))};var d=a(2043),l=a(952),u=a(3070),g=a(7965);function v(e){let{isLoading:t,isIdle:a,error:r,isDirty:n,isError:s,hasResponseData:o}=e;return a?(0,i.jsx)(l.Z,{children:"No Data yet"}):t?(0,i.jsx)(l.Z,{color:"blue",children:"Loading..."}):r||s?(0,i.jsx)(l.Z,{color:"red",children:"Error"}):n?(0,i.jsx)(l.Z,{color:"orange",children:"Modified"}):o?(0,i.jsx)(l.Z,{color:"green",children:"Loaded"}):(0,i.jsx)(l.Z,{children:"No Data"})}function f(e){return(0,i.jsx)(g.Pd,{children:(0,i.jsx)(u.Z.Item,{label:"Status",children:(0,i.jsx)(v,(0,r.Z)({},e))})})}},2228:(e,t,a)=>{a.d(t,{Q:()=>n});var r=a(184);const n=e=>{var t,a;let{drawing:n="",className:s="",width:i=250,height:o,strokeWidth:c="medium",viewBox:d="0 0 500 500"}=e;const l=JSON.parse(n),u=l.map((e=>{let t="";for(let a=0,r=1;r<e.length;a+=2,r+=2)e[a+2]&&e[r+2]&&(t+="M".concat(e[a],",").concat(e[r]," L").concat(e[a+2],",").concat(e[r+2]));return t}));const g=null!==(t=null===(a={small:3,medium:5,large:7})||void 0===a?void 0:a[c])&&void 0!==t?t:5;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:d,overflow:"hidden",className:s,style:{width:"".concat(i,"px"),height:"".concat(o||i,"px")},children:[(0,r.jsx)("defs",{}),u.map(((e,t)=>(0,r.jsx)("path",{d:e,fill:"none",stroke:"#000",strokeWidth:g,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10"},"".concat(n,"-").concat(t))))]})}},8841:(e,t,a)=>{a.r(t),a.d(t,{ArteRuimDrawings:()=>M,default:()=>R});var r=a(1413),n=a(1790),s=a(5625),i=a(4520),o=a(3164),c=a(2228),d=a(4766),l=a(763),u=a(2426),g=a.n(u),v=a(2425),f=a(2791),m=a(184);function p(e){const{queryParams:t}=(0,d.K)();return"drawings"===t.get("view")?(0,m.jsx)(h,(0,r.Z)({},e)):(0,m.jsx)(w,(0,r.Z)({},e))}function w(e){const t=(0,f.useMemo)((()=>(0,l.orderBy)(Object.values(e.drawingsPerArtist),["drawingsCount"],["desc"])),[e.drawingsPerArtist]),a=[{title:"Artist",dataIndex:"artistId",key:"artistId",render:e=>(0,m.jsx)(o.s4,{value:e})},{title:"Alias",dataIndex:"artistId",key:"artistId",render:e=>{var t;return null!==(t=null===v.Jj||void 0===v.Jj?void 0:v.Jj[e.substring(0,5)])&&void 0!==t?t:""}},{title:"Drawings",dataIndex:"drawingsCount",key:"drawingsCount"},{title:"First Drawing",dataIndex:"firstDrawingAt",key:"firstDrawingAt",render:e=>(0,m.jsxs)("span",{children:[g()(e).format("MM/DD/YYYY HH:mm:ss")," ",(0,m.jsx)(o.s4,{value:e})]})},{title:"Last Drawing",dataIndex:"lastDrawingAt",key:"lastDrawingAt",render:e=>g()(e).format("MM/DD/YYYY HH:mm:ss")}];return(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{children:"ArteRuimDrawingsContent"}),(0,m.jsx)(s.Z,{columns:a,dataSource:t,rowKey:"artistId"})]})}function h(e){const t=(0,f.useMemo)((()=>(0,l.orderBy)(Object.values(e.drawings),[e=>Number(e.id.split("-")[1])],["asc"])),[e.drawings]),a=[{title:"Card",dataIndex:"id",key:"id",render:e=>(0,m.jsx)(o.s4,{value:e})},{title:"Text",dataIndex:"text",key:"text"},{title:"Drawings",dataIndex:"drawings",key:"drawings",render:e=>(0,m.jsx)(i.Z,{gap:8,children:e.map((e=>(0,m.jsxs)("div",{children:[(0,m.jsx)(c.Q,{drawing:e.drawing,width:50,className:"canvas"},e.id),(0,m.jsx)("pre",{children:e.artistId.substring(0,5)})]},e.id)))})}];return(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{children:"ArteRuimDrawingsContent"}),(0,m.jsx)(s.Z,{columns:a,dataSource:t,rowKey:"cardId"})]})}var x=a(7691),y=a(7460);const j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};var b=a(4790),D=function(e,t){return f.createElement(b.Z,(0,y.Z)({},e,{ref:t,icon:j}))};const A=f.forwardRef(D);var C=a(7128),Z=a(8357),I=a(7018),k=a(7965),E=a(5850);function S(e){var t,a;const{queryParams:r,addParam:n}=(0,d.K)(),s=r.get("language");return(0,m.jsxs)(k.Pd,{children:[(0,m.jsx)(i.Z,{vertical:!0,gap:12,children:(0,m.jsx)(I.o,{data:()=>{return t=e.drawings,(0,E.Tj)(t);var t},fileName:"arte-ruim-drawings-".concat(s,".json"),disabled:!s,block:!0})}),(0,m.jsx)(C.Z,{}),(0,m.jsx)(Z.zE,{label:"Language",value:null!==(t=r.get("language"))&&void 0!==t?t:"--",onChange:e=>n("language",e),options:["--","pt","en"]}),(0,m.jsx)(Z.H,{label:"Type",value:null!==(a=r.get("view"))&&void 0!==a?a:"artists",onChange:e=>n("view",e),options:[{value:"drawings",title:"Drawings",icon:(0,m.jsx)(x.Z,{})},{value:"artists",title:"Artists",icon:(0,m.jsx)(A,{})}]})]})}var N=a(2128),L=a(4562);function M(){const{queryParams:e}=(0,d.K)(),t=e.get("language"),a=(0,v.Kf)(!!t&&"--"!==t,null!==t&&void 0!==t?t:"--");return(0,m.jsx)(k.Xg,{title:"Arte Ruim Drawings",children:(0,m.jsxs)(n.Z,{hasSider:!0,children:[(0,m.jsx)(L.p,{children:(0,m.jsx)(S,(0,r.Z)({},a))}),(0,m.jsx)(n.Z.Content,{className:"content",children:(0,m.jsx)(N.T,{isLoading:a.isLoading,error:a.error,hasResponseData:a.hasResponseData,children:(0,m.jsx)(p,(0,r.Z)({},a))})})]})})}const R=M},2425:(e,t,a)=>{a.d(t,{Jj:()=>v,Kf:()=>g});var r=a(2010),n=a(7342),s=a(4747),i=a(8027),o=a(5529),c=a(763),d=a(2791),l=a(2592),u=a(6591);function g(e,t){const a=function(e,t){var a,o;const{notification:c}=s.Z.useApp(),u=(0,r.a)({queryKey:["data","suffixCounts"],queryFn:(0,i.A)("data","suffixCounts"),enabled:e});(0,d.useEffect)((()=>{u.isSuccess&&(0,l.tS)("Loaded data/suffixCounts")}),[u.isSuccess]),(0,d.useEffect)((()=>{u.isError&&c.error({message:"Error loading data/suffixCounts",placement:"bottomLeft"})}),[u.isError]);const g={pt:"drawingsPT",en:"drawingsEN"}[null!==t&&void 0!==t?t:"pt"],v=null!==(a=null===(o=u.data)||void 0===o?void 0:o[g])&&void 0!==a?a:0,f="drawings".concat("pt"===t?"PT":"EN"),m=(0,d.useMemo)((()=>new Array(v).fill(0).map(((t,a)=>({queryKey:["data","".concat(f).concat(a+1)],queryFn:(0,i.A)("data","".concat(f).concat(a+1)),enabled:e&&Boolean(v),onSuccess:()=>{c.info({message:"Data Drawings ".concat(f).concat(a+1," loaded"),placement:"bottomLeft"})}})))),[v,f,e]);return(0,n.h)({queries:m})}(e,t),g=(0,o.N)("arte-ruim-drawings-".concat(t),e),v=a.some((e=>e.isLoading)),f=a.every((e=>e.isSuccess)),m=(0,d.useMemo)((()=>{var e;if(!f)return{};if(!g.isSuccess)return{};const t=null!==(e=g.data)&&void 0!==e?e:{};return(null!==a&&void 0!==a?a:[]).forEach((e=>{var a;const r=null!==(a=e.data)&&void 0!==a?a:{};Object.entries(r).forEach((e=>{var a,r;let[n,s]=e;const i=null!==(a=s.cardId)&&void 0!==a?a:s.id;if(null!==i&&void 0!==i&&i.includes("--"))return;if(s.drawing.trim().length<10)return void console.log("\ud83d\udd06 Empty drawing",i);const o=function(e){const t=e.split(/::|:;|;;/)[1],a=Number(t);return Number.isNaN(a)&&console.log("\ud83d\udd06 Invalid createdAt",e,a),Number.isNaN(a)?16191612e5:a}(n),c=null!==(r=s.playerId)&&void 0!==r?r:"unknown",d={id:[i,c,o].join(u.UD),drawing:s.drawing,artistId:c,createdAt:o};void 0===t[i]?t[i]={id:i,text:s.text,drawings:[d],updatedAt:d.createdAt}:t[i].drawings.some((e=>e.id===d.id))||(t[i].drawings.push(d),d.createdAt>t[i].updatedAt&&(t[i].updatedAt=d.createdAt))}))})),t}),[a,f,g.data,g.isSuccess]),p=(0,d.useMemo)((()=>Object.values(m).reduce(((e,t)=>(t.drawings.forEach((t=>{const a=t.artistId;void 0===e[a]?e[a]={artistId:a,drawingsCount:1,firstDrawingAt:t.createdAt,lastDrawingAt:t.createdAt}:(e[a].drawingsCount+=1,t.createdAt<e[a].firstDrawingAt&&(e[a].firstDrawingAt=t.createdAt),t.createdAt>e[a].lastDrawingAt&&(e[a].lastDrawingAt=t.createdAt))})),e)),{})),[m]);return{isLoading:v||g.isLoading,error:g.error,hasResponseData:!(0,c.isEmpty)(m),drawings:m,drawingsPerArtist:Object.values(p)}}const v={"3PkJr":"Flaviane","3c4lY":"Kavis",BPTEL:"Maris","0vuXf":"Marcio",Bm6dr:"Livia",QrfLz:"Stephanie",AlRvI:"Unknown",pK3OY:"Unknown",VF9iG:"Zenaide",WWUvD:"Fernanda",aec7L:"Anonymous",Xsimf:"Carol",fV5ns:"Diego",qQo9N:"Laura",yVAl7:"Rodrigo",O2IQm:"Drica","24qec":"Mariana"}},8955:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(7460),n=a(2791);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M834.1 469.2A347.49 347.49 0 00751.2 354l-29.1-26.7a8.09 8.09 0 00-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 01-47.5 46.1 352.6 352.6 0 00-100.3 121.5A347.75 347.75 0 00160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0075.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 00760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0027.7-136c0-48.8-10-96.2-29.9-140.9z"}}]},name:"fire",theme:"filled"};var i=a(4790),o=function(e,t){return n.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:s}))};const c=n.forwardRef(o)},5458:(e,t,a)=>{a.d(t,{Z:()=>c});var r=a(7460),n=a(2791);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560zM610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z"}}]},name:"idcard",theme:"outlined"};var i=a(4790),o=function(e,t){return n.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:s}))};const c=n.forwardRef(o)},6998:(e,t,a)=>{var r=a(2458),n={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var a,s,i,o,c,d,l=!1;t||(t={}),a=t.debug||!1;try{if(i=r(),o=document.createRange(),c=document.getSelection(),(d=document.createElement("span")).textContent=e,d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var s=n[t.format]||n.default;window.clipboardData.setData(s,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(d),o.selectNodeContents(d),c.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(u){a&&console.error("unable to copy using execCommand: ",u),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(u){a&&console.error("unable to copy using clipboardData: ",u),a&&console.error("falling back to prompt"),s=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(s,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(o):c.removeAllRanges()),d&&document.body.removeChild(d),i()}return l}},3250:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(6998),n=a.n(r),s=a(2791);const i=function(e){void 0===e&&(e={});var t=(0,s.useState)(e),a=t[0],r=t[1];return[a,(0,s.useCallback)((function(e){r((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[])]};const o=function(){var e=function(){var e=(0,s.useRef)(!1),t=(0,s.useCallback)((function(){return e.current}),[]);return(0,s.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t}(),t=i({value:void 0,error:void 0,noUserInteraction:!0}),a=t[0],r=t[1];return[a,(0,s.useCallback)((function(t){var a,s;if(e())try{if("string"!==typeof t&&"number"!==typeof t){var i=new Error("Cannot copy typeof "+typeof t+" to clipboard, must be a string");return void r({value:t,error:i,noUserInteraction:!0})}if(""===t){i=new Error("Cannot copy empty string to clipboard.");return void r({value:t,error:i,noUserInteraction:!0})}s=t.toString(),a=n()(s),r({value:s,error:void 0,noUserInteraction:a})}catch(i){r({value:s,error:i,noUserInteraction:a})}}),[])]}}}]);
//# sourceMappingURL=ArteRuimDrawings.ce24c7c6.chunk.js.map