"use strict";(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[5829],{5597:(e,t,l)=>{l.d(t,{FX:()=>d,Pm:()=>u});var n=l(4520),a=l(4766),r=l(763),s=l(2791),i=l(2043),o=l(184);function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const l=Object.keys(Object.values(e).reduce(((e,l)=>(Object.keys(l).forEach((l=>{e[l]||t.includes(l)||(e[l]=!0)})),e)),{})),n=[],a=[];return l.forEach((t=>{const l=Object.values(e).map((e=>e[t])),r=Array.from(new Set(l)),s=r.length/l.length;s>=.05&&n.push(t),s<=.9&&a.push({label:t,options:[{label:"All",value:""},...r.sort().map((e=>({label:String(e),value:e})))]})})),{filters:a,sortableKeys:n}}function u(e){var t,l;let{data:u,ignoreKeys:d=[]}=e;const{queryParams:v,addParam:g}=(0,a.K)(),p=(0,s.useMemo)((()=>c(u,d)),[u,d]);return(0,o.jsxs)(n.Z,{vertical:!0,style:{overflowY:"auto"},children:[p.filters.map((e=>{var t;return(0,o.jsx)(i.zE,{label:(0,r.capitalize)(e.label),options:e.options,onChange:t=>g(e.label.toLowerCase(),t),value:null!==(t=v.get(e.label.toLowerCase()))&&void 0!==t?t:""},e.label)})),(0,o.jsx)(i.zE,{label:"Sort by",options:p.sortableKeys.map((e=>({label:(0,r.capitalize)(e),value:e}))),onChange:e=>g("sort",e),value:null!==(t=v.get("sort"))&&void 0!==t?t:""}),(0,o.jsx)(i.zE,{label:"Order",options:[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],onChange:e=>g("order",e),value:null!==(l=v.get("order"))&&void 0!==l?l:"asc"})]})}function d(e){var t;const{queryParams:l}=(0,a.K)(),n=(0,s.useMemo)((()=>c(e)),[e]),i=(0,s.useMemo)((()=>Array.from(l.entries()).filter((e=>{let[t]=e;return n.filters.some((e=>e.label.toLowerCase()===t))})).reduce(((e,t)=>{let[l,n]=t;return e[l]=n,e}),{})),[l,n]),o=null!==(t=l.get("sort"))&&void 0!==t?t:"id",u="desc"===l.get("order")?"desc":"asc";return(0,s.useMemo)((()=>{const t=Object.values(e).filter((e=>Object.entries(i).every((t=>{let[l,n]=t;return String(e[l])===n}))));return(0,r.orderBy)(t,o,u)}),[e,i,o,u])}},2228:(e,t,l)=>{l.d(t,{N:()=>c});var n=l(1413),a=l(4925),r=l(2658),s=l(1046),i=l(184);const o=["children","pagination"];function c(e){let{children:t,pagination:l}=e,c=(0,a.Z)(e,o);const u=(0,i.jsx)(r.Z,(0,n.Z)((0,n.Z)({showQuickJumper:!0},l),{},{className:"fixed-pagination"}));return(0,i.jsxs)(s.Z,(0,n.Z)((0,n.Z)({direction:"vertical"},c),{},{children:[u,t,u]}))}},145:(e,t,l)=>{l.d(t,{f:()=>i});var n=l(2241),a=l(3733),r=l(2606),s=l(184);const i=e=>{let{id:t,width:l=200,className:i="",preview:o=!0,fileExtension:c="jpg"}=e;const{getUrl:u}=(0,r.n)("images"),d=t.replace(/-/g,"/");return(0,s.jsx)("div",{className:(0,a.Z)("image-card",i),children:(0,s.jsx)(n.Z,{width:l,src:u("".concat(d,".").concat(c)),fallback:u("back/default.jpg"),preview:o})})}},4290:(e,t,l)=>{l.d(t,{e:()=>s});var n=l(2791),a=l(4421),r=l(4766);function s(e){var t,l;let{prefix:s="",data:i,defaultCurrent:o=1,defaultPageSize:c=64,pageSizeOptions:u=[16,32,64,128],resetter:d}=e;const{queryParams:v,addParam:g}=(0,r.K)(),p=Number(null!==(t=v.get("".concat(s,"page")))&&void 0!==t?t:String(o)),x=Number(null!==(l=v.get("".concat(s,"pageSize")))&&void 0!==l?l:String(c)),h=(0,a.Z)(d),m=(0,n.useMemo)((()=>{const e=(p-1)*x,t=e+x;return i.slice(e,t)}),[p,x,i]),j=e=>{g("".concat(s,"page"),e.toString(),String(o))};return d!==h&&j(o),{page:m,pagination:{current:p,pageSize:x,onChange:j,onShowSizeChange:(e,t)=>{g("".concat(s,"pageSize"),t.toString(),String(c))},defaultCurrent:o,defaultPageSize:c,pageSizeOptions:u,total:i.length,hideOnSinglePage:!0}}}},6654:(e,t,l)=>{l.r(t),l.d(t,{Contenders:()=>R,default:()=>A});var n=l(1413),a=l(1790),r=l(6178),s=l(4520),i=l(5597),o=l(2228),c=l(4290),u=l(1752),d=l(6473),v=l(906),g=l(4424),p=l(9228),x=l(3164),h=l(1310),m=l(145),j=l(763),f=l(5850),y=l(6591),b=l(184);const Z=[{value:"base",label:"Base"},{value:"anime",label:"Anime"},{value:"art",label:"Art"},{value:"cartoon",label:"Cartoon"},{value:"characters",label:"Characters"},{value:"comics",label:"Comics"},{value:"games",label:"Games"},{value:"history",label:"History"},{value:"internet",label:"Internet"},{value:"literature",label:"Literature"},{value:"movies",label:"Movies"},{value:"music",label:"Music"},{value:"mythology",label:"Mythology"},{value:"pop-culture",label:"Pop Culture"},{value:"random",label:"Random"},{value:"sports",label:"Sports"},{value:"television",label:"Television"},{value:"special-td",label:"Special TD"},{value:"special-td-bg",label:"Special TD BG"}],C=(e,t)=>{if(!e||0===e.length)return"warning";return e.filter((e=>!Z.some((t=>t.value===e)))).length>0||t&&e.includes("base")?"error":void 0};function w(e){var t,l,a;let{contender:r,addEntryToUpdate:i}=e;const o=(e,t,l)=>{i(r.id,(0,j.merge)({[t]:{en:"",pt:""}},r,{[t]:{[l]:e}}))};return(0,b.jsxs)(d.Z,{hoverable:!0,"style-":{width:240,maxWidth:240},cover:(0,b.jsx)(m.f,{id:r.id,width:240}),children:[(0,b.jsx)(d.Z.Meta,{title:r.id,description:(0,b.jsxs)(s.Z,{vertical:!0,children:[(0,b.jsx)(x.__,{children:"Name"}),(0,b.jsx)(x.aW,{value:r.name,language:"en",onChange:e=>o(e.target.value,"name","en")}),(0,b.jsx)(x.aW,{value:r.name,language:"pt",onChange:e=>o(e.target.value,"name","pt")}),(0,b.jsx)(x.__,{children:"Description"}),(0,b.jsx)(x.aW,{value:null!==(t=r.description)&&void 0!==t?t:y.Xw,language:"en",onChange:e=>o(e.target.value,"description","en")}),(0,b.jsx)(x.aW,{value:null!==(l=r.description)&&void 0!==l?l:y.Xw,language:"pt",onChange:e=>o(e.target.value,"description","pt")}),(0,b.jsx)(x.__,{children:"Decks"}),(0,b.jsx)(v.Z,{mode:"multiple",defaultValue:null!==(a=r.decks)&&void 0!==a?a:[],size:"small",options:Z,onChange:e=>{return t=e,void i(r.id,(0,n.Z)((0,n.Z)({},r),{},{decks:(0,f.R1)(t).sort()}));var t},style:{maxWidth:"calc(100vw / 9)"},status:C(r.decks,r.exclusivity)}),(0,b.jsxs)(s.Z,{align:"center",children:[(0,b.jsx)(x.__,{children:"NSFW"})," ",(0,b.jsx)(x.js,{value:r.nsfw,size:"small",onChange:e=>{return t=e,void i(r.id,(0,j.merge)(r,{nsfw:t}));var t}})]}),(0,b.jsxs)(s.Z,{align:"center",gap:8,children:[(0,b.jsx)(x.__,{children:"Exclusivity"})," ",(0,b.jsx)(E,{contender:r,addEntryToUpdate:i})]})]})}),(0,b.jsx)(d.Z.Meta,{})]})}function E(e){let{contender:t,addEntryToUpdate:l}=e;const n=[{value:"en",label:(0,b.jsx)(h.H,{language:"en",style:{width:24}})},{value:"pt",label:(0,b.jsx)(h.H,{language:"pt",style:{width:24}})},{value:"none",label:"None"}],a=(0,b.jsx)(s.Z,{gap:8,children:(0,b.jsx)(g.ZP.Group,{options:n,onChange:e=>{return n=e.target.value,void l(t.id,(0,j.merge)(t,{exclusivity:n}));var n},value:null===t||void 0===t?void 0:t.exclusivity})});return(0,b.jsxs)(s.Z,{gap:8,children:["en"===(null===t||void 0===t?void 0:t.exclusivity)&&(0,b.jsx)(h.H,{language:"en",style:{width:24}}),"pt"===(null===t||void 0===t?void 0:t.exclusivity)&&(0,b.jsx)(h.H,{language:"pt",style:{width:24}}),!(null!==t&&void 0!==t&&t.exclusivity)&&"None",(0,b.jsx)(p.Z,{title:"Change exclusivity?",content:a,trigger:"click",children:(0,b.jsx)(u.Z,{})})]})}function N(e){let{data:t,addEntryToUpdate:l}=e;const n=(0,i.FX)(t),{page:a,pagination:u}=(0,c.e)({data:n,resetter:"",defaultPageSize:32});return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(r.Z.Title,{level:2,children:["Listing - Contenders (",n.length," | ",Object.values(null!==t&&void 0!==t?t:{}).length,")"]}),(0,b.jsx)(o.N,{pagination:u,className:"full-width",children:(0,b.jsx)(s.Z,{gap:16,wrap:"wrap",children:a.map((e=>(0,b.jsx)(w,{contender:e,addEntryToUpdate:l},e.id)))})})]})})}var S=l(2128),k=l(7128),O=l(7018),z=l(7340),T=l(7965),P=l(2791);function M(e){let{data:t,isDirty:l,save:n,isSaving:a,entriesToUpdate:r}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(T.Pd,{children:(0,b.jsxs)(s.Z,{vertical:!0,gap:12,children:[(0,b.jsx)(z.k,{isDirty:l,onSave:n,isSaving:a,dirt:JSON.stringify(r)}),(0,b.jsx)(O.o,{data:()=>function(e){console.log("Preparing file for download...");const t=(0,j.cloneDeep)(e);return Object.values(t).forEach((e=>{const t=e.exclusivity;void 0!==e.exclusivity&&"none"!==t||(e.exclusivity=void 0)})),(0,f.Tj)((0,f.ET)(t))}(t),fileName:"contenders.json",disabled:l,block:!0})]})}),(0,b.jsx)(T.Pd,{children:(0,b.jsx)(i.Pm,{data:t,ignoreKeys:["description"]})}),(0,b.jsx)(T.Pd,{children:(0,b.jsx)(D,{data:t})})]})}function D(e){let{data:t}=e;const l=(0,P.useMemo)((()=>{let e=0,l=0,n=0;const a=Object.values(t).reduce(((t,a)=>{var r;return(null!==(r=a.decks)&&void 0!==r?r:[]).forEach((e=>{t[e]=t[e]?t[e]+1:1})),"en"===a.exclusivity&&e++,"pt"===a.exclusivity&&l++,a.exclusivity||n++,t}),{});return{deckCounts:a,invalidDecks:Object.keys(a).filter((e=>!Z.some((t=>t.value===e)))),englishExclusivity:e,portugueseExclusivity:l,bothExclusivity:n}}),[t]);return(0,b.jsxs)(s.Z,{vertical:!0,gap:8,children:[(0,b.jsx)(r.Z.Text,{strong:!0,children:"Deck Counts"}),(0,b.jsx)(s.Z,{vertical:!0,gap:8,style:{maxHeight:"300px",overflowY:"auto"},children:Z.map((e=>{var t;return(0,b.jsxs)(r.Z.Text,{children:[e.label,": ",null!==(t=l.deckCounts[e.value])&&void 0!==t?t:0]},e.value)}))}),(0,b.jsx)(k.Z,{className:"my-2"}),(0,b.jsx)(r.Z.Text,{strong:!0,children:"Invalid Decks"}),(0,b.jsx)(s.Z,{vertical:!0,gap:8,style:{maxHeight:"300px",overflowY:"auto"},children:l.invalidDecks.map((e=>(0,b.jsx)(r.Z.Text,{children:e},e)))}),(0,b.jsx)(k.Z,{className:"my-2"}),(0,b.jsx)(r.Z.Text,{strong:!0,children:"Exclusivity"}),(0,b.jsxs)(s.Z,{vertical:!0,gap:8,children:[(0,b.jsxs)(r.Z.Text,{children:["English: ",l.englishExclusivity]}),(0,b.jsxs)(r.Z.Text,{children:["Portuguese: ",l.portugueseExclusivity]}),(0,b.jsxs)(r.Z.Text,{children:["Both: ",l.bothExclusivity]})]})]})}var _=l(4562),H=l(8938);function R(){const e=(0,H.i)({tdrResourceName:"contenders",firebaseDataCollectionName:"contenders",serialize:!0});return(0,b.jsx)(T.Xg,{title:"Contenders",subtitle:"Characters, Celebrities, Personalities",children:(0,b.jsxs)(a.Z,{hasSider:!0,children:[(0,b.jsx)(_.p,{children:(0,b.jsx)(M,(0,n.Z)({},e))}),(0,b.jsx)(a.Z.Content,{className:"content",children:(0,b.jsx)(S.T,{isLoading:e.isLoading,error:e.error,hasResponseData:!(0,j.isEmpty)(e.data),children:(0,b.jsx)(N,(0,n.Z)({},e))})})]})})}const A=R},4483:(e,t,l)=>{l.d(t,{Z:()=>o});var n=l(7460),a=l(2791);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};var s=l(4790),i=function(e,t){return a.createElement(s.Z,(0,n.Z)({},e,{ref:t,icon:r}))};const o=a.forwardRef(i)},1046:(e,t,l)=>{l.d(t,{Z:()=>m});var n=l(2791),a=l(9809),r=l.n(a),s=l(6927),i=l(6384),o=l(1929),c=l(11);const u=n.createContext({latestIndex:0}),d=u.Provider,v=e=>{let{className:t,index:l,children:a,split:r,style:s}=e;const{latestIndex:i}=n.useContext(u);return null===a||void 0===a?null:n.createElement(n.Fragment,null,n.createElement("div",{className:t,style:s},a),l<i&&r&&n.createElement("span",{className:"".concat(t,"-split")},r))};var g=l(1294),p=function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(l[n[a]]=e[n[a]])}return l};const x=n.forwardRef(((e,t)=>{var l,a,c;const{getPrefixCls:u,space:x,direction:h}=n.useContext(o.E_),{size:m=(null!==(l=null===x||void 0===x?void 0:x.size)&&void 0!==l?l:"small"),align:j,className:f,rootClassName:y,children:b,direction:Z="horizontal",prefixCls:C,split:w,style:E,wrap:N=!1,classNames:S,styles:k}=e,O=p(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[z,T]=Array.isArray(m)?m:[m,m],P=(0,i.n)(T),M=(0,i.n)(z),D=(0,i.T)(T),_=(0,i.T)(z),H=(0,s.Z)(b,{keepEmpty:!0}),R=void 0===j&&"horizontal"===Z?"center":j,A=u("space",C),[L,W,F]=(0,g.Z)(A),K=r()(A,null===x||void 0===x?void 0:x.className,W,"".concat(A,"-").concat(Z),{["".concat(A,"-rtl")]:"rtl"===h,["".concat(A,"-align-").concat(R)]:R,["".concat(A,"-gap-row-").concat(T)]:P,["".concat(A,"-gap-col-").concat(z)]:M},f,y,F),U=r()("".concat(A,"-item"),null!==(a=null===S||void 0===S?void 0:S.item)&&void 0!==a?a:null===(c=null===x||void 0===x?void 0:x.classNames)||void 0===c?void 0:c.item);let V=0;const I=H.map(((e,t)=>{var l,a;null!==e&&void 0!==e&&(V=t);const r=(null===e||void 0===e?void 0:e.key)||"".concat(U,"-").concat(t);return n.createElement(v,{className:U,key:r,index:t,split:w,style:null!==(l=null===k||void 0===k?void 0:k.item)&&void 0!==l?l:null===(a=null===x||void 0===x?void 0:x.styles)||void 0===a?void 0:a.item},e)})),B=n.useMemo((()=>({latestIndex:V})),[V]);if(0===H.length)return null;const G={};return N&&(G.flexWrap="wrap"),!M&&_&&(G.columnGap=z),!P&&D&&(G.rowGap=T),L(n.createElement("div",Object.assign({ref:t,className:K,style:Object.assign(Object.assign(Object.assign({},G),null===x||void 0===x?void 0:x.style),E)},O),n.createElement(d,{value:B},I)))})),h=x;h.Compact=c.ZP;const m=h},4421:(e,t,l)=>{l.d(t,{Z:()=>a});var n=l(2791);function a(e){var t=(0,n.useRef)();return(0,n.useEffect)((function(){t.current=e})),t.current}},8211:(e,t,l)=>{l.d(t,{Z:()=>a});var n=l(2791);function a(e,t){void 0===t&&(t=0);var l=(0,n.useRef)(!1),a=(0,n.useRef)(),r=(0,n.useRef)(e),s=(0,n.useCallback)((function(){return l.current}),[]),i=(0,n.useCallback)((function(){l.current=!1,a.current&&clearTimeout(a.current),a.current=setTimeout((function(){l.current=!0,r.current()}),t)}),[t]),o=(0,n.useCallback)((function(){l.current=null,a.current&&clearTimeout(a.current)}),[]);return(0,n.useEffect)((function(){r.current=e}),[e]),(0,n.useEffect)((function(){return i(),o}),[t]),[s,o,i]}}}]);
//# sourceMappingURL=Contenders.9bad0e25.chunk.js.map