{"version":3,"file":"static/js/ImageCardsComparator.69ae0a47.chunk.js","mappings":"wNASO,SAASA,EAAT,GAA6E,IAApD,KAAEC,EAAF,QAAQC,GAA2C,EAA/BC,GAA+B,YACjF,OACE,SAAC,KAAD,QACEC,WAAWC,EAAAA,EAAAA,GAAK,qBAAsBJ,GAAQ,6BAC9CK,UAAU,EACVC,OAAO,SAAC,KAAD,CAAQC,QAASN,EAASO,KAAK,OAAOC,MAAM,SAASC,MAAM,SAAC,IAAD,OAC9DR,GAGT,C,0DCLM,SAASS,EACdC,EACAC,GAOA,MAAOC,GAAK,MAAEC,KAAWC,EAAAA,EAAAA,MACnB,IAAEC,EAAM,GAAR,SAAYC,EAAW,IAAvB,SAA4BC,EAAW,IAAvC,OAA4CC,EAAS,GAArD,OAA2DP,QAA3D,IAA2DA,EAAAA,EAAW,CAAC,EAS7E,MAAO,EAPWQ,EAAAA,EAAAA,UAAQ,KACxB,MAAMC,EAAQC,KAAKC,IAAID,KAAKE,IAAIF,KAAKG,OAAOX,EAAQK,GAAUR,GAAYK,EAAKC,GAAWC,GAC1F,OAAOQ,OAAOC,MAAMN,GAASJ,EAAWI,CAAxC,GACC,CAACP,EAAOH,EAAUK,EAAKC,EAAUC,EAAUC,IAEzBN,EAGtB,C,qJCzBD,QANiB,SAAUe,GACvB,IAAIC,GAAQC,EAAAA,EAAAA,QAAOF,GAEnBC,EAAME,QAAUH,GAChBI,EAAAA,EAAAA,IAAc,WAAc,OAAO,WAAc,OAAOH,EAAME,SAAY,CAAG,GAChF,ECSD,QAdkB,SAAUE,GACxB,IAAIC,GAAQJ,EAAAA,EAAAA,QAAO,GACfK,GAAKC,EAAAA,EAAAA,UAASH,GAAeI,EAAQF,EAAG,GAAIG,EAAWH,EAAG,GAC1DI,GAAcC,EAAAA,EAAAA,cAAY,SAAUnB,GACpCoB,qBAAqBP,EAAMH,SAC3BG,EAAMH,QAAUW,uBAAsB,WAClCJ,EAASjB,EACZ,GACJ,GAAE,IAIH,OAHAsB,GAAW,WACPF,qBAAqBP,EAAMH,QAC9B,IACM,CAACM,EAAOE,EAClB,E,cCqBD,QAjCoB,SAAUJ,GAC1B,IAAIS,OAAY,IAAPT,EAAgB,CAAC,EAAIA,EAAIU,EAAKD,EAAGE,aAAcA,OAAsB,IAAPD,EAAgBE,IAAWF,EAAIG,EAAKJ,EAAGK,cAAeA,OAAuB,IAAPD,EAAgBD,IAAWC,EAAIE,EAAWN,EAAGM,SAEtLC,EAAKC,EAAY,CACjBtC,MAAOuC,EAAAA,GAAYC,OAAOC,WAAaT,EACvCU,OAAQH,EAAAA,GAAYC,OAAOG,YAAcR,IACzCZ,EAAQc,EAAG,GAAIb,EAAWa,EAAG,GAyBjC,OAxBAO,EAAAA,EAAAA,YAAU,WAEN,GAAIL,EAAAA,GAAW,CACX,IAAIM,EAAY,WACZ,IAAI7C,EAAQwC,OAAOC,WACfC,EAASF,OAAOG,YAEpBnB,EAAS,CACLxB,MAAOA,EACP0C,OAAQA,IAGRN,GACAA,EAASpC,EAAO0C,EACvB,EAID,OAFAI,EAAAA,EAAAA,IAAGN,OAAQ,SAAUK,GAEd,YACHE,EAAAA,EAAAA,IAAIP,OAAQ,SAAUK,EACzB,CACJ,CACJ,GAAE,IAEItB,CACV,ECjCD,IAAIyB,EAAgBT,EAAAA,GAAYC,OAAS,KACrCS,EAAkB,SAAUC,GAC5B,QAASA,EAAOC,gBACnB,EACGC,EAAkB,SAAUF,GAC5B,QAASA,EAAOJ,EACnB,EA0BD,QAzBe,SAAUO,EAAMC,EAASJ,EAAQpD,QAC7B,IAAXoD,IAAqBA,EAASF,IAClCJ,EAAAA,EAAAA,YAAU,WACN,GAAKU,GAGAJ,EASL,OANID,EAAgBC,IAChBJ,EAAAA,EAAAA,IAAGI,EAAQG,EAAMC,EAASxD,GAErBsD,EAAgBF,IACrBA,EAAOJ,GAAGO,EAAMC,EAASxD,GAEtB,WACCmD,EAAgBC,IAChBH,EAAAA,EAAAA,IAAIG,EAAQG,EAAMC,EAASxD,GAEtBsD,EAAgBF,IACrBA,EAAOH,IAAIM,EAAMC,EAASxD,EAEjC,CACJ,GAAE,CAACuD,EAAMC,EAASJ,EAAQK,KAAKC,UAAU1D,IAC7C,ECLD,QAhBa,SAAU2D,EAAK3C,EAAI4C,EAAMC,QACvB,IAAP7C,IAAiBA,EAAK8C,EAAAA,SACb,IAATF,IAAmBA,EAAO,CAAC,QAClB,IAATC,IAAmBA,EAAO,CAACF,IAC/B,IAAIpC,EAAKqC,EAAKG,MAAOA,OAAe,IAAPxC,EAAgB,UAAYA,EAAI6B,EAASQ,EAAKR,OAAQpD,EAAU4D,EAAK5D,QAC9FgE,GAAiBxD,EAAAA,EAAAA,UAAQ,WACzB,IAf2ByD,EAevBC,EAdoB,oBADGD,EAeQN,GAbjCM,EACqB,kBAAdA,EACH,SAAUF,GAAS,OAAOA,EAAMJ,MAAQM,CAAY,EACpDA,EACI,WAAc,OAAO,CAAO,EAC5B,WAAc,OAAO,CAAQ,EAcvC,OALc,SAAUE,GACpB,GAAID,EAAUC,GACV,OAAOnD,EAAGmD,EAEjB,CAEJ,GAAEN,GACHO,EAASL,EAAOC,EAAgBZ,EAAQpD,EAC3C,E,oDCbM,SAASqE,EAAT,GAAiD,IAA7B,MAAEC,GAA0B,EACrD,MAAM,MAAEpE,GAAUqE,KACXC,IAAa1E,EAAAA,EAAAA,GAAa,EAAG,CAAEO,SAAUH,EAAQ,KAElD,KAAEuE,EAAF,SAAQC,GAAaJ,GAGrB,QAAEK,EAAF,MAAWC,EAAX,QAAkBC,EAAlB,MAA2BC,EAA3B,OAAkCC,EAAlC,SAA0CC,IAAaC,EAAAA,EAAAA,IAAeR,EAAMC,IAE5E,SAAEQ,EAAF,GAAYC,IAAOC,EAAAA,EAAAA,KACnBC,EAASF,EAAG,QASlB,OAPAG,EAAO,KAAK,KACND,GAAQL,GAAU,IAExBM,EAAO,KAAK,KACND,GAAQN,GAAQ,KAIpB,UAAC,YAAD,CAAgBzF,UAAU,mBAA1B,WACE,SAAC,KAAD,CAAQiG,OAAK,EAAC7F,QAAS,IAAMwF,EAAS,OAAQ,QAA9C,yBAIA,SAAChG,EAAA,EAAD,CACEsG,MAAK,kBAAab,EAAb,uBAAmCE,GACxC1F,KAAMkG,EACNjG,QAAS,IAAM8F,EAAS,OAAQ,SAChCO,QAAS,EACP,SAAC,KAAD,CAAgB/F,QAASsF,EAAUU,KAAK,QAAQH,OAAK,EAArD,sBAAY,MAGZ,SAAC,KAAD,CAAgB7F,QAASqF,EAAQW,KAAK,QAAQH,OAAK,EAAC5F,KAAK,UAAzD,oBAAY,MARhB,UAaE,SAAC,iBAAD,WACE,UAAC,IAAD,CAAML,UAAU,SAASqG,KAAK,OAAOC,QAAQ,SAA7C,WACE,UAAC,IAAD,CAAMC,UAAQ,EAAd,WACE,SAACC,EAAA,EAAD,CAAWC,GAAIpB,EAASzE,MAAOsE,KAC/B,UAAC,IAAD,YACE,SAACwB,EAAA,EAAD,CAAsBC,KAAMrB,KAC5B,SAAC,IAAD,UAAMD,WAGV,UAAC,IAAD,CAAMkB,UAAQ,EAAd,WACE,SAACC,EAAA,EAAD,CAAWC,GAAIlB,EAAS3E,MAAOsE,KAC/B,UAAC,IAAD,YACE,SAACwB,EAAA,EAAD,CAAsBC,KAAMnB,KAC5B,SAAC,IAAD,UAAMD,mBAQrB,C,+DC3DM,SAASqB,EAAT,GAA+D,IAApC,MAAE5B,GAAiC,EACnE,MAAM,KAAEG,EAAF,QAAQ0B,EAAR,SAAiBC,EAAjB,KAA2BC,EAA3B,UAAiCC,EAAjC,QAA4CC,GAAYjC,GACxD,YAAEkC,EAAF,SAAetB,IAAaE,EAAAA,EAAAA,KAElC,OACE,UAAC,KAAD,YACE,SAAC,KAAD,WACE,UAAC,IAAD,CAAMS,UAAQ,EAACzF,IAAK,EAApB,WACE,SAACqG,EAAA,EAAD,CACEN,QAASA,EACTO,KAAMjD,KAAKC,UAAUe,GACrBkC,OAAQ,IAAMN,EAAK,CAAC,GACpBD,SAAUA,KAGZ,SAACQ,EAAA,EAAD,CACEnC,KAAMA,EACNoC,SAAS,+BACTC,QAASV,EACTW,UAAUC,EAAAA,EAAAA,SAAQvC,GAClBc,OAAK,UAKX,SAAC,KAAD,CACEe,UAAWA,GAAaF,EACxBD,QAASA,EACTI,QAASA,EACTU,kBAAkBD,EAAAA,EAAAA,SAAQvC,MAG5B,UAAC,KAAD,YACE,SAAC,KAAD,CAAQc,OAAK,EAAC7F,QAAS,IAAMwF,EAAS,OAAQ,QAA9C,yBAIA,SAAC,IAAD,KAEA,SAAC,KAAD,CACEgC,MAAM,kBACNzG,MAAO+F,EAAYW,IAAI,UAAY,EACnC7E,SAAW8E,GAAMlC,EAAS,QAASkC,GACnCpH,QAAS,CAAC,EAAG,EAAG,EAAG,WAK5B,CC/BD,QAtBA,WACE,MAAMsE,GAAQ+C,EAAAA,EAAAA,MAEd,OACE,SAAC,KAAD,CAAY7B,MAAM,cAAc8B,SAAS,aAAzC,UACE,SAACC,EAAA,EAAD,CACEjB,UAAWhC,EAAMgC,UACjBkB,MAAOlD,EAAMkD,MACbP,kBAAkBD,EAAAA,EAAAA,SAAQ1C,EAAMG,MAHlC,UAKE,UAAC,IAAD,CAAQgD,UAAQ,EAAhB,WACE,SAACvB,EAAD,CAAmB5B,MAAOA,KAE1B,SAAC,YAAD,CAAgBhF,UAAU,UAA1B,UACE,SAAC+E,EAAD,CAAYC,MAAOA,YAM9B,C,0DC3BD,QADmB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,qbAAyb,KAAQ,OAAQ,MAAS,Y,cCMxmBoD,EAAe,SAAsBrI,EAAOY,GAC9C,OAAoB0H,EAAAA,cAAoBC,EAAAA,GAAUC,EAAAA,EAAAA,GAAS,CAAC,EAAGxI,EAAO,CACpEY,IAAKA,EACLJ,KAAMiI,IAET,EAOD,QAJ2BH,EAAAA,WAAiBD,E,0DCb5C,QADiB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,kgBAAsgB,KAAQ,OAAQ,MAAS,U,cCMnrBK,EAAa,SAAoB1I,EAAOY,GAC1C,OAAoB0H,EAAAA,cAAoBC,EAAAA,GAAUC,EAAAA,EAAAA,GAAS,CAAC,EAAGxI,EAAO,CACpEY,IAAKA,EACLJ,KAAMmI,IAET,EAOD,QAJ2BL,EAAAA,WAAiBI,E,gDCd7B,SAASE,EAAajH,EAAIkH,QAC1B,IAAPA,IAAiBA,EAAK,GAC1B,IAAIC,GAAQjH,EAAAA,EAAAA,SAAO,GACfkH,GAAUlH,EAAAA,EAAAA,UACVmH,GAAWnH,EAAAA,EAAAA,QAAOF,GAClBsH,GAAU1G,EAAAA,EAAAA,cAAY,WAAc,OAAOuG,EAAMhH,OAAU,GAAE,IAC7DoH,GAAM3G,EAAAA,EAAAA,cAAY,WAClBuG,EAAMhH,SAAU,EAChBiH,EAAQjH,SAAWqH,aAAaJ,EAAQjH,SACxCiH,EAAQjH,QAAUsH,YAAW,WACzBN,EAAMhH,SAAU,EAChBkH,EAASlH,SACZ,GAAE+G,EACN,GAAE,CAACA,IACAQ,GAAQ9G,EAAAA,EAAAA,cAAY,WACpBuG,EAAMhH,QAAU,KAChBiH,EAAQjH,SAAWqH,aAAaJ,EAAQjH,QAC3C,GAAE,IAUH,OARA2B,EAAAA,EAAAA,YAAU,WACNuF,EAASlH,QAAUH,CACtB,GAAE,CAACA,KAEJ8B,EAAAA,EAAAA,YAAU,WAEN,OADAyF,IACOG,CACV,GAAE,CAACR,IACG,CAACI,EAASI,EAAOH,EAC3B,C","sources":["components/Common/FullScreenModal.tsx","hooks/useCardWidth.ts","../node_modules/react-use/esm/useUnmount.js","../node_modules/react-use/esm/useRafState.js","../node_modules/react-use/esm/useWindowSize.js","../node_modules/react-use/esm/useEvent.js","../node_modules/react-use/esm/useKey.js","components/Images/ImageCards/Comparator.tsx","components/Images/ImageCards/ComparatorFilters.tsx","pages/Images/ImageCardsComparator.tsx","../node_modules/@ant-design/icons-svg/es/asn/SaveOutlined.js","../node_modules/@ant-design/icons/es/icons/SaveOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/TagsFilled.js","../node_modules/@ant-design/icons/es/icons/TagsFilled.js","../node_modules/react-use/esm/useTimeoutFn.js"],"sourcesContent":["import { CloseOutlined } from '@ant-design/icons';\nimport { Button, Card, type CardProps } from 'antd';\nimport clsx from 'clsx';\n\ntype FullScreenModalProps = {\n  open: boolean;\n  onClose: () => void;\n} & Omit<CardProps, 'extra'>;\n\nexport function FullScreenModal({ open, onClose, ...props }: FullScreenModalProps) {\n  return (\n    <Card\n      className={clsx('full-screen-modal', !open && 'full-screen-modal--hidden')}\n      bordered={false}\n      extra={<Button onClick={onClose} type=\"text\" shape=\"circle\" icon={<CloseOutlined />} />}\n      {...props}\n    />\n  );\n}\n","import { type Ref, useMemo } from 'react';\nimport { useMeasure } from 'react-use';\n\n/**\n * Get a card width in px based on the window size of given container used with the containerRef\n * @param quantity how many cards should be fitted in the page screen width\n * @param options the options object\n * @param options.gap total value of padding and margin on the left and right of the card\n * @param options.minWidth minimum width of a card\n * @param options.maxWidth maximum width of a card\n * @param options.margin the outer margin of the container that should be removed from the width\n * @returns\n */\nexport function useCardWidth(\n  quantity: number,\n  options?: {\n    gap?: number;\n    minWidth?: number;\n    maxWidth?: number;\n    margin?: number;\n  },\n): [number, Ref<HTMLDivElement>] {\n  const [ref, { width }] = useMeasure();\n  const { gap = 32, minWidth = 120, maxWidth = 300, margin = 0 } = options ?? {};\n\n  const cardWidth = useMemo(() => {\n    const value = Math.min(Math.max(Math.floor((width - margin) / quantity) - gap, minWidth), maxWidth);\n    return Number.isNaN(value) ? minWidth : value;\n  }, [width, quantity, gap, minWidth, maxWidth, margin]);\n\n  const containerRef = ref as Ref<HTMLDivElement>;\n\n  return [cardWidth, containerRef];\n}\n","import { useRef } from 'react';\nimport useEffectOnce from './useEffectOnce';\nvar useUnmount = function (fn) {\n    var fnRef = useRef(fn);\n    // update the ref each render so if it change the newest callback will be invoked\n    fnRef.current = fn;\n    useEffectOnce(function () { return function () { return fnRef.current(); }; });\n};\nexport default useUnmount;\n","import { useCallback, useRef, useState } from 'react';\nimport useUnmount from './useUnmount';\nvar useRafState = function (initialState) {\n    var frame = useRef(0);\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    var setRafState = useCallback(function (value) {\n        cancelAnimationFrame(frame.current);\n        frame.current = requestAnimationFrame(function () {\n            setState(value);\n        });\n    }, []);\n    useUnmount(function () {\n        cancelAnimationFrame(frame.current);\n    });\n    return [state, setRafState];\n};\nexport default useRafState;\n","import { useEffect } from 'react';\nimport useRafState from './useRafState';\nimport { isBrowser, off, on } from './misc/util';\nvar useWindowSize = function (_a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.initialWidth, initialWidth = _c === void 0 ? Infinity : _c, _d = _b.initialHeight, initialHeight = _d === void 0 ? Infinity : _d, onChange = _b.onChange;\n    // Use the useRafState hook to maintain the current window size (width and height)\n    var _e = useRafState({\n        width: isBrowser ? window.innerWidth : initialWidth,\n        height: isBrowser ? window.innerHeight : initialHeight,\n    }), state = _e[0], setState = _e[1];\n    useEffect(function () {\n        // Only run the effect on the browser (to avoid issues with SSR)\n        if (isBrowser) {\n            var handler_1 = function () {\n                var width = window.innerWidth;\n                var height = window.innerHeight;\n                // Update the state with the new window size\n                setState({\n                    width: width,\n                    height: height,\n                });\n                // If an onChange callback is provided, call it with the new dimensions\n                if (onChange)\n                    onChange(width, height);\n            };\n            // Add event listener for the resize event\n            on(window, 'resize', handler_1);\n            // Cleanup function to remove the event listener when the component is unmounted (it's for performance optimization)\n            return function () {\n                off(window, 'resize', handler_1);\n            };\n        }\n    }, []);\n    // Return the current window size (width and height)\n    return state;\n};\nexport default useWindowSize;\n","import { useEffect } from 'react';\nimport { isBrowser, off, on } from './misc/util';\nvar defaultTarget = isBrowser ? window : null;\nvar isListenerType1 = function (target) {\n    return !!target.addEventListener;\n};\nvar isListenerType2 = function (target) {\n    return !!target.on;\n};\nvar useEvent = function (name, handler, target, options) {\n    if (target === void 0) { target = defaultTarget; }\n    useEffect(function () {\n        if (!handler) {\n            return;\n        }\n        if (!target) {\n            return;\n        }\n        if (isListenerType1(target)) {\n            on(target, name, handler, options);\n        }\n        else if (isListenerType2(target)) {\n            target.on(name, handler, options);\n        }\n        return function () {\n            if (isListenerType1(target)) {\n                off(target, name, handler, options);\n            }\n            else if (isListenerType2(target)) {\n                target.off(name, handler, options);\n            }\n        };\n    }, [name, handler, target, JSON.stringify(options)]);\n};\nexport default useEvent;\n","import { useMemo } from 'react';\nimport useEvent from './useEvent';\nimport { noop } from './misc/util';\nvar createKeyPredicate = function (keyFilter) {\n    return typeof keyFilter === 'function'\n        ? keyFilter\n        : typeof keyFilter === 'string'\n            ? function (event) { return event.key === keyFilter; }\n            : keyFilter\n                ? function () { return true; }\n                : function () { return false; };\n};\nvar useKey = function (key, fn, opts, deps) {\n    if (fn === void 0) { fn = noop; }\n    if (opts === void 0) { opts = {}; }\n    if (deps === void 0) { deps = [key]; }\n    var _a = opts.event, event = _a === void 0 ? 'keydown' : _a, target = opts.target, options = opts.options;\n    var useMemoHandler = useMemo(function () {\n        var predicate = createKeyPredicate(key);\n        var handler = function (handlerEvent) {\n            if (predicate(handlerEvent)) {\n                return fn(handlerEvent);\n            }\n        };\n        return handler;\n    }, deps);\n    useEvent(event, useMemoHandler, target, options);\n};\nexport default useKey;\n","import { Button, Flex, Image, Layout, Tag } from 'antd';\n\nimport { useCardWidth } from 'hooks/useCardWidth';\nimport { useQueryParams } from 'hooks/useQueryParams';\nimport { useKey, useWindowSize } from 'react-use';\nimport { ImageCard } from '../ImageCard';\nimport { RelationshipCountTag } from './RelationshipCountTag';\nimport { type UseImageCardsRelationshipDataReturnValue, useRandomCards } from './hooks/hooks';\nimport { FullScreenModal } from 'components/Common/FullScreenModal';\n\ntype ComparatorProps = {\n  query: UseImageCardsRelationshipDataReturnValue;\n};\n\nexport function Comparator({ query }: ComparatorProps) {\n  const { width } = useWindowSize();\n  const [cardWidth] = useCardWidth(1, { minWidth: width / 3 });\n\n  const { data, setDirty } = query;\n\n  // Selects a random deck, but gives option select for a specific deck (1-10)\n  const { cardAId, cardA, cardBId, cardB, relate, unrelate } = useRandomCards(data, setDirty);\n\n  const { addParam, is } = useQueryParams();\n  const isOpen = is('open');\n\n  useKey('1', () => {\n    if (isOpen) unrelate();\n  });\n  useKey('2', () => {\n    if (isOpen) relate();\n  });\n\n  return (\n    <Layout.Content className=\"dev-content py-4\">\n      <Button block onClick={() => addParam('open', 'true')}>\n        Open Modal\n      </Button>\n\n      <FullScreenModal\n        title={`Card A: ${cardAId} vs Card B: ${cardBId}`}\n        open={isOpen}\n        onClose={() => addParam('open', 'false')}\n        actions={[\n          <Button key=\"1\" onClick={unrelate} size=\"large\" block>\n            Unrelated\n          </Button>,\n          <Button key=\"2\" onClick={relate} size=\"large\" block type=\"primary\">\n            Related\n          </Button>,\n        ]}\n      >\n        <Image.PreviewGroup>\n          <Flex className=\"center\" wrap=\"wrap\" justify=\"center\">\n            <Flex vertical>\n              <ImageCard id={cardAId} width={cardWidth} />\n              <Flex>\n                <RelationshipCountTag card={cardA} />\n                <Tag>{cardAId}</Tag>\n              </Flex>\n            </Flex>\n            <Flex vertical>\n              <ImageCard id={cardBId} width={cardWidth} />\n              <Flex>\n                <RelationshipCountTag card={cardB} />\n                <Tag>{cardBId}</Tag>\n              </Flex>\n            </Flex>\n          </Flex>\n        </Image.PreviewGroup>\n      </FullScreenModal>\n    </Layout.Content>\n  );\n}\n","import { Button, Divider, Flex } from 'antd';\nimport { FilterSelect, ResponseState } from 'components/Common';\nimport { DownloadButton } from 'components/Common/DownloadButton';\nimport { SaveButton } from 'components/Common/SaveButton';\nimport { PageSider, SiderContent } from 'components/Layout';\nimport { isEmpty } from 'lodash';\n\nimport { useQueryParams } from 'hooks/useQueryParams';\nimport type { UseImageCardsRelationshipDataReturnValue } from './hooks/hooks';\n\ntype ComparatorFiltersProps = {\n  query: UseImageCardsRelationshipDataReturnValue;\n};\n\nexport function ComparatorFilters({ query }: ComparatorFiltersProps) {\n  const { data, isDirty, isSaving, save, isLoading, isError } = query;\n  const { queryParams, addParam } = useQueryParams();\n\n  return (\n    <PageSider>\n      <SiderContent>\n        <Flex vertical gap={6}>\n          <SaveButton\n            isDirty={isDirty}\n            dirt={JSON.stringify(data)}\n            onSave={() => save({})}\n            isSaving={isSaving}\n          />\n\n          <DownloadButton\n            data={data}\n            fileName=\"imageCardsRelationships.json\"\n            loading={isSaving}\n            disabled={isEmpty(data)}\n            block\n          />\n        </Flex>\n      </SiderContent>\n\n      <ResponseState\n        isLoading={isLoading || isSaving}\n        isDirty={isDirty}\n        isError={isError}\n        hasResponseData={!isEmpty(data)}\n      />\n\n      <SiderContent>\n        <Button block onClick={() => addParam('open', 'true')}>\n          Open Modal\n        </Button>\n\n        <Divider />\n\n        <FilterSelect\n          label=\"Cycle Threshold\"\n          value={queryParams.get('cycle') || 3}\n          onChange={(v) => addParam('cycle', v)}\n          options={[1, 3, 5, 10]}\n        />\n      </SiderContent>\n    </PageSider>\n  );\n}\n","import { Layout } from 'antd';\nimport { DataLoadingWrapper } from 'components/DataLoadingWrapper';\nimport { Comparator } from 'components/Images/ImageCards/Comparator';\nimport { ComparatorFilters } from 'components/Images/ImageCards/ComparatorFilters';\nimport { useImageCardsRelationshipData } from 'components/Images/ImageCards/hooks/hooks';\n\nimport { PageLayout } from 'components/Layout';\nimport { isEmpty } from 'lodash';\n\nfunction ImageCardsComparator() {\n  const query = useImageCardsRelationshipData();\n\n  return (\n    <PageLayout title=\"Image Cards\" subtitle=\"Comparator\">\n      <DataLoadingWrapper\n        isLoading={query.isLoading}\n        error={query.error}\n        hasResponseData={!isEmpty(query.data)}\n      >\n        <Layout hasSider>\n          <ComparatorFilters query={query} />\n\n          <Layout.Content className=\"content\">\n            <Comparator query={query} />\n          </Layout.Content>\n        </Layout>\n      </DataLoadingWrapper>\n    </PageLayout>\n  );\n}\n\nexport default ImageCardsComparator;\n","// This icon file is generated automatically.\nvar SaveOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z\" } }] }, \"name\": \"save\", \"theme\": \"outlined\" };\nexport default SaveOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport SaveOutlinedSvg from \"@ant-design/icons-svg/es/asn/SaveOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar SaveOutlined = function SaveOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: SaveOutlinedSvg\n  }));\n};\n\n/**![save](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg5My4zIDI5My4zTDczMC43IDEzMC43Yy03LjUtNy41LTE2LjctMTMtMjYuNy0xNlYxMTJIMTQ0Yy0xNy43IDAtMzIgMTQuMy0zMiAzMnY3MzZjMCAxNy43IDE0LjMgMzIgMzIgMzJoNzM2YzE3LjcgMCAzMi0xNC4zIDMyLTMyVjMzOC41YzAtMTctNi43LTMzLjItMTguNy00NS4yek0zODQgMTg0aDI1NnYxMDRIMzg0VjE4NHptNDU2IDY1NkgxODRWMTg0aDEzNnYxMzZjMCAxNy43IDE0LjMgMzIgMzIgMzJoMzIwYzE3LjcgMCAzMi0xNC4zIDMyLTMyVjIwNS44bDEzNiAxMzZWODQwek01MTIgNDQyYy03OS41IDAtMTQ0IDY0LjUtMTQ0IDE0NHM2NC41IDE0NCAxNDQgMTQ0IDE0NC02NC41IDE0NC0xNDQtNjQuNS0xNDQtMTQ0LTE0NHptMCAyMjRjLTQ0LjIgMC04MC0zNS44LTgwLTgwczM1LjgtODAgODAtODAgODAgMzUuOCA4MCA4MC0zNS44IDgwLTgwIDgweiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(SaveOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'SaveOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar TagsFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M483.2 790.3L861.4 412c1.7-1.7 2.5-4 2.3-6.3l-25.5-301.4c-.7-7.8-6.8-13.9-14.6-14.6L522.2 64.3c-2.3-.2-4.7.6-6.3 2.3L137.7 444.8a8.03 8.03 0 000 11.3l334.2 334.2c3.1 3.2 8.2 3.2 11.3 0zm122.7-533.4c18.7-18.7 49.1-18.7 67.9 0 18.7 18.7 18.7 49.1 0 67.9-18.7 18.7-49.1 18.7-67.9 0-18.7-18.7-18.7-49.1 0-67.9zm283.8 282.9l-39.6-39.5a8.03 8.03 0 00-11.3 0l-362 361.3-237.6-237a8.03 8.03 0 00-11.3 0l-39.6 39.5a8.03 8.03 0 000 11.3l243.2 242.8 39.6 39.5c3.1 3.1 8.2 3.1 11.3 0l407.3-406.6c3.1-3.1 3.1-8.2 0-11.3z\" } }] }, \"name\": \"tags\", \"theme\": \"filled\" };\nexport default TagsFilled;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport TagsFilledSvg from \"@ant-design/icons-svg/es/asn/TagsFilled\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar TagsFilled = function TagsFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: TagsFilledSvg\n  }));\n};\n\n/**![tags](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ4My4yIDc5MC4zTDg2MS40IDQxMmMxLjctMS43IDIuNS00IDIuMy02LjNsLTI1LjUtMzAxLjRjLS43LTcuOC02LjgtMTMuOS0xNC42LTE0LjZMNTIyLjIgNjQuM2MtMi4zLS4yLTQuNy42LTYuMyAyLjNMMTM3LjcgNDQ0LjhhOC4wMyA4LjAzIDAgMDAwIDExLjNsMzM0LjIgMzM0LjJjMy4xIDMuMiA4LjIgMy4yIDExLjMgMHptMTIyLjctNTMzLjRjMTguNy0xOC43IDQ5LjEtMTguNyA2Ny45IDAgMTguNyAxOC43IDE4LjcgNDkuMSAwIDY3LjktMTguNyAxOC43LTQ5LjEgMTguNy02Ny45IDAtMTguNy0xOC43LTE4LjctNDkuMSAwLTY3Ljl6bTI4My44IDI4Mi45bC0zOS42LTM5LjVhOC4wMyA4LjAzIDAgMDAtMTEuMyAwbC0zNjIgMzYxLjMtMjM3LjYtMjM3YTguMDMgOC4wMyAwIDAwLTExLjMgMGwtMzkuNiAzOS41YTguMDMgOC4wMyAwIDAwMCAxMS4zbDI0My4yIDI0Mi44IDM5LjYgMzkuNWMzLjEgMy4xIDguMiAzLjEgMTEuMyAwbDQwNy4zLTQwNi42YzMuMS0zLjEgMy4xLTguMiAwLTExLjN6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(TagsFilled);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'TagsFilled';\n}\nexport default RefIcon;","import { useCallback, useEffect, useRef } from 'react';\nexport default function useTimeoutFn(fn, ms) {\n    if (ms === void 0) { ms = 0; }\n    var ready = useRef(false);\n    var timeout = useRef();\n    var callback = useRef(fn);\n    var isReady = useCallback(function () { return ready.current; }, []);\n    var set = useCallback(function () {\n        ready.current = false;\n        timeout.current && clearTimeout(timeout.current);\n        timeout.current = setTimeout(function () {\n            ready.current = true;\n            callback.current();\n        }, ms);\n    }, [ms]);\n    var clear = useCallback(function () {\n        ready.current = null;\n        timeout.current && clearTimeout(timeout.current);\n    }, []);\n    // update ref when function changes\n    useEffect(function () {\n        callback.current = fn;\n    }, [fn]);\n    // set on mount, clear on unmount\n    useEffect(function () {\n        set();\n        return clear;\n    }, [ms]);\n    return [isReady, clear, set];\n}\n"],"names":["FullScreenModal","open","onClose","props","className","clsx","bordered","extra","onClick","type","shape","icon","useCardWidth","quantity","options","ref","width","useMeasure","gap","minWidth","maxWidth","margin","useMemo","value","Math","min","max","floor","Number","isNaN","fn","fnRef","useRef","current","useEffectOnce","initialState","frame","_a","useState","state","setState","setRafState","useCallback","cancelAnimationFrame","requestAnimationFrame","useUnmount","_b","_c","initialWidth","Infinity","_d","initialHeight","onChange","_e","useRafState","isBrowser","window","innerWidth","height","innerHeight","useEffect","handler_1","on","off","defaultTarget","isListenerType1","target","addEventListener","isListenerType2","name","handler","JSON","stringify","key","opts","deps","noop","event","useMemoHandler","keyFilter","predicate","handlerEvent","useEvent","Comparator","query","useWindowSize","cardWidth","data","setDirty","cardAId","cardA","cardBId","cardB","relate","unrelate","useRandomCards","addParam","is","useQueryParams","isOpen","useKey","block","title","actions","size","wrap","justify","vertical","ImageCard","id","RelationshipCountTag","card","ComparatorFilters","isDirty","isSaving","save","isLoading","isError","queryParams","SaveButton","dirt","onSave","DownloadButton","fileName","loading","disabled","isEmpty","hasResponseData","label","get","v","useImageCardsRelationshipData","subtitle","DataLoadingWrapper","error","hasSider","SaveOutlined","React","AntdIcon","_extends","SaveOutlinedSvg","TagsFilled","TagsFilledSvg","useTimeoutFn","ms","ready","timeout","callback","isReady","set","clearTimeout","setTimeout","clear"],"sourceRoot":""}