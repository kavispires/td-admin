"use strict";(self.webpackChunktdr=self.webpackChunktdr||[]).push([[286],{8741:(t,e,s)=>{s.r(e),s.d(e,{default:()=>E});var i=s(3990),n=s(4520),r=s(1046),o=s(952),a=s(2979),h=s(2128),l=s(763),c=s(2791),d=s(7415),u=s(7462);const v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm154.7 454.5l-246 178c-5.3 3.8-12.7 0-12.7-6.5v-46.9c0-10.2 4.9-19.9 13.2-25.9L566.6 512 421.2 406.8c-8.3-6-13.2-15.6-13.2-25.9V334c0-6.5 7.4-10.3 12.7-6.5l246 178c4.4 3.2 4.4 9.8 0 13z"}}]},name:"right-circle",theme:"filled"};var p=s(4186),f=function(t,e){return c.createElement(p.Z,(0,u.Z)({},t,{ref:e,icon:v}))};const m=c.forwardRef(f);var Z=s(145),g=s(6709),b=s(184);function w(){const{query:{isDirty:t,isSaving:e,save:s,stats:i,data:u,...v},randomGroups:{cardIds:p},showIds:f,cardSize:w}=(0,g.l)(),[y,{width:S}]=(0,d.Z)(),[,j]=(0,c.useMemo)((()=>{const t=Math.floor(S/w)+1;return[t,Math.floor(S/t)]}),[w,S]),C=[{title:"Length",dataIndex:"length",key:"length"},{title:"Relationships",dataIndex:"relationships",key:"relationship",render:(t,e)=>(0,b.jsx)(n.Z,{wrap:"wrap",gap:2,children:t.map((s=>(0,b.jsxs)(r.Z,{children:[(0,b.jsxs)(r.Z,{direction:"vertical",children:[(0,b.jsx)(Z.f,{id:s,width:j}),f&&(0,b.jsx)(o.Z,{children:s})]}),t[t.length-1]!==s&&(0,b.jsx)(m,{})]},"".concat(e.origin,"-").concat(s))))})}],z=(0,c.useMemo)((()=>(0,l.orderBy)(p.map((t=>{const e=x(t,u,"longest",10);return{key:t,origin:t,length:e.length,relationships:e}})),["length"],["desc"])),[p,u]);return(0,b.jsx)(h.T,{isLoading:v.isLoading,error:v.error,hasResponseData:!0,children:(0,b.jsx)("div",{ref:y,className:"my-6",children:(0,b.jsx)(a.Z,{dataSource:z,columns:C})})})}const x=(0,l.memoize)(((t,e,s,i)=>{const n=new Set,r=[];let o=[],a=0;for(r.push({currentId:t,path:[],depth:0});r.length>0&&a<100;){a++;const{currentId:t,path:h,depth:l}=r.pop();if(n.add(t),h.push(t),"longest"===s&&h.length>o.length&&(o=[...h]),"shortest"===s&&(0===o.length||h.length<o.length)&&(o=[...h]),"any"===s&&0===o.length&&(o=[...h]),!(l>=i))for(const s of e[t]||[])n.has(s)||r.push({currentId:s,path:[...h],depth:l+1})}return o}));var y=s(2556),S=s(1958),j=s(6173),C=s(7018),z=s(6591),k=s(9936);function M(){const{query:{isDirty:t,isSaving:e,data:s,isLoading:i,isError:n},showIds:r,setShowIds:o,sampleSize:a,setSampleSize:h,cardSize:c,setCardSize:d,randomGroups:{nextSet:u}}=(0,g.l)();return(0,b.jsxs)(S.p3,{children:[(0,b.jsx)(j.Th,{isLoading:i||e,isDirty:t,isError:n,hasResponseData:!(0,l.isEmpty)(s)}),(0,b.jsxs)(S.Pd,{children:[(0,b.jsx)(j.Do,{label:"Show Ids",value:r,onChange:t=>o(t)}),(0,b.jsx)(j.zE,{onChange:t=>h(t),value:a,options:z.ZI,label:"Sample Size"}),(0,b.jsx)(j.zE,{onChange:t=>d(t),value:c,options:z.Hn,label:"Card Size"}),(0,b.jsx)(y.ZP,{onClick:u,block:!0,type:"primary",children:"New Random Sample"})]}),(0,b.jsx)(S.Pd,{children:(0,b.jsx)(k.A,{})}),(0,b.jsx)(S.Pd,{children:(0,b.jsx)(C.o,{data:s,fileName:"imageCardsRelationships.json",loading:e,disabled:(0,l.isEmpty)(s),block:!0})})]})}const E=function(){return(0,b.jsx)(S.Xg,{title:"Image Cards",subtitle:"Connections",children:(0,b.jsx)(g.P,{children:(0,b.jsxs)(i.Z,{hasSider:!0,children:[(0,b.jsx)(M,{}),(0,b.jsx)(i.Z.Content,{className:"content",children:(0,b.jsx)(w,{})})]})})})}},8622:(t,e,s)=>{s.d(e,{Z:()=>h});var i=s(7462),n=s(2791);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"};var o=s(4186),a=function(t,e){return n.createElement(o.Z,(0,i.Z)({},t,{ref:e,icon:r}))};const h=n.forwardRef(a)},8624:(t,e,s)=>{s.d(e,{ZT:()=>i,jU:()=>n});var i=function(){};var n="undefined"!==typeof window},7415:(t,e,s)=>{s.d(e,{Z:()=>a});var i=s(2791),n=s(8624);const r=n.jU?i.useLayoutEffect:i.useEffect;var o={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const a=n.jU&&"undefined"!==typeof window.ResizeObserver?function(){var t=(0,i.useState)(null),e=t[0],s=t[1],n=(0,i.useState)(o),a=n[0],h=n[1],l=(0,i.useMemo)((function(){return new window.ResizeObserver((function(t){if(t[0]){var e=t[0].contentRect,s=e.x,i=e.y,n=e.width,r=e.height,o=e.top,a=e.left,l=e.bottom,c=e.right;h({x:s,y:i,width:n,height:r,top:o,left:a,bottom:l,right:c})}}))}),[]);return r((function(){if(e)return l.observe(e),function(){l.disconnect()}}),[e]),[s,a]}:function(){return[n.ZT,o]}},8556:(t,e,s)=>{s.d(e,{D:()=>j});var i,n,r,o,a,h,l=s(2791),c=s(101),d=s(2346),u=s(6033),v=s(3889),p=s(3092),f=s(2756),m=s(7211),Z=s(8974),g=s(5391),b=(i=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakSet,h=new WeakSet,class extends Z.l{constructor(t,e){super(),(0,c.Z)(this,h),(0,c.Z)(this,a),(0,d.Z)(this,i,{writable:!0,value:void 0}),(0,d.Z)(this,n,{writable:!0,value:void 0}),(0,d.Z)(this,r,{writable:!0,value:void 0}),(0,d.Z)(this,o,{writable:!0,value:void 0}),(0,p.Z)(this,i,t),this.setOptions(e),this.bindMethods(),(0,v.Z)(this,a,w).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;const s=this.options;this.options=(0,u.Z)(this,i).defaultMutationOptions(t),(0,g.VS)(this.options,s)||(0,u.Z)(this,i).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,u.Z)(this,r),observer:this}),null!==s&&void 0!==s&&s.mutationKey&&this.options.mutationKey&&(0,g.Ym)(s.mutationKey)!==(0,g.Ym)(this.options.mutationKey)?this.reset():"pending"===(null===(e=(0,u.Z)(this,r))||void 0===e?void 0:e.state.status)&&(0,u.Z)(this,r).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(null===(t=(0,u.Z)(this,r))||void 0===t||t.removeObserver(this))}onMutationUpdate(t){(0,v.Z)(this,a,w).call(this),(0,v.Z)(this,h,x).call(this,t)}getCurrentResult(){return(0,u.Z)(this,n)}reset(){var t;null===(t=(0,u.Z)(this,r))||void 0===t||t.removeObserver(this),(0,p.Z)(this,r,void 0),(0,v.Z)(this,a,w).call(this),(0,v.Z)(this,h,x).call(this)}mutate(t,e){var s;return(0,p.Z)(this,o,e),null===(s=(0,u.Z)(this,r))||void 0===s||s.removeObserver(this),(0,p.Z)(this,r,(0,u.Z)(this,i).getMutationCache().build((0,u.Z)(this,i),this.options)),(0,u.Z)(this,r).addObserver(this),(0,u.Z)(this,r).execute(t)}});function w(){var t,e;const s=null!==(t=null===(e=(0,u.Z)(this,r))||void 0===e?void 0:e.state)&&void 0!==t?t:(0,f.R)();(0,p.Z)(this,n,{...s,isPending:"pending"===s.status,isSuccess:"success"===s.status,isError:"error"===s.status,isIdle:"idle"===s.status,mutate:this.mutate,reset:this.reset})}function x(t){m.V.batch((()=>{if((0,u.Z)(this,o)&&this.hasListeners()){const d=(0,u.Z)(this,n).variables,v=(0,u.Z)(this,n).context;var e,s,i,r;if("success"===(null===t||void 0===t?void 0:t.type))null===(e=(s=(0,u.Z)(this,o)).onSuccess)||void 0===e||e.call(s,t.data,d,v),null===(i=(r=(0,u.Z)(this,o)).onSettled)||void 0===i||i.call(r,t.data,null,d,v);else if("error"===(null===t||void 0===t?void 0:t.type)){var a,h,l,c;null===(a=(h=(0,u.Z)(this,o)).onError)||void 0===a||a.call(h,t.error,d,v),null===(l=(c=(0,u.Z)(this,o)).onSettled)||void 0===l||l.call(c,void 0,t.error,d,v)}}this.listeners.forEach((t=>{t((0,u.Z)(this,n))}))}))}var y=s(3713),S=s(8981);function j(t,e){const s=(0,y.NL)(e),[i]=l.useState((()=>new b(s,t)));l.useEffect((()=>{i.setOptions(t)}),[i,t]);const n=l.useSyncExternalStore(l.useCallback((t=>i.subscribe(m.V.batchCalls(t))),[i]),(()=>i.getCurrentResult()),(()=>i.getCurrentResult())),r=l.useCallback(((t,e)=>{i.mutate(t,e).catch(S.Z)}),[i]);if(n.error&&(0,S.L)(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:r,mutateAsync:n.mutate}}}}]);
//# sourceMappingURL=ImageCardsConnections.e32e5b13.chunk.js.map