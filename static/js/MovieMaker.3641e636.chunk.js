"use strict";(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[6837],{2043:(e,a,t)=>{t.d(a,{Do:()=>h,H:()=>g,tj:()=>p,xh:()=>m,zE:()=>u});var n=t(5225),s=t(5437),r=t(4003),o=t(5922),i=t(9862),c=t(4248),l=t(1431),d=t(184);function u(e){let{label:a,value:t,onChange:r,options:o,placeholder:i}=e;return(0,d.jsx)(n.Z.Item,{label:a,children:(0,d.jsxs)(s.Z,{style:{minWidth:"150px"},onChange:r,value:t,children:[i&&(0,d.jsx)(s.Z.Option,{value:"",disabled:!0,children:"placeholder"}),o.map((e=>"object"===typeof e?(0,d.jsx)(s.Z.Option,{value:e.value,children:e.label},"".concat(a,"-").concat(e.value)):(0,d.jsx)(s.Z.Option,{value:e,children:e},"".concat(a,"-").concat(e))))]})})}function m(e){let{label:a,value:t,onChange:s,min:o=0,max:i=100,step:c}=e;return(0,d.jsx)(n.Z.Item,{label:a,children:(0,d.jsx)(r.Z,{min:o,max:i,value:t,onChange:e=>s(null!==e&&void 0!==e?e:i),style:{minWidth:"150px",width:"100%"},step:c})})}function h(e){let{label:a,value:t,onChange:s,className:r,disabled:i}=e;return(0,d.jsx)(n.Z.Item,{label:a,valuePropName:"checked",className:r,children:(0,d.jsx)(o.Z,{checked:t,onChange:s,size:"small",disabled:i})})}function p(e){let{label:a,value:t,onChange:s,disabled:r,className:o}=e;return(0,d.jsx)(n.Z.Item,{label:a,valuePropName:"checked",className:o,children:(0,d.jsx)(i.Z,{checked:t,onChange:e=>s(e.target.checked),disabled:r})})}function g(e){let{value:a,label:t,onChange:s,options:r}=e;return(0,d.jsx)(n.Z.Item,{label:t,layout:r.length>2?"vertical":"horizontal",children:(0,d.jsx)(c.Z,{block:!0,value:a,onChange:s,options:r.map((e=>({label:(0,d.jsx)(l.Z,{arrow:!0,trigger:"hover",title:e.title,children:e.icon}),value:e.value})))})})}},8866:(e,a,t)=>{t.d(a,{N:()=>r});var n=t(945),s=t(184);function r(e){let{children:a,level:t,...r}=e;return(0,s.jsx)(n.Z.Title,{level:null!==t&&void 0!==t?t:3,...r,children:a})}},8357:(e,a,t)=>{t.d(a,{tj:()=>o.tj,xh:()=>o.xh,H:()=>o.H,zE:()=>o.zE,Do:()=>o.Do,Th:()=>u,F6:()=>r});t(8866);var n=t(3733),s=t(184);const r=e=>{let{children:a,active:t=!1,activeClass:r="",className:o="",hoverType:i="scale",...c}=e;return(0,s.jsx)("button",{className:(0,n.Z)("transparent-button","transparent-button--".concat(i),t&&(r||"transparent-button--active"),o),...c,children:a})};var o=t(2043),i=t(952),c=t(5225),l=t(7965);function d(e){let{isLoading:a,isIdle:t,error:n,isDirty:r,isError:o,hasResponseData:c}=e;return t?(0,s.jsx)(i.Z,{children:"No Data yet"}):a?(0,s.jsx)(i.Z,{color:"blue",children:"Loading..."}):n||o?(0,s.jsx)(i.Z,{color:"red",children:"Error"}):r?(0,s.jsx)(i.Z,{color:"orange",children:"Modified"}):c?(0,s.jsx)(i.Z,{color:"green",children:"Loaded"}):(0,s.jsx)(i.Z,{children:"No Data"})}function u(e){return(0,s.jsx)(l.Pd,{children:(0,s.jsx)(c.Z.Item,{label:"Status",children:(0,s.jsx)(d,{...e})})})}},9961:(e,a,t)=>{t.d(a,{m:()=>i});var n=t(2252),s=t(5657),r=t(7134),o=t(184);function i(e){let{content:a,shape:t,icon:i,size:c,...l}=e;const d=(0,r._)();return(0,o.jsx)(n.ZP,{shape:null!==t&&void 0!==t?t:"circle",icon:null!==i&&void 0!==i?i:(0,o.jsx)(s.Z,{}),size:null!==c&&void 0!==c?c:"small",onClick:()=>d(a),...l})}},2128:(e,a,t)=>{t.d(a,{T:()=>c});var n=t(468),s=t(1790),r=t(9263),o=t(4664),i=t(184);function c(e){let{isLoading:a,isIdle:t,error:c,hasResponseData:l,children:d}=e;return!t&&a?(0,i.jsx)(n.Z,{tip:"Loading",children:d}):c?(0,i.jsx)(s.Z.Content,{className:"content content-center",children:(0,i.jsx)(r.Z,{message:"Error",description:c.message,type:"error",showIcon:!0})}):t||!1===l?(0,i.jsx)(s.Z.Content,{className:"content content-center",children:(0,i.jsx)(o.Z,{})}):(0,i.jsx)(i.Fragment,{children:d})}},145:(e,a,t)=>{t.d(a,{f:()=>i});var n=t(3733),s=t(6340),r=t(2606),o=t(184);const i=e=>{let{id:a,width:t=200,className:i="",preview:c=!0,fileExtension:l="jpg"}=e;const{getUrl:d}=(0,r.n)("images"),u=a.replace(/-/g,"/");return(0,o.jsx)("div",{className:(0,n.Z)("image-card",i),children:(0,o.jsx)(s.Z,{width:t,src:d("".concat(u,".").concat(l)),fallback:d("back/default.jpg"),preview:c})})}},2606:(e,a,t)=>{function n(e){let a="https://www.kavispires.com",t="";switch(e){case"images":t="td-images/images";break;case"sprites":t="td-sprites";break;case"resources":t="td-resources/resources";break;case"classic":t="td-classic/images";break;default:throw new Error("Invalid library")}return{baseUrl:a,getUrl:e=>[a,t,e].join("/")}}t.d(a,{n:()=>n})},9946:(e,a,t)=>{t.d(a,{m:()=>r});var n=t(2791),s=t(7415);function r(e,a){const[t,{width:r}]=(0,s.Z)(),{gap:o=32,minWidth:i=120,maxWidth:c=300,margin:l=0}=null!==a&&void 0!==a?a:{};return[(0,n.useMemo)((()=>{const a=Math.min(Math.max(Math.floor((r-l)/e)-o,i),c);return Number.isNaN(a)?i:a}),[r,e,o,i,c,l]),t]}},7134:(e,a,t)=>{t.d(a,{_:()=>i});var n=t(4747),s=t(763),r=t(2791),o=t(3250);function i(){const[e,a]=(0,o.Z)(),{message:t}=n.Z.useApp();return(0,r.useEffect)((()=>{e.value&&(e.value.length>20?t.info("Copied to clipboard: ".concat((0,s.truncate)(e.value,{length:30,omission:"..."}))):t.success("Copied"))}),[e,t]),a}},4766:(e,a,t)=>{t.d(a,{K:()=>r});var n=t(2791),s=t(1087);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[a,t]=(0,s.lr)(),r=(e,n,s)=>{void 0===n||""===n||n===s?a.delete(e):a.set(e,String(n)),t(a)},o=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.entries(e).forEach((e=>{let[t,s]=e;n[t]===s?a.delete(t):a.set(t,String(s))})),t(a)},i=e=>{a.delete(e),t(a)},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return a.get(e)===String(t)};return(0,n.useEffect)((()=>{Object.entries(e).forEach((e=>{let[t,n]=e;a.has(t)||r(t,n)}))}),[]),{addParam:r,addParams:o,removeParam:i,queryParams:a,is:c}}},5529:(e,a,t)=>{t.d(a,{N:()=>o,Y:()=>i});var n=t(763),s=t(2010),r=t(2606);function o(e){var a;let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{getUrl:o}=(0,r.n)("resources"),i=(0,s.a)({queryKey:[e],queryFn:async()=>{const a=await fetch(o("".concat(e,".json")));return await a.json()},enabled:t}),c=!(0,n.isEmpty)(i.data);return{...i,data:null!==(a=i.data)&&void 0!==a?a:{},hasResponseData:c}}function i(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{getUrl:t}=(0,r.n)("resources"),o=(0,s.a)({queryKey:[e],queryFn:async()=>{const a=await fetch(t("".concat(e,".json")));return await a.json()},enabled:a}),i=!(0,n.isEmpty)(o.data);return{...o,data:o.data,hasResponseData:i}}},2535:(e,a,t)=>{t.r(a),t.d(a,{default:()=>O});var n=t(1790),s=t(2128),r=t(7965),o=t(4562),i=t(8357),c=t(4766),l=t(5529),d=t(2252),u=t(945),m=t(4520),h=t(952),p=t(1046),g=t(7128),j=t(2061),x=t(763),v=t(2791),f=t(9961),b=t(145),Z=t(9946),w=t(6365),N=t(114),y=t(8663),T=t(4818),C=t(184);function E(e){let{role:a,language:t}=e;const[n]=(0,Z.m)(8);return(0,C.jsxs)("div",{children:[(0,C.jsx)(u.Z.Title,{level:3,children:a.title[t]}),(0,C.jsxs)("div",{className:"suspect",style:{width:"".concat(n,"px")},children:[(0,C.jsx)(b.f,{id:a.actor.id,width:n,className:"suspect__image"}),(0,C.jsxs)("div",{className:"suspect__name",children:[(0,C.jsx)("div",{children:(0,C.jsx)(h.Z,{children:a.actor.id})}),(0,C.jsxs)("div",{children:["\ud83c\udde7\ud83c\uddf7 ",a.actor.name.pt]}),(0,C.jsxs)("div",{children:["\ud83c\uddfa\ud83c\uddf8 ",a.actor.name.en]}),(0,C.jsxs)("div",{className:"suspect__info",children:[(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{children:["male"===a.actor.gender?(0,C.jsx)(w.Z,{}):(0,C.jsx)(N.Z,{})," ",a.actor.age]}),(0,C.jsx)("div",{children:(0,C.jsx)("em",{children:a.actor.ethnicity})})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(y.Z,{}),(0,C.jsx)("br",{}),a.actor.build]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(T.Z,{}),(0,C.jsx)("br",{}),a.actor.height]})]})]})]}),(0,C.jsx)("br",{}),(0,C.jsx)("strong",{children:"Traits:"}),(0,C.jsx)("ul",{children:a.traits.map((e=>(0,C.jsx)("li",{children:e},e)))})]},a.id)}function k(e){let{movieTitles:a,movieGenres:t,movieActors:n,characterTraits:s,items:r,language:o}=e;const[i,c]=(0,v.useState)({movieTitle:"",genre:{id:"",name:{pt:"",en:""},rating:0,rolesIds:[]},subGenre:{id:"",name:{pt:"",en:""},rating:0,rolesIds:[]},castingRoles:[],features:[],rating:0,props:[]}),l=(0,v.useMemo)((()=>D(i)),[i]),x=(0,v.useMemo)((()=>I(i)),[i]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.ZP,{onClick:()=>c(R(a,t,n,s,r)),children:"Create Feature Film"}),Boolean(i)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(u.Z.Title,{level:2,children:i.movieTitle||"?"}),(0,C.jsxs)(u.Z.Paragraph,{children:[(0,C.jsx)("strong",{children:"Genre:"})," ",i.genre.name[o],(0,C.jsx)("br",{}),(0,C.jsx)("strong",{children:"Sub-genre:"})," ",i.subGenre.name[o],(0,C.jsx)("br",{}),(0,C.jsx)("strong",{children:"Rating:"})," ",i.rating,(0,C.jsx)("br",{}),(0,C.jsxs)(m.Z,{children:[(0,C.jsx)("strong",{children:"Features:"}),i.features.map((e=>(0,C.jsx)(h.Z,{children:e.name[o]},e.id)))]}),(0,C.jsxs)(m.Z,{children:[(0,C.jsx)("strong",{children:"Key Objects:"}),i.props.map((e=>(0,C.jsx)(h.Z,{children:e.name[o]},e.id)))]})]}),(0,C.jsx)(p.Z,{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",alignItems:"flex-start"},children:i.castingRoles.map((e=>(0,C.jsx)(E,{role:e,language:o},e.id)))}),(0,C.jsx)(g.Z,{}),(0,C.jsxs)(u.Z.Title,{level:2,children:["Movie Prompt ",(0,C.jsx)(f.m,{content:l})]}),(0,C.jsx)(j.Z.TextArea,{value:l,autoSize:{minRows:3,maxRows:10}}),(0,C.jsxs)(u.Z.Title,{level:2,children:["TV Series Prompt ",(0,C.jsx)(f.m,{content:x})]}),(0,C.jsx)(j.Z.TextArea,{value:x,autoSize:{minRows:3,maxRows:10}})]})]})}const R=(e,a,t,n,s)=>{var r,o,i;const c=(0,x.sampleSize)(e,2).map(((e,a)=>a%2===0?e.prefix:e.suffix)).join(" ");let l=0;const d=(0,x.sample)(Object.values(null!==(r=a.genres)&&void 0!==r?r:{}));if(!d)throw new Error("No genre found");l+=d.rating;const u=(0,x.sample)(Object.values(null!==(o=a.subGenres)&&void 0!==o?o:{}));if(!u)throw new Error("No sub-genre found");l+=u.rating;let m=[];Object.values(null!==(i=a.features)&&void 0!==i?i:{}).forEach((e=>{Math.random()<e.probability&&(m.push(e),l+=e.rating)}));const h=[];d.rolesIds.forEach((e=>{h.push(a.roles[e])})),u.rolesIds.forEach((e=>{h.push(a.roles[e])}));const p=function(e,a){const t=[],n=new Set;for(const s of e)if(!n.has(s.id)&&(t.push(s),n.add(s.id),t.length===a))break;return t}(h,5),g=(0,x.sampleSize)(t,p.length),j=(0,x.cloneDeep)((0,x.shuffle)(n));return{movieTitle:c,genre:d,subGenre:u,castingRoles:p.map(((e,a)=>{return{...e,actor:{...g[a],id:(t=g[a].id,t.split("-").join("-ct-"))},traits:j.splice(0,e.complexity).map((e=>e.answer))};var t})),features:m,rating:l,props:(0,x.sampleSize)(s,8)}},D=e=>{let a="Escreva o resumo de um filme de ".concat(e.genre.name.pt,"/").concat(e.subGenre.name.pt,' entitulado "').concat(e.movieTitle,'"');return e.features.length>0&&(a+=" que contenha os seguintes elementos: ".concat(e.features.map((e=>e.name.pt)).join(", "))),a+=". Incorpore os personagens as suas caracter\xedsticas na trama, seja criativo e tamb\xe9m incorpore esses objetos na trama: ".concat(e.props.slice(0,3).map((e=>e.name.pt)).join(", "),". Para a idade, escolha um n\xfamero aleat\xf3rio dentre a faixa dada, por exemplo 20-30, diga 26 anos. N\xe3o use parenteses no texto. Adicione um plot twist inesperado. Aqui v\xe3o os personagens: \n"),e.castingRoles.forEach((e=>{a+="\n".concat(e.title.pt,": ").concat(e.actor.name.pt.split(" ")[0],", ").concat(e.actor.age," anos, ").concat(P[e.actor.gender],", ").concat(S[e.actor.ethnicity],", com as caracter\xedsticas: ").concat(e.traits.join(", "),".\n")})),a},I=e=>{let a="Escreva o resumo de cada um dos 8 epis\xf3dios d\xe1 s\xe9rie de ".concat(e.genre.name.pt,"/").concat(e.subGenre.name.pt,' entitulada "').concat(e.movieTitle,'"');return e.features.length>0&&(a+=" que contenha os seguintes elementos: ".concat(e.features.map((e=>e.name.pt)).join(", "))),a+=". Incorpore o t\xedtulo da s\xe9rie e todos os personagens as suas caracter\xedsticas na trama, seja criativo e tamb\xe9m incorpore esses objetos na trama: ".concat(e.props.map((e=>e.name.pt)).join(", "),". Para a idade, escolha um n\xfamero aleat\xf3rio dentre a faixa dada, por exemplo 20-30, diga 26 anos. N\xe3o use parenteses no texto. Cada epis\xf3dio deve terminar com um cliffhanger e o pr\xf3ximo epis\xf3dio deve continuar desse cliffhanger. Aqui v\xe3o os personagens: \n"),e.castingRoles.forEach((e=>{a+="\n".concat(e.title.pt,": ").concat(e.actor.name.pt.split(" ")[0],", ").concat(e.actor.age," anos, ").concat(P[e.actor.gender],", ").concat(S[e.actor.ethnicity],", com as caracter\xedsticas: ").concat(e.traits.join(", "),".\n")})),a},P={female:"mulher",male:"homem"},S={asian:"asi\xe1tico",black:"negro",caucasian:"branco",latino:"latino",mixed:"mesti\xe7o","middle-eastern":"oriente-m\xe9dio","native-american":"nativo-americano",indian:"indiano"};const O=function(){var e;const{queryParams:a}=(0,c.K)({language:"pt"}),t=null!==(e=a.get("language"))&&void 0!==e?e:"pt",d=(0,l.N)("movies-".concat(t)),u=(0,l.Y)("movie-genres"),m=(0,l.N)("suspects"),h=(0,l.N)("testimony-questions-".concat(t)),p=(0,l.N)("items"),g=d.hasResponseData&&u.hasResponseData&&m.hasResponseData&&p.hasResponseData&&h.hasResponseData,j=d.isLoading||u.isLoading||m.isLoading||p.isLoading||h.isLoading,x=d.error||u.error||m.error||h.error;return(0,C.jsx)(r.Xg,{title:"Movie Maker",children:(0,C.jsxs)(n.Z,{hasSider:!0,children:[(0,C.jsx)(o.p,{children:(0,C.jsx)(i.Th,{hasResponseData:g,isLoading:j,error:x})}),(0,C.jsx)(n.Z.Content,{className:"content",children:(0,C.jsx)(s.T,{hasResponseData:g,isLoading:j,error:x,children:(0,C.jsx)(k,{movieTitles:Object.values(d.data),movieGenres:u.data,movieActors:Object.values(m.data),characterTraits:Object.values(h.data),items:Object.values(p.data),language:t})})})]})})}}}]);
//# sourceMappingURL=MovieMaker.3641e636.chunk.js.map