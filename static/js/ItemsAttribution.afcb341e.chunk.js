"use strict";(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[5404],{2043:(e,t,a)=>{a.d(t,{Do:()=>h,H:()=>g,tj:()=>p,xh:()=>m,zE:()=>u});var s=a(5225),l=a(5437),i=a(4003),n=a(5922),r=a(9862),o=a(4248),c=a(1431),d=a(184);function u(e){let{label:t,value:a,onChange:i,options:n,placeholder:r}=e;return(0,d.jsx)(s.Z.Item,{label:t,children:(0,d.jsxs)(l.Z,{style:{minWidth:"150px"},onChange:i,value:a,children:[r&&(0,d.jsx)(l.Z.Option,{value:"",disabled:!0,children:"placeholder"}),n.map((e=>"object"===typeof e?(0,d.jsx)(l.Z.Option,{value:e.value,children:e.label},"".concat(t,"-").concat(e.value)):(0,d.jsx)(l.Z.Option,{value:e,children:e},"".concat(t,"-").concat(e))))]})})}function m(e){let{label:t,value:a,onChange:l,min:n=0,max:r=100,step:o}=e;return(0,d.jsx)(s.Z.Item,{label:t,children:(0,d.jsx)(i.Z,{min:n,max:r,value:a,onChange:e=>l(null!==e&&void 0!==e?e:r),style:{minWidth:"150px",width:"100%"},step:o})})}function h(e){let{label:t,value:a,onChange:l,className:i,disabled:r}=e;return(0,d.jsx)(s.Z.Item,{label:t,valuePropName:"checked",className:i,children:(0,d.jsx)(n.Z,{checked:a,onChange:l,size:"small",disabled:r})})}function p(e){let{label:t,value:a,onChange:l,disabled:i,className:n}=e;return(0,d.jsx)(s.Z.Item,{label:t,valuePropName:"checked",className:n,children:(0,d.jsx)(r.Z,{checked:a,onChange:e=>l(e.target.checked),disabled:i})})}function g(e){let{value:t,label:a,onChange:l,options:i}=e;return(0,d.jsx)(s.Z.Item,{label:a,layout:i.length>2?"vertical":"horizontal",children:(0,d.jsx)(o.Z,{block:!0,value:t,onChange:l,options:i.map((e=>({label:(0,d.jsx)(c.Z,{arrow:!0,trigger:"hover",title:e.title,children:e.icon}),value:e.value})))})})}},1310:(e,t,a)=>{a.d(t,{H:()=>n});var s=a(184);function l(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 335.4",...e,children:[(0,s.jsx)("path",{fill:"#73af00",d:"M473.6 0H38.3A38.3 38.3 0 000 38.3v258.8a38.4 38.4 0 0038.4 38.4h435.3A38.4 38.4 0 00512 297V38.3A38.3 38.3 0 00473.6 0z"}),(0,s.jsx)("path",{fill:"#ffe15a",d:"M251.4 47l-186 113.2a8.8 8.8 0 000 15l186 113.3a8.8 8.8 0 009.2 0l186-113.2a8.8 8.8 0 000-15.1l-186-113.3a8.8 8.8 0 00-9.2 0z"}),(0,s.jsx)("circle",{cx:"256",cy:"167.7",r:"70.6",fill:"#41479b"}),(0,s.jsx)("path",{fill:"#f5f5f5",d:"M195.4 131.6a70.2 70.2 0 00-7.6 18.1c39.1-3 97 8 134 43.8a70.4 70.4 0 004.5-19.5c-38-32.1-90.7-43.5-130.9-42.4zm63.6 60.2l1.8 5.7h6a.8.8 0 01.4 1.4l-4.8 3.5 1.8 5.7a.8.8 0 01-1.2.9l-4.8-3.5-4.9 3.5a.8.8 0 01-1.2-.9l1.8-5.7-4.8-3.5a.8.8 0 01.5-1.4h6l1.8-5.7a.8.8 0 011.5 0zm23 14.6l.8 2.4h2.6a.3.3 0 01.2.7l-2 1.5.7 2.4a.3.3 0 01-.5.4l-2.1-1.5-2.1 1.5a.3.3 0 01-.5-.4l.7-2.4-2-1.5a.3.3 0 01.2-.7h2.5l.9-2.4a.3.3 0 01.6 0zm-33-25.3l.7 2.4h2.6a.3.3 0 01.2.7l-2 1.5.7 2.5a.3.3 0 01-.5.3l-2-1.5-2.2 1.5a.3.3 0 01-.5-.4l.8-2.4-2-1.5a.3.3 0 01.1-.6h2.6l.8-2.5a.3.3 0 01.6 0zm-44.9-2.9l.8 2.4h2.6a.3.3 0 01.2.6l-2 1.5.7 2.5a.3.3 0 01-.5.4l-2.1-1.5-2 1.4a.3.3 0 01-.6-.3l.8-2.5-2-1.5a.3.3 0 01.1-.6h2.6l.8-2.4a.3.3 0 01.6 0zm37.5 27.4l.8 2.4h2.6a.3.3 0 01.2.6l-2 1.5.7 2.5a.3.3 0 01-.5.4l-2.1-1.5-2 1.5a.3.3 0 01-.6-.4l.7-2.5-2-1.5a.3.3 0 01.2-.6h2.5l.9-2.4a.3.3 0 01.6 0zM221 176.5l.7 2h2a.3.3 0 01.2.5l-1.7 1.2.7 2a.3.3 0 01-.5.3l-1.7-1.2-1.7 1.2a.3.3 0 01-.4-.3l.6-2-1.7-1.2a.3.3 0 01.2-.5h2.1l.7-2a.3.3 0 01.5 0zm62.8-41l.8 2.5h2.7a.3.3 0 01.2.6l-2.1 1.6.7 2.5a.3.3 0 01-.5.4l-2.1-1.5-2.1 1.5a.4.4 0 01-.6-.4l.8-2.5-2.1-1.6a.3.3 0 01.2-.6h2.6l.8-2.5a.3.3 0 01.7 0zM207 164.3l.7 2h2a.3.3 0 01.2.5l-1.7 1.3.7 2a.3.3 0 01-.5.3l-1.7-1.2-1.7 1.2a.3.3 0 01-.4-.3l.6-2-1.7-1.3a.3.3 0 01.2-.5h2.1l.7-2a.3.3 0 01.5 0zm10.1 28l1 3h3.2a.4.4 0 01.2.8L219 198l1 3a.4.4 0 01-.7.5l-2.5-1.9-2.6 1.9a.4.4 0 01-.7-.5l1-3-2.5-1.9a.4.4 0 01.2-.8h3.2l1-3a.4.4 0 01.7 0zm77.8 14.7l.6 2h2a.3.3 0 01.2.4l-1.6 1.2.6 1.9a.3.3 0 01-.4.3l-1.7-1.2-1.6 1.2a.3.3 0 01-.4-.3l.6-1.9-1.6-1.2a.3.3 0 01.1-.5h2l.7-1.9a.3.3 0 01.5 0zm7-14.4l.8 2.4h2.5a.3.3 0 01.3.7l-2.1 1.5.8 2.4a.3.3 0 01-.6.4l-2-1.5-2.1 1.5a.3.3 0 01-.6-.4l.8-2.4-2-1.5a.3.3 0 01.1-.6h2.6l.8-2.4a.3.3 0 01.7-.1z"})]})}function i(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 335.45",...e,children:[(0,s.jsx)("path",{fill:"#f5f5f5",d:"M473.65.01H38.35A38.34 38.34 0 000 38.35v258.76a38.35 38.35 0 0038.35 38.35h435.3A38.35 38.35 0 00512 297.11V38.35A38.34 38.34 0 00473.65.01z"}),(0,s.jsx)("path",{fill:"#ff4b55",d:"M2.11 25.81h507.78A38.34 38.34 0 00473.66.01H38.35a38.35 38.35 0 00-36.24 25.8z"}),(0,s.jsx)("path",{fill:"#ff4b55",d:"M0 103.22H512V129.02H0z"}),(0,s.jsx)("path",{fill:"#ff4b55",d:"M0 51.61H512V77.41H0z"}),(0,s.jsx)("path",{fill:"#ff4b55",d:"M0 171.8a8.83 8.83 0 008.83 8.83H512v-25.8H0z"}),(0,s.jsx)("path",{fill:"#ff4b55",d:"M0 258.05H512V283.85H0z"}),(0,s.jsx)("path",{fill:"#ff4b55",d:"M509.89 309.65H2.11a38.35 38.35 0 0036.24 25.8h435.3a38.35 38.35 0 0036.24-25.8z"}),(0,s.jsx)("path",{fill:"#ff4b55",d:"M0 206.43H512V232.23000000000002H0z"}),(0,s.jsx)("path",{fill:"#41479b",d:"M8.83 180.63h220.69a8.83 8.83 0 008.83-8.83V8.83A8.84 8.84 0 00229.52 0H38.35A38.36 38.36 0 000 38.35V171.8a8.83 8.83 0 008.83 8.83z"}),(0,s.jsx)("path",{fill:"#f5f5f5",d:"M24.79 20.27l1.95 5.86h6.18a.84.84 0 01.49 1.51l-5 3.66 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.92l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l1.95-5.86a.83.83 0 011.6-.01zM24.79 50.92l1.95 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l1.95-5.86a.83.83 0 011.6 0zM24.79 81.58l1.95 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.92l1.86-5.89-5-3.67a.84.84 0 01.49-1.51h6.18l1.95-5.86a.83.83 0 011.6 0zM24.79 112.23l1.95 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.6-5 3.6a.83.83 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l1.95-5.86a.83.83 0 011.6 0zM24.79 142.88l1.95 5.85 6.18.05a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l1.95-5.86a.83.83 0 011.6-.04zM48.58 35.3l2 5.86h6.17a.83.83 0 01.49 1.5l-5 3.67 1.87 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l2-5.86a.83.83 0 011.5 0zM48.58 65.95l2 5.86h6.17a.83.83 0 01.49 1.5l-5 3.67 1.87 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l2-5.86a.83.83 0 011.5 0zM48.58 96.61l2 5.86h6.17a.83.83 0 01.49 1.5l-5 3.67 1.87 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.8-5.8-5-3.67a.83.83 0 01.49-1.5l6.18-.05 2-5.86a.83.83 0 011.56-.04zM48.58 127.26l2 5.86 6.17.05a.83.83 0 01.49 1.5l-5 3.67 1.87 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5l6.18-.05 2-5.86a.83.83 0 011.5 0zM72.38 20.27l2 5.86h6.18a.83.83 0 01.44 1.6l-5 3.66 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.87-5.89-5-3.66a.84.84 0 01.49-1.51h6.17l2-5.86a.83.83 0 011.55-.09zM72.38 50.92l2 5.86h6.18a.83.83 0 01.48 1.5l-5 3.67 1.86 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5h6.17l2-5.86a.83.83 0 011.51 0zM72.38 81.58l2 5.86h6.18a.83.83 0 01.48 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5h6.17l2-5.86a.83.83 0 011.51 0zM72.38 112.23l2 5.86h6.18a.83.83 0 01.48 1.5l-5 3.67 1.86 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5h6.17l2-5.86a.83.83 0 011.51 0zM72.38 142.88l2 5.86 6.18.05a.83.83 0 01.48 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.84.84 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5l6.17-.05 2-5.86a.84.84 0 011.51 0zM96.17 35.3l2 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.27-.93l1.86-5.89-5.01-3.6a.83.83 0 01.49-1.5h6.18l2-5.86a.83.83 0 011.5-.07zM96.17 65.95l2 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.6-5 3.6a.83.83 0 01-1.27-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l2-5.86a.83.83 0 011.49 0zM96.17 96.61l2 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.27-.93l1.79-5.8-5-3.67a.83.83 0 01.49-1.5l6.18-.05 2-5.86a.83.83 0 011.56-.04zM96.17 127.26l2 5.86 6.18.05a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.6-5 3.6a.83.83 0 01-1.27-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5l6.18-.05 2-5.86a.83.83 0 011.49 0zM120 20.27l2 5.86h6.17a.84.84 0 01.49 1.51l-5 3.66 1.87 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.86-5.88-5-3.67a.84.84 0 01.49-1.51h6.18l1.95-5.86a.83.83 0 011.55 0zM120 50.92l2 5.86h6.17a.83.83 0 01.49 1.5l-5 3.67 1.87 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l1.95-5.86a.83.83 0 011.55 0zM120 81.58l2 5.86h6.17a.83.83 0 01.49 1.5l-5 3.67 1.87 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5l6.18-.05 1.95-5.86a.83.83 0 011.55.05zM120 112.23l2 5.86h6.17a.83.83 0 01.49 1.5l-5 3.67 1.87 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l1.95-5.86a.83.83 0 011.55 0zM120 142.88l2 5.86 6.17.05a.83.83 0 01.49 1.5l-5 3.67 1.87 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.84.84 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5l6.18-.05 1.95-5.86a.84.84 0 011.55 0zM143.76 35.3l2 5.86h6.18a.83.83 0 01.48 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5h6.17l2-5.86a.83.83 0 011.51 0zM143.76 65.95l2 5.86h6.18a.83.83 0 01.48 1.5l-5 3.67 1.86 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5h6.17l2-5.86a.83.83 0 011.51 0zM143.76 96.61l2 5.86h6.18a.83.83 0 01.48 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5l6.17-.05 2-5.86a.83.83 0 011.51.05zM143.76 127.26l2 5.86 6.18.05a.83.83 0 01.48 1.5l-5 3.67 1.86 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5l6.17-.05 2-5.86a.83.83 0 011.51 0zM167.55 20.27l1.95 5.86h6.18a.84.84 0 01.49 1.51l-5 3.66 1.86 5.89a.83.83 0 01-1.27.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.86-5.89-5-3.66a.84.84 0 01.49-1.51h6.18l1.95-5.86a.83.83 0 011.59 0zM167.55 50.92l1.95 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.27.93l-5-3.6-5 3.6a.83.83 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l1.95-5.86a.83.83 0 011.59 0zM167.55 81.58l1.95 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.27.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l1.95-5.86a.83.83 0 011.59 0zM167.55 112.23l1.95 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.27.93l-5-3.6-5 3.6a.83.83 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5h6.18l1.99-5.86a.83.83 0 011.55 0zM167.55 142.88l1.95 5.85 6.18.05a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.27.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.49-1.5l6.17-.05 1.95-5.86a.84.84 0 011.6.01zM191.34 35.3l2 5.86h6.17a.83.83 0 01.49 1.57l-5 3.67 1.87 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.48-1.5h6.18l1.95-5.86a.83.83 0 011.56-.07zM191.34 65.95l2 5.86h6.17a.83.83 0 01.49 1.5l-5 3.67 1.87 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.48-1.5h6.18l1.95-5.86a.83.83 0 011.56 0zM191.34 96.61l2 5.86h6.17a.83.83 0 01.49 1.5l-5 3.76 1.87 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.48-1.5l6.18-.05 1.95-5.86a.83.83 0 011.56-.04zM191.34 127.26l2 5.86 6.17.05a.83.83 0 01.49 1.5l-5 3.67 1.87 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.86-5.89-5-3.67a.83.83 0 01.48-1.5l6.18-.05 1.95-5.86a.83.83 0 011.56 0zM215.14 20.27l2 5.86h6.18a.84.84 0 01.49 1.51l-5 3.66 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.87-5.89-5-3.66a.84.84 0 01.49-1.51h6.17l2-5.86a.83.83 0 011.5 0zM215.14 50.92l2 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5h6.17l2-5.86a.83.83 0 011.5 0zM215.14 81.58l2 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.83.83 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5h6.17l2-5.86a.83.83 0 011.5 0zM215.14 112.23l2 5.86h6.18a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.84.84 0 01-1.28.93l-5-3.6-5 3.6a.84.84 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5h6.17l2-5.86a.83.83 0 011.5 0zM215.14 142.88l2 5.86 6.18.05a.83.83 0 01.49 1.5l-5 3.67 1.86 5.89a.83.83 0 01-1.28.93l-5-3.59-5 3.59a.84.84 0 01-1.28-.93l1.87-5.89-5-3.67a.83.83 0 01.49-1.5l6.17-.05 2-5.86a.84.84 0 011.5 0z"})]})}function n(e){let{language:t,...a}=e;return"pt"===t?(0,s.jsx)(l,{...a}):(0,s.jsx)(i,{...a})}},7340:(e,t,a)=>{a.d(t,{k:()=>u});var s=a(2556),l=a(2426),i=a.n(l),n=a(2791),r=a(8211),o=a(4483),c=a(4841),d=a(184);function u(e){let{isDirty:t,onSave:a,isSaving:l,dirt:u,interval:m=6e5,...h}=e;const{togglePendingSave:p}=(0,c.b)(),[,g,x]=(0,r.Z)((()=>{t&&a()}),m);return(0,n.useEffect)((()=>{t?(p(!0),console.log("Save Reset",i()(Date.now()).format("MM/DD/YYYY HH:mm:ss")),x()):(p(!1),g())}),[t,x,g,u]),(0,n.useEffect)((()=>{const e=e=>{if(t){const t="You have unsaved changes, are you sure you want to leave?";return e.returnValue=t,t}};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[t]),(0,d.jsx)(s.ZP,{type:"primary",size:"large",icon:(0,d.jsx)(o.Z,{}),onClick:a,disabled:!t,loading:l,danger:!0,block:!0,...h,children:"Save"})}},8866:(e,t,a)=>{a.d(t,{N:()=>i});var s=a(8252),l=a(184);function i(e){let{children:t,level:a,...i}=e;return(0,l.jsx)(s.Z.Title,{level:null!==a&&void 0!==a?a:3,...i,children:t})}},8357:(e,t,a)=>{a.d(t,{tj:()=>n.tj,xh:()=>n.xh,H:()=>n.H,zE:()=>n.zE,Do:()=>n.Do,Th:()=>u,F6:()=>i});a(8866);var s=a(3733),l=a(184);const i=e=>{let{children:t,active:a=!1,activeClass:i="",className:n="",hoverType:r="scale",...o}=e;return(0,l.jsx)("button",{className:(0,s.Z)("transparent-button","transparent-button--".concat(r),a&&(i||"transparent-button--active"),n),...o,children:t})};var n=a(2043),r=a(952),o=a(5225),c=a(7965);function d(e){let{isLoading:t,isIdle:a,error:s,isDirty:i,isError:n,hasResponseData:o}=e;return a?(0,l.jsx)(r.Z,{children:"No Data yet"}):t?(0,l.jsx)(r.Z,{color:"blue",children:"Loading..."}):s||n?(0,l.jsx)(r.Z,{color:"red",children:"Error"}):i?(0,l.jsx)(r.Z,{color:"orange",children:"Modified"}):o?(0,l.jsx)(r.Z,{color:"green",children:"Loaded"}):(0,l.jsx)(r.Z,{children:"No Data"})}function u(e){return(0,l.jsx)(c.Pd,{children:(0,l.jsx)(o.Z.Item,{label:"Status",children:(0,l.jsx)(d,{...e})})})}},8158:(e,t,a)=>{a.d(t,{CQ:()=>p,bN:()=>h,cw:()=>x,hW:()=>g,xL:()=>m});var s=a(1105),l=a(2556),i=a(1310),n=a(2997),r=a(8955),o=a(5458),c=a(1087),d=a(7134),u=a(184);function m(e){let{item:t,width:a,className:s}=e;return(0,u.jsx)(n.ck,{id:t.id,width:a,title:"".concat(t.name.en," | ").concat(t.name.pt),className:s})}function h(e){let{item:t}=e;const a=(0,d._)();return(0,u.jsx)("span",{children:(0,u.jsx)(s.Z,{prefix:t.nsfw?(0,u.jsx)(r.Z,{style:{color:"hotPink"}}):(0,u.jsx)(o.Z,{}),placeholder:"Id",variant:"borderless",size:"small",value:t.id,readOnly:!0,style:{width:"8ch"},onClick:()=>a(t.id)})})}function p(e){let{item:t,language:a}=e;return(0,u.jsx)(s.Z,{prefix:(0,u.jsx)(i.H,{language:a,width:"1em"}),placeholder:"Name in ".concat(a.toUpperCase()),variant:"borderless",size:"small",value:t.name[a],readOnly:!0})}function g(e){let{item:t}=e;return t.nsfw?(0,u.jsx)(r.Z,{style:{color:"hotpink"}}):(0,u.jsx)(u.Fragment,{})}function x(e){let{item:t}=e;const[,a]=(0,c.lr)();return(0,u.jsx)("span",{children:(0,u.jsx)(l.ZP,{size:"small",shape:"round",onClick:()=>{a({itemId:t.id,view:"classifier"})},children:"Go to"})})}},8178:(e,t,a)=>{a.d(t,{i:()=>d});var s=a(5),l=a(1105),i=a(5529),n=a(763),r=a(2791),o=a(5675),c=a(184);function d(e){let{items:t,isPending:a,style:d,size:u,placeholder:m,allowClear:h,onFinish:p,...g}=e;const x=(0,i.N)("items",!Boolean(t)&&!a),{namesDict:b,options:v}=(0,r.useMemo)((()=>{var e;console.log("Recomputing item names typeahead...");const a=Object.values(null!==(e=null!==t&&void 0!==t?t:x.data)&&void 0!==e?e:{}).reduce(((e,t)=>{const a="".concat(t.name.en," (").concat(t.id,")"),s="".concat(t.name.pt," (").concat(t.id,")");return e[a]=t.id,e[s]=t.id,t.aliasesEn&&t.aliasesEn.forEach((a=>{e["".concat(a," (").concat(t.id,")*")]=t.id})),t.aliasesPt&&t.aliasesPt.forEach((a=>{e["".concat(a," (").concat(t.id,")*")]=t.id})),e}),{});return{namesDict:a,options:(0,n.orderBy)(Object.keys(a),[e=>e.toLowerCase()]).map((e=>({value:e})))}}),[t,a]),[j,f]=(0,r.useState)([]),[y,I]=(0,r.useState)("");(0,o.Z)((()=>{y&&Z(y)}),500,[y]);const Z=e=>{if(!e)return void f([]);const t=e.trim().toUpperCase(),a=v.filter((e=>{var a;return String(null!==(a=null===e||void 0===e?void 0:e.value)&&void 0!==a?a:"").toUpperCase().includes(t)})),s=(0,n.orderBy)(a,[e=>{var a;const s=String(null!==(a=null===e||void 0===e?void 0:e.value)&&void 0!==a?a:"").toUpperCase();if(s===t)return 0;const l=s.match(/\((.*?)\)/);if(l&&l[1]===t)return 1;const i=s.indexOf(t);return 0===i?2:i>0?3:4}]);f(s)};return(0,c.jsx)(s.Z,{options:j,style:{width:250,...d},allowClear:null===h||void 0===h||h,placeholder:null!==m&&void 0!==m?m:"Search by name or id...",filterOption:(e,t)=>{var a;return-1!==String(null!==(a=null===t||void 0===t?void 0:t.value)&&void 0!==a?a:"").toUpperCase().indexOf(null===e||void 0===e?void 0:e.toUpperCase())},onSearch:I,notFoundContent:y.length>0?"No items found":"Type to search...",onSelect:e=>{void 0!==b[e]&&p(b[e])},...g,children:(0,c.jsx)(l.Z,{onPressEnter:()=>{if(j.length>0){const e=j[0].value;void 0!==b[e]&&p(b[e])}}})})}},7134:(e,t,a)=>{a.d(t,{_:()=>r});var s=a(4747),l=a(763),i=a(2791),n=a(3250);function r(){const[e,t]=(0,n.Z)(),{message:a}=s.Z.useApp();return(0,i.useEffect)((()=>{e.value&&(e.value.length>20?a.info("Copied to clipboard: ".concat((0,l.truncate)(e.value,{length:30,omission:"..."}))):a.success("Copied"))}),[e,a]),t}},8027:(e,t,a)=>{a.d(t,{A:()=>r,X:()=>o});var s=a(9631),l=a(8172),i=a(2010),n=a(5850);function r(e,t){return async()=>{var a;console.log("%cQuerying ".concat(e,"/").concat(t," from firebase: ").concat((0,n.xE)()),"color: #f0f");const i=(0,s.JU)(l.RZ,"".concat(e,"/").concat(t));return null!==(a=(await(0,s.QT)(i)).data())&&void 0!==a?a:{}}}function o(e,t,a){return(0,i.a)({queryKey:["firebase",e,t],queryFn:r(e,t),...a})}},5529:(e,t,a)=>{a.d(t,{N:()=>n,Y:()=>r});var s=a(763),l=a(2010),i=a(2606);function n(e){var t;let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{getUrl:n}=(0,i.n)("resources"),r=(0,l.a)({queryKey:[e],queryFn:async()=>{const t=await fetch(n("".concat(e,".json")));return await t.json()},enabled:a}),o=!(0,s.isEmpty)(r.data);return{...r,data:null!==(t=r.data)&&void 0!==t?t:{},hasResponseData:o}}function r(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{getUrl:a}=(0,i.n)("resources"),n=(0,l.a)({queryKey:[e],queryFn:async()=>{const t=await fetch(a("".concat(e,".json")));return await t.json()},enabled:t}),r=!(0,s.isEmpty)(n.data);return{...n,data:n.data,hasResponseData:r}}},2233:(e,t,a)=>{a.d(t,{B:()=>r});var s=a(9631),l=a(8172),i=a(8556);function n(e,t,a){console.log("%cUpdating ".concat(e,"/").concat(t," from firebase"),"color: #f00");const i=(0,s.JU)(l.RZ,"".concat(e,"/").concat(t));return(0,s.r7)(i,a)}function r(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.D)({mutationFn:async a=>n(e,t,a),...a})}},906:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_e});var s=a(3990),l=a(2128),i=a(1087);function n(){var e;const[t,a]=(0,i.lr)();return{view:null!==(e=t.get("view"))&&void 0!==e?e:"classifier",setView:e=>a({view:e}),addQueryParam:(e,s)=>{t.set(e,"".concat(s)),a(t)},removeQueryParam:e=>{t.delete(e),a(t)},searchParams:t}}var r=a(6473),o=a(8252),c=a(2556),d=a(7305),u=a(4520),m=a(7128),h=a(1046),p=a(4747),g=a(763),x=a(2791),b=a(5850),v=a(3713),j=a(8027),f=a(5529),y=a(2233);const I={};var Z=a(184);const C=(0,x.createContext)({getItem:()=>(0,b.VL)(),getItemAttributeValues:()=>(0,b.dK)(),isLoading:!0,error:null,hasResponseData:!1,isDirty:!1,jumpToItem:()=>{},activeItem:(0,b.VL)(),itemAttributeValues:(0,b.dK)(),onAttributeChange:()=>{},isSaving:!1,save:()=>{},attributesList:[],availableItemIds:[],addAttributesToUpdate:()=>{},addMultipleAttributesToUpdate:()=>{},prepareItemsAttributesFileForDownload:()=>({}),attributes:{},attributesToUpdate:{}}),N=e=>{let{children:t}=e;const{getItem:a,getItemAttributeValues:s,availableItemIds:l,isLoading:i,error:n,isSaving:r,save:o,addAttributesToUpdate:c,isDirty:d,attributes:u,addMultipleAttributesToUpdate:m,attributesToUpdate:h}=function(){var e;const{notification:t,message:a}=p.Z.useApp(),s=(0,v.NL)(),l=(0,f.N)("items"),i=(0,f.N)("items-attributes"),n=(0,f.N)("items-attribute-values"),r=(0,j.X)("tdr","itemsAttributeValues",{select:b.d_}),[o,c]=(0,x.useState)({}),d=(0,y.B)("tdr","itemsAttributeValues",{onSuccess:()=>{t.success({message:"itemsAttributeValues updated"}),s.refetchQueries({queryKey:["firebase","tdr","itemsAttributeValues"]}),c({})},onError:e=>{t.error({message:"itemsAttributeValues update failed",description:e.message})}}),u=(0,x.useMemo)((()=>{var e,t;return{...null!==(e=n.data)&&void 0!==e?e:{},...null!==(t=r.data)&&void 0!==t?t:{}}}),[n.data,r.data]),m=!(0,g.isEmpty)(o),h=r.data;return{availableItemIds:(0,x.useMemo)((()=>{var e;const t=null!==(e=l.data)&&void 0!==e?e:{};return(0,g.orderBy)(Object.keys(t).filter((e=>{var a,s;return(null!==(a=null===(s=t[e])||void 0===s?void 0:s.decks)&&void 0!==a?a:[]).includes("alien")})),(e=>Number(e)),"asc")}),[l.data]),getItem:e=>{var t,s;return null!==(t=null!==(s=l.data)&&void 0!==s?s:{})&&void 0!==t&&t[e]?l.data[e]:(e&&a.info("Item ".concat(e," not found in TDR. Creating a new item...")),(0,b.VL)({id:e}))},getItemAttributeValues:e=>{var t,a,s;const l=null!==(t=null===u||void 0===u?void 0:u[e])&&void 0!==t?t:{},i=null!==(a=o[e])&&void 0!==a?a:{};return(0,g.isEmpty)(l)&&(0,g.isEmpty)(i)?(I[e]=(0,b.dK)({id:e}),I[e]):(0,g.merge)(null!==(s=null===I||void 0===I?void 0:I[e])&&void 0!==s?s:{},l,i)},attributes:null!==(e=i.data)&&void 0!==e?e:{},isLoading:l.isLoading||i.isLoading||n.isLoading||r.isLoading,error:l.error||i.error||n.error||r.error,firebaseData:h,isSaving:d.isPending,save:()=>{d.mutate((0,b.aS)({...h,...o}))},addAttributesToUpdate:(e,t)=>{c((a=>({...a,[e]:{...t,updatedAt:Date.now()}})))},addMultipleAttributesToUpdate:e=>{c((t=>({...t,...(0,g.mapKeys)(e.map((e=>({...e,updatedAt:Date.now()}))),"id")})))},attributesToUpdate:o,isDirty:m}}(),{message:N}=p.Z.useApp(),[w,P]=(0,x.useState)((0,g.random)(0,l.length-1)),S=a(l[w]),E=s(S.id),z=(0,x.useMemo)((()=>(0,g.orderBy)(Object.values(u),"name.en","asc")),[u]);return(0,Z.jsx)(C.Provider,{value:{getItem:a,getItemAttributeValues:s,availableItemIds:l,isLoading:i,error:n,hasResponseData:l.length>0&&!(0,g.isEmpty)(u),isDirty:d,itemAttributeValues:E,jumpToItem:(e,t)=>{if("next"===e&&P((e=>(e+1)%l.length)),"previous"===e&&P((e=>(e-1+l.length)%l.length)),"random"===e&&P((0,g.random)(0,l.length-1)),"first"===e&&P(0),"last"===e&&P(l.length-1),"next10"===e&&P((e=>(e+10)%l.length)),"previous10"===e&&P((e=>(e-10+l.length)%l.length)),"goTo"===e&&void 0!==t){const e=l.indexOf(t);-1!==e?P(e):N.error("Item ".concat(t," is not available for attribution."))}},activeItem:S,onAttributeChange:(e,t)=>{c(S.id,{...E,attributes:{...E.attributes,[e]:t}})},isSaving:r,save:o,attributes:u,attributesList:z,addAttributesToUpdate:c,addMultipleAttributesToUpdate:m,prepareItemsAttributesFileForDownload:()=>(0,b.Tj)(l.reduce(((e,t)=>{const a=s(t);return(0,g.isEmpty)(a.attributes)||(Object.keys(a.attributes).length===z.length?a.complete=!0:delete a.complete,e[a.id]=a),e}),{})),attributesToUpdate:h},children:t})},w=()=>(0,x.useContext)(C);var P=a(4424),S=a(1431),E=a(9501),z=a(8835),T=a(6591);const M=[{label:"Opposite",value:T.NL.OPPOSITE},{label:"Unrelated",value:T.NL.UNRELATED},{label:"Unclear",value:T.NL.UNCLEAR},{label:"Related",value:T.NL.RELATED},{label:"Deterministic",value:T.NL.DETERMINISTIC}],A=[{label:"Opposite",value:T.NL.OPPOSITE},{label:"Unrelated",value:T.NL.UNRELATED},{label:"Unclear",value:T.NL.UNCLEAR},{label:"Related",value:T.NL.RELATED},{label:"Deterministic",value:T.NL.DETERMINISTIC,disabled:!0}];function k(e){let{attribute:t,value:a,onChange:s,onlyButtons:l}=e;return t?l?(0,Z.jsx)(P.ZP.Group,{options:t.limited?A:M,onChange:e=>{let{target:{value:a}}=e;return s(t.id,a)},value:a,optionType:"button",buttonStyle:"solid"}):(0,Z.jsxs)("div",{className:"attribute-button-container__row",children:[(0,Z.jsxs)("span",{className:"attribute-button-container__label",children:[t.name.en," ",(0,Z.jsx)(S.Z,{title:t.description.en,children:(0,Z.jsx)(E.Z,{})})]}),(0,Z.jsx)(P.ZP.Group,{options:t.limited?A:M,onChange:e=>{let{target:{value:a}}=e;return s(t.id,a)},value:a,optionType:"button",buttonStyle:"solid"}),(0,Z.jsx)("span",{children:(0,Z.jsx)(z.Z,{style:{color:a&&a>7?"green":"transparent"}})})]},t.id):(0,Z.jsx)(Z.Fragment,{})}var L=a(3733),D=a(8357),U=a(2997);function O(e){let{itemAttributeValues:t,attributes:a}=e;const{searchParams:s,addQueryParam:l}=n(),i="true"===s.get("showUnclear"),r="true"===s.get("showUnrelated"),o=(0,x.useMemo)((()=>(0,b.tt)((0,b.Mg)(t,a),i,r)),[t,a,i,r]),c="true"===s.get("signs")?F:R;return(0,Z.jsxs)(u.Z,{gap:6,vertical:!0,children:[(0,Z.jsx)(D.Do,{label:"Show Unrelated",value:"true"===s.get("showUnrelated"),onChange:e=>l("showUnrelated",e?"true":""),className:"full-width m-0"}),(0,Z.jsx)(D.Do,{label:"Show Unclear",value:"true"===s.get("showUnclear"),onChange:e=>l("showUnclear",e?"true":""),className:"full-width m-0"}),(0,Z.jsx)(D.Do,{label:"Alien Sings",value:"true"===s.get("signs"),onChange:e=>l("signs",e?"true":""),className:"full-width m-0"}),(0,Z.jsx)(u.Z,{gap:6,wrap:"wrap",className:"item-attribute-value-statement",children:o.map(((e,t,s)=>(0,Z.jsx)(c,{keyVariant:e,attributes:a,firstElement:0===t,lastElement:t===s.length-1},e)))})]})}function F(e){let{keyVariant:t,attributes:a,withText:s}=e;const{key:l,className:i,text:n}=(0,b.sB)(t);return(0,Z.jsxs)(u.Z,{vertical:!0,align:"center",children:[(0,Z.jsx)(U.o$,{width:50,id:a[l].spriteId,className:(0,L.Z)("item-attribute-alien-sign","item-attribute-alien-sign--".concat(i))}),s&&(0,Z.jsxs)(u.Z,{wrap:"wrap",justify:"center",align:"center",style:{maxWidth:50,textAlign:"center",wordBreak:"break-word"},children:[n," ",a[l].name.en.toLowerCase()]})]})}function R(e){let{keyVariant:t,attributes:a,firstElement:s,lastElement:l}=e;const{key:i,text:n}=(0,b.sB)(t),r=s?"It's ":"",o=l?".":", ";return(0,Z.jsxs)(Z.Fragment,{children:[r,n," ",a[i].name.en.toLowerCase(),o]})}var V=a(1532),B=a(4587),Q=a(952);function _(e){let{label:t,children:a}=e;return(0,Z.jsxs)(o.Z.Text,{children:[t," ",(0,Z.jsx)(Q.Z,{children:a})]})}function G(e){let{attributesList:t,itemAttributeValues:a}=e;const{completion:s,isDeterministic:l,value:i,isOpposing:n,relevancy:r}=(0,x.useMemo)((()=>{const e=t.length,s=Object.keys(a.attributes).length,l=Math.floor(s/e*100);let i=!1,n=!1,r=0;const o=Object.values(a.attributes).reduce(((e,t)=>t<=0?(t===T.NL.UNCLEAR&&(r+=1),t===T.NL.OPPOSITE&&(n=!0,e+=t/2),e):(t===T.NL.DETERMINISTIC&&(i=!0),e+t)),0),c=Math.floor((s-r)/e*100);return{completion:l,isDeterministic:i,value:o,isOpposing:n,relevancy:c}}),[t,a.attributes]);return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(o.Z.Text,{strong:!0,children:"Completion"}),(0,Z.jsx)(B.Z,{percent:s,size:"small"}),(0,Z.jsx)(o.Z.Text,{strong:!0,children:"Stats"}),(0,Z.jsxs)(u.Z,{vertical:!0,children:[(0,Z.jsx)(_,{label:"Deterministic",children:l?(0,Z.jsx)(z.Z,{style:{color:"green"}}):(0,Z.jsx)(V.Z,{style:{color:"red"}})}),(0,Z.jsx)(_,{label:"Opposing",children:n?(0,Z.jsx)(z.Z,{style:{color:"CornflowerBlue"}}):(0,Z.jsx)(V.Z,{style:{color:"grey"}})}),(0,Z.jsx)(_,{label:"Value",children:i}),(0,Z.jsxs)(_,{label:"Reliability",children:[r,"%"]})]})]})}var H=a(8158);function q(){const{activeItem:e,attributesList:t,itemAttributeValues:a,onAttributeChange:s,jumpToItem:l,attributes:i}=w(),{searchParams:p,removeQueryParam:g}=n(),b=p.get("itemId");(0,x.useEffect)((()=>{b&&(g("itemId"),l("goTo",b))}),[b,l,g]);const v="unset"===p.get("scope"),j=(0,x.useMemo)((()=>v?t.filter((e=>!a.attributes[e.id])):t),[v,e.id]);return e?(0,Z.jsx)(r.Z,{children:(0,Z.jsxs)("div",{className:"item-attribution-card",children:[(0,Z.jsx)(d.Z,{offsetTop:120,className:"item-attribution-card__item",children:(0,Z.jsxs)(u.Z,{vertical:!0,gap:6,children:[(0,Z.jsx)(H.xL,{item:e,width:150}),(0,Z.jsx)(H.bN,{item:e}),(0,Z.jsx)(H.CQ,{item:e,language:"en"}),(0,Z.jsx)(H.CQ,{item:e,language:"pt"}),(0,Z.jsx)(m.Z,{className:"my-2"}),(0,Z.jsx)(G,{attributesList:t,itemAttributeValues:a}),(0,Z.jsx)(m.Z,{className:"my-2"}),(0,Z.jsx)(o.Z.Text,{type:"secondary",children:(0,Z.jsx)(O,{itemAttributeValues:a,attributes:i})})]})}),(0,Z.jsx)(h.Z,{size:"small",direction:"vertical",className:"my-4 attribute-button-container",wrap:!0,children:j.map(((e,t)=>(0,Z.jsx)(k,{attribute:e,value:a.attributes[e.id],onChange:s},e.id)))})]},"".concat(e.id))}):(0,Z.jsx)(r.Z,{children:(0,Z.jsxs)(o.Z.Text,{type:"secondary",children:["No item selected."," ",(0,Z.jsx)(c.ZP,{size:"small",type:"primary",onClick:()=>l("random"),children:"Random Item"})]})})}var K=a(9228),Y=a(9515),W=a(5812),$=a(5354),J=a(7074),X=a(992),ee=a(6588),te=a(8178);function ae(){const{jumpToItem:e}=w();return(0,Z.jsxs)(c.ZP.Group,{className:"my-4",children:[(0,Z.jsx)(c.ZP,{onClick:()=>e("first"),icon:(0,Z.jsx)(Y.Z,{}),children:"First"}),(0,Z.jsx)(c.ZP,{onClick:()=>e("previous10"),icon:(0,Z.jsx)(W.Z,{}),children:"Previous 10"}),(0,Z.jsx)(c.ZP,{onClick:()=>e("previous"),icon:(0,Z.jsx)($.Z,{}),children:"Previous"}),(0,Z.jsxs)(c.ZP,{onClick:()=>e("next"),children:["Next ",(0,Z.jsx)(J.Z,{})]}),(0,Z.jsxs)(c.ZP,{onClick:()=>e("next10"),children:["Next 10 ",(0,Z.jsx)(X.Z,{})]}),(0,Z.jsxs)(c.ZP,{onClick:()=>e("last"),children:["Last ",(0,Z.jsx)(ee.Z,{})]}),(0,Z.jsx)(K.Z,{content:(0,Z.jsx)(se,{}),title:"Title",children:(0,Z.jsx)(c.ZP,{children:"Go To"})})]})}function se(){const{jumpToItem:e}=w();return(0,Z.jsx)(te.i,{isPending:!1,onFinish:t=>e("goTo",t)})}var le=a(4664);function ie(){const{getItem:e,getItemAttributeValues:t}=w(),{sampleIds:a,attribute:s,onGetSample:l,updateAttributeValue:i,itemsLeftForAttribute:d}=function(){const{attributesList:e,availableItemIds:t,addAttributesToUpdate:a,getItemAttributeValues:s}=w(),{searchParams:l}=n(),[i,r]=(0,x.useState)([]),[o,c]=(0,x.useState)(),d=()=>{var a,i,n,r;const o=null!==(a=null!==(i=l.get("attribute"))&&void 0!==i?i:null===(n=(0,g.sample)(e))||void 0===n?void 0:n.id)&&void 0!==a?a:"ali",c=null!==(r=e.find((e=>e.id===o)))&&void 0!==r?r:(0,g.sample)(e),d=Number(l.get("size"))||9,u=[],m=(0,g.shuffle)(t);for(let e=0;e<m.length&&u.length!==d;e++){const t=m[e];s(t).attributes[o]||u.push(t)}return{selectedAttribute:c,selected:u}},u=(0,x.useMemo)((()=>o?t.filter((e=>!s(e).attributes[null===o||void 0===o?void 0:o.id])).length:0),[o,t]);return{sampleIds:i,attribute:o,itemsLeftForAttribute:u,onGetSample:()=>{let e=d(),t=0;for(;0===e.selected.length&&t<30;)e=d(),t++;c(e.selectedAttribute),r(e.selected)},updateAttributeValue:(e,t,l)=>{const i=s(e);a(e,{...i,attributes:{...i.attributes,[t]:l}})}}}();if((0,g.isEmpty)(a)&&(0,g.isEmpty)(s))return(0,Z.jsx)(r.Z,{className:"my-4",children:(0,Z.jsxs)(o.Z.Text,{type:"secondary",children:["No sample has been generated. Tweak options and"," ",(0,Z.jsx)(c.ZP,{size:"small",type:"primary",onClick:l,children:"Get Sample"})]})});const h=a.map((a=>({itemAttributes:t(a),item:e(a)}))),p=h.filter((e=>{let{itemAttributes:t}=e;return!t.attributes[s.id]}));return(0,Z.jsx)(r.Z,{className:"my-4",title:(0,Z.jsxs)(o.Z.Text,{children:[null===s||void 0===s?void 0:s.name.en," - ",null===s||void 0===s?void 0:s.description.en," (",d," items left)"]}),actions:[(0,Z.jsx)(c.ZP,{onClick:()=>{p.forEach((e=>{let{item:t}=e;i(t.id,s.id,-3)}))},danger:!0,disabled:0===p.length,children:"Mark rest as unrelated"}),(0,Z.jsx)(c.ZP,{type:"primary",ghost:!0,onClick:l,children:"Get New Sample"})],extra:(0,Z.jsx)(c.ZP,{type:"primary",size:"small",onClick:l,children:"Get New Sample"}),children:(0,Z.jsxs)(u.Z,{vertical:!0,gap:6,children:[0===h.length&&(0,Z.jsx)(le.Z,{description:"No unset items found for this attribute.",image:le.Z.PRESENTED_IMAGE_SIMPLE}),h.map((e=>{let{item:t,itemAttributes:a}=e;return(0,Z.jsxs)(x.Fragment,{children:[(0,Z.jsxs)(u.Z,{gap:6,children:[(0,Z.jsx)(H.xL,{item:t,width:75}),(0,Z.jsxs)(u.Z,{vertical:!0,gap:6,children:[(0,Z.jsxs)(u.Z,{gap:6,children:[(0,Z.jsx)(H.bN,{item:t}),(0,Z.jsx)(H.cw,{item:t})]}),(0,Z.jsx)(H.CQ,{item:t,language:"en"}),(0,Z.jsx)(H.CQ,{item:t,language:"pt"})]}),(0,Z.jsx)(k,{attribute:s,value:a.attributes[s.id],onChange:(e,a)=>i(t.id,e,a)})]}),(0,Z.jsx)(m.Z,{className:"my-1"})]},"".concat(t.id,"-").concat(a.updatedAt))}))]})})}var ne=a(8528),re=a(5437),oe=a(1082),ce=a(8149);function de(e){const[t,a]=(0,x.useState)(!1),s=()=>{a(window.pageYOffset>300)};return(0,x.useEffect)((()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)})),[]),(0,Z.jsx)(c.ZP,{className:"go-to-top-button ".concat(t?"visible":""),onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},icon:(0,Z.jsx)(ce.Z,{}),...e,children:"Go to Top"})}var ue=a(1503);const me=(e,t)=>"unset"!==t&&t?"".concat(e.percent,"%  - ").concat(e.group," items"):"".concat(100-e.percent,"% done, ").concat(e.group," left");function he(){const{getItem:e,getItemAttributeValues:t,attributesList:a}=w(),{attribute:s,pageIds:l,updateAttributeValue:i,updatePageItemsAsUnrelated:d,pagination:m,stats:h,sorting:p}=function(){var e,t,a,s;const{attributesList:l,addAttributesToUpdate:i,getItemAttributeValues:r,availableItemIds:o,addMultipleAttributesToUpdate:c}=w(),{searchParams:d,addQueryParam:u}=n(),m=null!==(e=d.get("attribute"))&&void 0!==e?e:"ali",h=null!==(t=d.get("scope"))&&void 0!==t?t:"unset",p=null!==(a=d.get("page"))&&void 0!==a?a:"1",b=null!==(s=d.get("pageSize"))&&void 0!==s?s:"12",[v,j]=(0,x.useState)("ali"),[f,y]=(0,x.useState)("unset"),[I,Z]=(0,x.useState)(null),[C,N]=(0,x.useState)("desc"),P=(0,x.useMemo)((()=>{const e=o.map((e=>r(e))),t="unset"===h?void 0:T.NL[h.toUpperCase()],a=e.filter((e=>{var a;return(null===(a=e.attributes)||void 0===a?void 0:a[m])===t})).map((e=>e.id));return(0,g.orderBy)(a,[e=>{var t,a;return!I||(null===(t=r(e))||void 0===t||null===(a=t.attributes)||void 0===a?void 0:a[I])},e=>{var t;return null===(t=r(e))||void 0===t?void 0:t.updatedAt},e=>Number(e)],[C,"desc","asc"])}),[m,h,I,C]),S=(0,x.useMemo)((()=>{if(v!==m||f!==h)return j(m),y(h),u("page","1"),P.slice(0,Number(b));const e=(Number(p)-1)*Number(b),t=e+Number(b);return P.slice(e,t)}),[p,b,P]),E=l.find((e=>e.id===m));return{group:P,stats:{total:o.length,group:P.length,percent:Math.round(P.length/o.length*100)},pageIds:S,attribute:E,updateAttributeValue:(e,t,a)=>{const s=r(e);i(e,{...s,attributes:{...s.attributes,[t]:a}})},updatePageItemsAsUnrelated:()=>{c(S.map((e=>{const t=r(e);return t.attributes[m]||(t.attributes[m]=T.NL.UNRELATED),t})))},sorting:{sortBy:I,setSortBy:Z,sortOrder:C,setSortOrder:N},pagination:{total:P.length,current:Number(p),pageSize:Number(b),onChange:e=>u("page",String(e)),onShowSizeChange:(e,t)=>u("pageSize",String(t)),pageSizeOptions:[12,24,48,96]}}}(),{searchParams:b}=n(),v=(0,ue.Z)("(max-width: 1024px)");if((0,g.isEmpty)(s))return(0,Z.jsx)(r.Z,{className:"my-4",children:(0,Z.jsx)(o.Z.Text,{type:"secondary",children:"No group attribute has been selected."})});const j=(0,Z.jsx)(ne.Z,{onChange:m.onChange,current:m.current,total:m.total,pageSizeOptions:m.pageSizeOptions,pageSize:m.pageSize,onShowSizeChange:m.onShowSizeChange},"pagination"),f=(0,Z.jsxs)(u.Z,{align:"center",children:[(0,Z.jsx)(o.Z.Text,{className:"mr-2",children:"Sort by"}),(0,Z.jsxs)(re.Z,{style:{width:120},value:p.sortBy,onChange:e=>p.setSortBy(e),children:[(0,Z.jsx)(re.Z.Option,{value:null,children:"Last Updated"}),a.map((e=>(0,Z.jsx)(re.Z.Option,{value:e.id,children:e.name.en},e.id)))]})]}),y=("unset"===b.get("scope")||!b.get("scope"))&&(0,Z.jsx)(oe.Z,{title:"Are you sure everything is unrelated to ".concat(s.name.en,"?"),onConfirm:d,children:(0,Z.jsx)(c.ZP,{type:"primary",danger:!0,disabled:0===l.length,children:"Unrelate Unset Items on Page"})},"unrelate-button");return(0,Z.jsxs)(r.Z,{className:"my-4",title:(0,Z.jsxs)(o.Z.Text,{children:[null===s||void 0===s?void 0:s.name.en," (",me(h,b.get("scope")),") -"," ",s.description.en]}),extra:(0,Z.jsxs)(u.Z,{align:"center",children:[f,j]}),actions:[y,(0,Z.jsx)(de,{},"go-to-top"),j].filter(Boolean),children:[0===l.length&&(0,Z.jsx)(le.Z,{description:"No items found in this scope for this attribute.",image:le.Z.PRESENTED_IMAGE_SIMPLE}),l.map((a=>{const l=t(a),n=e(a);return(0,Z.jsx)(r.Z.Grid,{style:{width:v?"50%":"25%"},children:(0,Z.jsxs)(u.Z,{gap:6,children:[(0,Z.jsxs)(u.Z,{vertical:!0,gap:6,children:[(0,Z.jsx)(H.xL,{item:n,width:75}),(0,Z.jsx)(H.bN,{item:n}),(0,Z.jsx)(H.cw,{item:n}),(0,Z.jsx)(H.CQ,{item:n,language:"en"}),(0,Z.jsx)(H.CQ,{item:n,language:"pt"})]}),(0,Z.jsx)(k,{attribute:s,value:l.attributes[s.id],onlyButtons:!0,onChange:(e,t)=>i(n.id,e,t)})]})},"".concat(a,"-").concat(l.updatedAt))}))]})}var pe=a(9481);function ge(){const{attributes:e}=w(),{itemMessages:t,grouping:a}=function(){const{attributes:e,getItemAttributeValues:t,availableItemIds:a,getItem:s,isLoading:l}=w(),{searchParams:i}=n(),r="true"===i.get("showComplete"),o="true"===i.get("showUnclear"),c="true"===i.get("showUnrelated"),{itemMessages:d,itemMessagesDict:u,grouping:m}=(0,x.useMemo)((()=>{if(l)return{itemMessages:[],itemMessagesDict:{},grouping:{}};const i=(0,g.orderBy)(a.map((a=>{const l=t(a),i=(0,b.Mg)(l,e);return{item:s(a),itemAttributesValues:l,message:(0,b.tt)(i,o,c),fullMessage:i}})).filter((e=>{let{itemAttributesValues:t}=e;return!r||t.complete})),["message"],["asc"]),n=i.reduce(((e,t)=>{let{message:a,item:{id:s}}=t;const l=a.join(" ");return void 0===e[l]&&(e[l]=[]),e[l].push(s),e}),{}),d=Object.values(n).filter((e=>e.length>1));return d.length>0&&console.log("More than one",d),{itemMessages:i,itemMessagesDict:(0,g.keyBy)(i,"item.id"),grouping:n}}),[e,a,t,s,l,r,o,c]);return{itemMessages:d,itemMessagesDict:u,grouping:m}}(),s=[{title:"Item Id",dataIndex:"item",key:"id",render:e=>(0,Z.jsxs)("div",{children:[(0,Z.jsx)(H.bN,{item:e}),(0,Z.jsx)(H.cw,{item:e})]}),sorter:(e,t)=>Number(e.item.id)-Number(t.item.id)},{title:"Sprite",dataIndex:"item",key:"sprite",render:e=>(0,Z.jsx)(H.xL,{item:e,width:75})},{title:"Name",dataIndex:"item",key:"name",render:e=>(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(H.CQ,{item:e,language:"en"}),(0,Z.jsx)(H.CQ,{item:e,language:"pt"})]}),sorter:(e,t)=>e.item.name.en.localeCompare(t.item.name.en)},{title:"Address",dataIndex:"message",key:"message",render:(t,a)=>{let{item:s}=a;return(0,Z.jsx)(u.Z,{gap:6,children:t.map(((t,a,l)=>(0,Z.jsx)(F,{keyVariant:t,attributes:e,firstElement:0===a,lastElement:a===l.length-1,withText:!0},"".concat(t,"-").concat(s.id))))})},sorter:(e,t)=>e.message.join(" ").localeCompare(t.message.join(" "))},{title:"Complete",dataIndex:"itemAttributesValues",key:"complete",render:e=>e.complete?"Yes":"No"},{title:"Identical",dataIndex:"message",key:"identical",render:e=>{var t;const s=null!==(t=a[e.join(" ")])&&void 0!==t?t:[];return(0,Z.jsx)(Z.Fragment,{children:s.length>1?s.length:""})},sorter:(e,t)=>{var s,l;const i=null!==(s=a[e.message.join(" ")])&&void 0!==s?s:[];return(null!==(l=a[t.message.join(" ")])&&void 0!==l?l:[]).length-i.length}}];return(0,Z.jsxs)("div",{className:"my-4",children:[(0,Z.jsx)(o.Z.Title,{level:5,children:"Item Comparator"}),(0,Z.jsx)(pe.Z,{dataSource:t,columns:s,pagination:{showQuickJumper:!0}})]})}var xe=a(4003),be=a(330),ve=a(7974),je=a(2123),fe=a(3949),ye=a(2703);function Ie(){const e=(0,f.N)("items-attributes"),t=(0,f.N)("items-attribute-values"),[a,s]=(0,x.useState)(null);return(0,Z.jsxs)("div",{className:"my-4",children:[(0,Z.jsx)(o.Z.Title,{level:3,children:"Daily Simulator"}),(0,Z.jsx)(o.Z.Paragraph,{children:"Generates a daily game for Alien Communication"}),(0,Z.jsxs)(h.Z,{children:[(0,Z.jsx)(c.ZP,{type:"primary",onClick:()=>{s(Ze(e.data,t.data))},children:"Generate"}),(0,Z.jsx)(c.ZP,{onClick:()=>{const a={};let s=0;for(;s<300||15===(0,g.keys)(a).length;){const l=Ze(e.data,t.data);if(l.valid&&!a[l.setId]&&(a[l.setId]=l),(0,g.keys)(a).length>=15)break;s+=1}console.log("TRIES",s),console.log(Object.values(a).map(((e,t)=>({...e,number:e.number-t}))))},children:"Generate List"})]}),(0,Z.jsx)("div",{children:Boolean(a)&&(0,Z.jsxs)(h.Z,{direction:"vertical",children:[(0,Z.jsx)(o.Z.Title,{level:5,children:null===a||void 0===a?void 0:a.setId}),!(null!==a&&void 0!==a&&a.valid)&&(0,Z.jsx)(ye.Z,{type:"error",message:"Invalid game"}),(0,Z.jsx)(h.Z,{direction:"vertical",children:null===a||void 0===a?void 0:a.attributes.map((e=>(0,Z.jsxs)(u.Z,{gap:8,children:[(0,Z.jsx)(U.o$,{id:e.spriteId,width:50}),e.itemsIds.map((e=>(0,Z.jsx)(U.ck,{id:e||"0",width:50})))]},e.id)))}),(0,Z.jsx)(m.Z,{className:"my-1"}),(0,Z.jsx)(h.Z,{direction:"horizontal",children:null===a||void 0===a?void 0:a.requests.map((e=>(0,Z.jsxs)(u.Z,{vertical:!0,children:[(0,Z.jsx)(U.o$,{id:e.spritesIds[2],width:50}),(0,Z.jsx)(U.o$,{id:e.spritesIds[1],width:50}),(0,Z.jsx)(U.o$,{id:e.spritesIds[0],width:50})]},e.itemId)))}),(0,Z.jsx)(m.Z,{className:"my-1"}),(0,Z.jsx)(h.Z,{direction:"horizontal",children:null===a||void 0===a?void 0:a.itemsIds.map((e=>(0,Z.jsx)(U.ck,{id:e||"0",width:50})))})]},null===a||void 0===a?void 0:a.setId)})]})}const Ze=(e,t)=>{const a=(0,g.values)(e).filter((e=>!e.limited||"sol"===e.id)),s=(0,g.shuffle)((0,g.values)(t).filter((e=>e.complete))),l=(0,g.shuffle)((0,b.R9)(38,0)),i=(0,g.sampleSize)(a,3).map((e=>({...e,spriteId:"".concat(l.pop())}))),n=[],r=[],o=[],c=[],d=[],u=[],m=[],h=[];s.forEach((e=>{const t=[T.NL.DETERMINISTIC,T.NL.RELATED],a=e.attributes[i[0].id]===T.NL.DETERMINISTIC,s=t.includes(e.attributes[i[0].id]),l=e.attributes[i[0].id]===T.NL.UNRELATED,p=e.attributes[i[1].id]===T.NL.DETERMINISTIC,g=t.includes(e.attributes[i[1].id]),x=e.attributes[i[1].id]===T.NL.UNRELATED,b=e.attributes[i[2].id]===T.NL.DETERMINISTIC,v=t.includes(e.attributes[i[2].id]),j=e.attributes[i[2].id]===T.NL.UNRELATED;if(l&&x&&j)return h.push(e.id);a&&x&&j&&n.push(e.id),l&&p&&j&&r.push(e.id),l&&x&&b&&o.push(e.id),s&&g&&j&&c.push(e.id),s&&x&&v&&d.push(e.id),l&&g&&v&&u.push(e.id),s&&g&&v&&m.push(e.id)}));const p=i.map((e=>({id:e.id,name:e.name.pt,description:e.description.pt,spriteId:e.spriteId,itemsIds:[]})));p[0].itemsIds=(0,g.sampleSize)(n,n.length>3?3:Math.max(n.length-1,1)),p[1].itemsIds=(0,g.sampleSize)(r,r.length>3?3:Math.max(n.length-1,1)),p[2].itemsIds=(0,g.sampleSize)(o,o.length>3?3:Math.max(n.length-1,1));const x=[];p.forEach((e=>{x.push(...e.itemsIds)}));const v=[];c.length>0&&v.push({spritesIds:[i[0].spriteId,i[1].spriteId],itemId:(0,g.sample)(c)}),d.length>0&&v.push({spritesIds:[i[0].spriteId,i[2].spriteId],itemId:(0,g.sample)(d)}),u.length>0&&v.push({spritesIds:[i[1].spriteId,i[2].spriteId],itemId:(0,g.sample)(u)}),m.length>0&&v.push({spritesIds:i.map((e=>e.spriteId)),itemId:(0,g.sample)(m)});const j=[];n.length>0&&j.push({spritesIds:[i[0].spriteId],itemId:n.filter((e=>!x.includes(e)))[0]}),r.length>0&&j.push({spritesIds:[i[1].spriteId],itemId:r.filter((e=>!x.includes(e)))[0]}),o.length>0&&j.push({spritesIds:[i[2].spriteId],itemId:o.filter((e=>!x.includes(e)))[0]}),console.log({attributeA:n,attributeB:r,attributeC:o,attributeAB:c,attributeAC:d,attributeBC:u,attributeABC:m}),console.log("COMPLEX REQUEST SIZE",v.length),console.log("SIMPLE REQUEST SIZE",j.length);const f=(0,g.sampleSize)(v,4);console.log("REQUEST SIZE",f.length),f.length<3&&f.push(...(0,g.sampleSize)(j,4-f.length)),f.length<4&&console.warn("Not enough requests");const y=f.map((e=>e.itemId)),I={id:"2024-00-00",setId:p.map((e=>e.id)).sort().join("-"),number:0,type:"comunica\xe7\xe3o-alien\xedgena",attributes:p,requests:f,answer:y.join("-"),itemsIds:(0,g.shuffle)([...y,h[0]]),valid:!1};return I.valid=[3===I.attributes.length,4===I.requests.length,5===I.itemsIds.length,I.attributes.every((e=>e.itemsIds.length>0)),I.requests.every((e=>e.itemId))].every(Boolean),console.log(I),I},Ce=["","I","II","III","IV","V"];function Ne(){const{attributes:e,availableItemIds:t,getItemAttributeValues:a,getItem:s}=w(),{message:l}=p.Z.useApp(),[i,n]=(0,x.useState)(25),[r,d]=(0,x.useState)(90),[m,b]=(0,x.useState)(!1),[v,j]=(0,x.useState)([]),[f,y]=(0,x.useState)([]),[I,C]=(0,x.useState)(null),[N,P]=(0,x.useState)({id:!0,nameEn:!0,namePt:!0,reliability:!0}),S=e=>{P((t=>({...t,[e]:!t[e]})))};return(0,Z.jsxs)("div",{className:"my-4",children:[(0,Z.jsx)(o.Z.Title,{level:3,children:"Simulator"}),(0,Z.jsx)(o.Z.Paragraph,{children:"Generates a board with items different enough to get Deterministic values in all selected attributes."}),(0,Z.jsxs)(u.Z,{wrap:!0,gap:12,children:[(0,Z.jsx)(D.zE,{label:"Grid Size",value:i,onChange:e=>n(e),options:[16,25]}),(0,Z.jsx)(D.xh,{label:"Reliability Threshold",value:r,onChange:e=>d(e),step:5,min:10,max:100}),(0,Z.jsx)(D.Do,{label:"NSFW",value:m,onChange:b}),(0,Z.jsx)(c.ZP,{onClick:()=>{const n={},o=(0,g.shuffle)(t);for(;Object.values(n).length<i;){const e=o.pop();if(!e)break;const t=a(e);t&&(!t.complete||!t.reliability||t.reliability<r||!m&&s(e).nsfw||(t.key&&!n[t.key]?n[t.key]=e:console.log("Item has identical key to another item. Skipping.",s(e).name.en)))}const c=Object.values(n);c.length<i&&l.error("Could not generate sample. Got only ".concat(c.length," items")),j((0,g.sortBy)(c,(e=>Number(e))));const d=function(e,t,a){const s={},l={};e.forEach((e=>{e&&Object.keys(e.attributes).forEach((t=>{e.attributes[t]>0&&(s[t]=(s[t]||0)+1),e.attributes[t]===T.NL.DETERMINISTIC&&(l[t]=!0,s[t]=(s[t]||0)+2),e.attributes[t]===T.NL.OPPOSITE&&(s[t]=(s[t]||0)+1)}))}));const i={1:0,2:0,3:0,4:0};function n(e){return e.filter((e=>(i[a[e].level]++,!(i[4]>1)||(console.log("Discarding level 4 attribute",e),!1))))}const r=n(Object.keys(l)),o=n((0,g.keys)(s).filter((e=>!r.includes(e))));if(console.log({levelCount:i}),t===r.length)return console.log("All keys are deterministic"),r;if(console.log(s),0===r.length)return[];const c=r.reduce(((e,t)=>{const a=s[t];return e[a]||(e[a]=[]),e[a].push(t),e}),{}),d=(0,g.keys)(c).sort(((e,t)=>Number(t)-Number(e)));console.log({sortedDeterministicTiedGroupsKeys:d});const u=o.reduce(((e,t)=>{const a=s[t];return e[a]||(e[a]=[]),e[a].push(t),e}),{});console.log(u);const m=(0,g.keys)(u).sort(((e,t)=>Number(t)-Number(e)));let h=[];for(const p of d){if(h.length===t)break;h.push(...(0,g.sampleSize)(c[p],t-h.length))}for(const p of m){if(h.length===t)break;h.push(...(0,g.sampleSize)(u[p],t-h.length))}return h}(c.map((e=>a(e))),25,e);if(d.length<25){const t=(0,g.keys)(e).filter((e=>!d.includes(e))),a=(0,g.sortBy)(t,(t=>e[t].priority)).slice(0,25-d.length);console.log("Adding more attributes by priority",a),d.push(...a)}const u=d.reduce(((e,t)=>(c.forEach((s=>{const l=a(s);if(l)switch(l.attributes[t]){case T.NL.RELATED:e.relatedCount[t]=(e.relatedCount[t]||0)+1;break;case T.NL.DETERMINISTIC:e.deterministicCount[t]=(e.deterministicCount[t]||0)+1;break;case T.NL.UNCLEAR:e.unclearCount[t]=(e.unclearCount[t]||0)+1;break;case T.NL.OPPOSITE:e.oppositeCount[t]=(e.oppositeCount[t]||0)+1}})),e)),{relatedCount:{},deterministicCount:{},unclearCount:{},oppositeCount:{}});y(d.sort().map((t=>({...e[t],relatedCount:u.relatedCount[t],deterministicCount:u.deterministicCount[t],unclearCount:u.unclearCount[t],oppositeCount:u.oppositeCount[t]}))))},type:"primary",children:"Get Sample Board"})]}),(0,Z.jsxs)(u.Z,{wrap:!0,gap:12,children:[(0,Z.jsx)(D.tj,{label:"Show Id",value:!!N.id,onChange:()=>S("id")}),(0,Z.jsx)(D.tj,{label:"Show Name (EN)",value:!!N.nameEn,onChange:()=>S("nameEn")}),(0,Z.jsx)(D.tj,{label:"Show Name (PT)",value:!!N.namePt,onChange:()=>S("namePt")}),(0,Z.jsx)(D.tj,{label:"Show Reliability",value:!!N.reliability,onChange:()=>S("reliability")})]}),(0,Z.jsx)("div",{className:"simulator-grid",style:{gridTemplateColumns:"repeat(".concat(Math.sqrt(i),", 1fr)")},children:v.map((e=>{const t=s(e),l=a(e);return(0,Z.jsxs)(h.Z,{direction:"vertical",className:(0,L.Z)("simulator-grid__entry",I&&l.attributes[I]>0&&"simulator-grid__entry--highlighted"),align:"center",children:[(0,Z.jsxs)(h.Z,{children:[(0,Z.jsxs)(u.Z,{vertical:!0,children:[N.id&&(0,Z.jsx)(H.bN,{item:t}),N.reliability&&(0,Z.jsx)("span",{children:(0,Z.jsx)(xe.Z,{prefix:(0,Z.jsx)(be.Z,{}),placeholder:"Reliability",variant:"borderless",size:"small",value:l.reliability,readOnly:!0,style:{width:"8ch"},formatter:e=>"".concat(e,"%")})}),N.id&&(0,Z.jsx)(H.cw,{item:t})]}),(0,Z.jsx)(H.xL,{item:t,width:50})]}),N.nameEn&&(0,Z.jsx)(H.CQ,{item:t,language:"en"}),N.namePt&&(0,Z.jsx)(H.CQ,{item:t,language:"pt"})]},e)}))}),(0,Z.jsx)("div",{className:"simulator-grid my-4",children:f.map((e=>{var t,a,s,l;return(0,Z.jsxs)(D.F6,{className:(0,L.Z)("simulator-grid__entry","simulator-grid__button",I===e.id&&"simulator-grid__entry--highlighted"),onClick:()=>C(e.id),children:[e.name.en," ",Ce[e.level],(0,Z.jsxs)(u.Z,{gap:6,justify:"center",className:"my-1",children:[(0,Z.jsxs)("span",{children:[(0,Z.jsx)(ve.Z,{style:{color:e.deterministicCount?"dodgerblue":void 0}})," ",null!==(t=e.deterministicCount)&&void 0!==t?t:0]}),(0,Z.jsxs)("span",{children:[(0,Z.jsx)(je.Z,{style:{color:e.relatedCount?"green":void 0}})," ",null!==(a=e.relatedCount)&&void 0!==a?a:0]}),(0,Z.jsxs)("span",{children:[(0,Z.jsx)(fe.Z,{style:{color:e.oppositeCount?"red":void 0}})," ",null!==(s=e.oppositeCount)&&void 0!==s?s:0]}),(0,Z.jsxs)("span",{children:[(0,Z.jsx)(E.Z,{style:{color:e.unclearCount?"gold":void 0}})," ",null!==(l=e.unclearCount)&&void 0!==l?l:0]})]})]},e.id)}))}),(0,Z.jsx)(Ie,{})]})}var we=a(1504),Pe=a(913),Se=a(7689);function Ee(){const e=[{key:"1",label:"All Attributes",children:(0,Z.jsx)(Te,{type:"all"})},{key:"2",label:"Default Attributes",children:(0,Z.jsx)(Te,{type:"default"})},{key:"3",label:"Custom Attributes",children:(0,Z.jsx)(Te,{type:"custom"})}];return(0,Z.jsxs)("div",{className:"my-4",children:[(0,Z.jsx)(o.Z.Title,{level:5,children:"Stats"}),(0,Z.jsx)(o.Z.Paragraph,{}),(0,Z.jsx)(we.Z,{defaultActiveKey:"1",items:e})]})}const ze=(e,t)=>{let a=0,s=0,l=0,i=0,n=0,r=0,o=0,c=0;t.forEach((t=>{let{attributes:d}=t;if(d[e.id]){a++;const t=d[e.id];10===t?s++:5===t?l++:0!==t&&t?-1===t?n++:-3===t?r++:-10===t&&o++:i++,t>0&&c++}}));const d=t.length,u=s/d*100,m=l/d*100,h=i/d*100,p=n/d*100,g=r/d*100,x=o/d*100,b=c/d*100;return{completionPercentage:(a/d*100).toFixed(1),tensPercentage:u.toFixed(1),fivesPercentage:m.toFixed(1),zerosPercentage:h.toFixed(1),negativeOnesPercentage:p.toFixed(1),negativeThreesPercentage:g.toFixed(1),negativeTensPercentage:x.toFixed(1),positivePercentage:b.toFixed(1)}};function Te(e){let{type:t}=e;const{availableItemIds:a,getItemAttributeValues:s,attributesList:l}=w(),i=(0,Se.s0)(),n=(0,x.useMemo)((()=>"default"===t?l.filter((e=>e.default)):"custom"===t?l.filter((e=>!e.default)):l),[l,t]),r=(0,x.useMemo)((()=>{const e=a.map((e=>s(e)));return n.map((t=>({...t,...ze(t,e)})))}),[n,a,s]),o=[{title:"Attribute",dataIndex:"name",key:"name",render:(e,t)=>(0,Z.jsxs)("span",{children:[e.en,t.default?(0,Z.jsx)(Q.Z,{className:"ml-1",children:"default"}):"",t.limited?(0,Z.jsx)(Q.Z,{className:"ml-1",children:"limited"}):""]}),sorter:(e,t)=>e.name.en.localeCompare(t.name.en)},{title:"Priority",dataIndex:"priority",key:"priority",sorter:(e,t)=>e.priority-t.priority},{title:"Positive",dataIndex:"positivePercentage",key:"positivePercentage",render:e=>"".concat(e,"%"),sorter:(e,t)=>parseFloat(e.positivePercentage)-parseFloat(t.positivePercentage)},{title:"10",dataIndex:"tensPercentage",key:"tensPercentage",render:(e,t)=>t.limited?"-":"".concat(e,"%"),sorter:(e,t)=>parseFloat(e.tensPercentage)-parseFloat(t.tensPercentage)},{title:"5",dataIndex:"fivesPercentage",key:"fivesPercentage",render:e=>"".concat(e,"%"),sorter:(e,t)=>parseFloat(e.fivesPercentage)-parseFloat(t.fivesPercentage)},{title:"-1",dataIndex:"negativeOnesPercentage",key:"negativeOnesPercentage",render:e=>"".concat(e,"%"),sorter:(e,t)=>parseFloat(e.negativeOnesPercentage)-parseFloat(t.negativeOnesPercentage)},{title:"-3",dataIndex:"negativeThreesPercentage",key:"negativeThreesPercentage",render:e=>"".concat(e,"%"),sorter:(e,t)=>parseFloat(e.negativeThreesPercentage)-parseFloat(t.negativeThreesPercentage)},{title:"-10",dataIndex:"negativeTensPercentage",key:"negativeTensPercentage",render:e=>"".concat(e,"%"),sorter:(e,t)=>parseFloat(e.negativeTensPercentage)-parseFloat(t.negativeTensPercentage)},{title:"Completion",dataIndex:"completionPercentage",key:"completionPercentage",render:e=>(0,Z.jsx)(B.Z,{percent:parseFloat(e),size:"small"}),sorter:(e,t)=>parseFloat(e.completionPercentage)-parseFloat(t.completionPercentage)},{title:"Level",dataIndex:"level",key:"level",render:e=>(0,Z.jsx)(Pe.Z,{count:4,value:e,disabled:!0}),sorter:(e,t)=>e.level-t.level},{title:"Actions",key:"actions",render:e=>(0,Z.jsx)(h.Z,{children:(0,Z.jsxs)(c.ZP.Group,{children:[(0,Z.jsx)(c.ZP,{size:"small",shape:"round",onClick:()=>i("/items/attribution?view=grouping&attribute=".concat(e.id,"&page=1")),children:"Grouping"}),(0,Z.jsx)(c.ZP,{size:"small",shape:"round",onClick:()=>i("/items/attribution?view=sampler&attribute=".concat(e.id,"&size=6")),children:"Sample"})]})})}];return(0,Z.jsx)(pe.Z,{columns:o,dataSource:r,pagination:!1,rowKey:"id",size:"small"})}function Me(){const{view:e}=n();return"classifier"===e?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(ae,{}),(0,Z.jsx)(q,{}),(0,Z.jsx)(u.Z,{justify:"flex-end",className:"my-4",children:(0,Z.jsx)(de,{})})]}):"sampler"===e?(0,Z.jsx)(ie,{}):"grouping"===e?(0,Z.jsx)(he,{}):"comparator"===e?(0,Z.jsx)(ge,{}):"simulator"===e?(0,Z.jsx)(Ne,{}):"stats"===e?(0,Z.jsx)(Ee,{}):(0,Z.jsx)(le.Z,{className:"my-10",description:"Unknown view has been selected"})}var Ae=a(7018),ke=a(7340),Le=a(7965);function De(){const{getItemAttributeValues:e,availableItemIds:t,attributesList:a}=w(),{total:s,complete:l,completionPercentage:i,hasDataCount:n,initiatedPercentage:r,progress:c,progressTotal:d,currentProgress:h}=(0,x.useMemo)((()=>{const s=t.length;let l=0,i=0,n=0;t.map((t=>e(t))).forEach((e=>{let{complete:t,attributes:s}=e;(0,g.isEmpty)(s)||(l+=1),Object.values(s).length===a.length&&(i+=1),n+=Object.values(s).length}));const r=Object.values(a).length*t.length;return{total:s,complete:i,completionPercentage:s>0?(i/s*100).toFixed(1):0,hasDataCount:l,initiatedPercentage:s>0?Math.floor(l/s*100):0,progress:(n/r*100).toFixed(1),currentProgress:n,progressTotal:r}}),[a,t,e]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(u.Z,{vertical:!0,children:[(0,Z.jsx)(o.Z.Text,{strong:!0,className:"mb-2",children:"Items Stats"}),(0,Z.jsx)(_,{label:"Total",children:s}),(0,Z.jsxs)(_,{label:"Complete",children:[l," (",i,"%)"]}),(0,Z.jsxs)(_,{label:"Initiated",children:[n," (",r,"%)"]}),(0,Z.jsx)(o.Z.Text,{strong:!0,className:"mt-4 mb-2",children:"Attributes Stats"}),(0,Z.jsx)(_,{label:"Total",children:d}),(0,Z.jsx)(_,{label:"Set",children:h}),(0,Z.jsxs)(_,{label:"Progress",children:[c,"%"]})]}),(0,Z.jsx)(m.Z,{})]})}function Ue(){const{jumpToItem:e}=w(),{searchParams:t,addQueryParam:a}=n();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(c.ZP,{block:!0,onClick:()=>e("random"),type:"primary",children:"Random Item"}),(0,Z.jsx)(D.Do,{label:"Unset Only",value:"unset"===t.get("scope"),onChange:e=>a("scope",e?"unset":""),className:"mt-4"})]})}function Oe(){const{searchParams:e,addQueryParam:t}=n(),{attributesList:a}=w(),s=(0,x.useMemo)((()=>[{label:"Random Attribute",value:"random"},...a.map((e=>{let{id:t,name:a}=e;return{label:a.en,value:t}}))]),[a]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(D.zE,{label:"Sampler Attribute",value:e.get("attribute")||"random",onChange:e=>t("attribute",e),options:s}),(0,Z.jsx)(D.xh,{label:"Sample Size",value:Number(e.get("size")||9),onChange:e=>t("size",String(e)),min:3,max:21,step:3})]})}function Fe(){const{searchParams:e,addQueryParam:t}=n(),{attributesList:a}=w(),s=(0,x.useMemo)((()=>a.map((e=>{let{id:t,name:a,...s}=e;return{label:"".concat(a.en).concat(s.default?"*":""),value:t}}))),[a]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(D.zE,{label:"Attribute",value:e.get("attribute")||"ali",onChange:e=>t("attribute",e),options:s}),(0,Z.jsx)(D.zE,{label:"Scope",value:e.get("scope")||"unset",onChange:e=>t("scope",e),options:[{value:"unset",label:"Unset"},...T.Ud]}),(0,Z.jsx)(D.zE,{label:"Results per page",value:e.get("pageSize")||12,onChange:e=>t("pageSize",e),options:[12,24,48,96]})]})}function Re(){const{searchParams:e,addQueryParam:t}=n();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(D.Do,{label:"Only Complete",value:"true"===e.get("showComplete"),onChange:e=>t("showComplete",e?"true":""),className:"full-width m-0"}),(0,Z.jsx)(D.Do,{label:"Show Unrelated",value:"true"===e.get("showUnrelated"),onChange:e=>t("showUnrelated",e?"true":""),className:"full-width m-0"}),(0,Z.jsx)(D.Do,{label:"Show Unclear",value:"true"===e.get("showUnclear"),onChange:e=>t("showUnclear",e?"true":""),className:"full-width m-0"})]})}function Ve(){const{isDirty:e,save:t,prepareItemsAttributesFileForDownload:a,attributes:s,isSaving:l,attributesToUpdate:i}=w(),{view:r,setView:o}=n();return(0,Z.jsxs)(Le.Pd,{children:[(0,Z.jsxs)(u.Z,{vertical:!0,gap:12,children:[(0,Z.jsx)(ke.k,{isDirty:e,onSave:t,isSaving:l,dirt:JSON.stringify(i)}),(0,Z.jsx)(Ae.o,{data:()=>function(e,t){const a=Object.keys(t).length;return Object.keys(e).forEach((s=>{const l=e[s],i=Object.keys(l.attributes).length;if(i===a){l.complete=!0;let e=0;const s=Object.values(l.attributes).reduce(((t,a)=>a<=0?(a===T.NL.UNCLEAR&&(e+=1),a===T.NL.OPPOSITE&&(t+=a/2),t):t+a),0);l.score=s,l.reliability=Math.floor((i-e)/a*100),l.key=(0,b.Mg)(l,t,!0).join("")}})),(0,b.Tj)(e)}(a(),s),fileName:"items-attribute-values.json",disabled:e,block:!0})]}),(0,Z.jsx)(m.Z,{}),(0,Z.jsx)(De,{}),(0,Z.jsx)(D.zE,{label:"View",value:r,onChange:o,options:["classifier","sampler","grouping","comparator","simulator","stats"]}),(0,Z.jsx)(m.Z,{}),"classifier"===r&&(0,Z.jsx)(Ue,{}),"sampler"===r&&(0,Z.jsx)(Oe,{}),"grouping"===r&&(0,Z.jsx)(Fe,{}),"comparator"===r&&(0,Z.jsx)(Re,{})]})}var Be=a(4562);function Qe(){const{isLoading:e,error:t,hasResponseData:a}=w();return(0,Z.jsx)(Le.Xg,{title:"Items",subtitle:"Attribution",children:(0,Z.jsxs)(s.Z,{hasSider:!0,children:[(0,Z.jsx)(Be.p,{children:(0,Z.jsx)(Ve,{})}),(0,Z.jsx)(s.Z.Content,{className:"content",children:(0,Z.jsx)(l.T,{isLoading:e,error:t,hasResponseData:a,children:(0,Z.jsx)(Me,{})})})]})})}const _e=function(){return(0,Z.jsx)(N,{children:(0,Z.jsx)(Qe,{})})}}}]);
//# sourceMappingURL=ItemsAttribution.afcb341e.chunk.js.map