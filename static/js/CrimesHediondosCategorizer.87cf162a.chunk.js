"use strict";(self.webpackChunktdr=self.webpackChunktdr||[]).push([[626],{2999:(e,o,n)=>{n.d(o,{R:()=>s,T:()=>l});var r=n(952),t=n(5225),a=n(1958),c=n(184);function s(e){let{isLoading:o,isIdle:n,error:t,isDirty:a,isError:s,hasResponseData:l}=e;return n?(0,c.jsx)(r.Z,{children:"No Data yet"}):o?(0,c.jsx)(r.Z,{color:"blue",children:"Loading..."}):t||s?(0,c.jsx)(r.Z,{color:"red",children:"Error"}):a?(0,c.jsx)(r.Z,{color:"orange",children:"Modified"}):l?(0,c.jsx)(r.Z,{color:"green",children:"Loaded"}):(0,c.jsx)(r.Z,{children:"No Data"})}function l(e){return(0,c.jsx)(a.Pd,{children:(0,c.jsx)(t.Z.Item,{label:"Status",children:(0,c.jsx)(s,{...e})})})}},2539:(e,o,n)=>{n.r(o),n.d(o,{default:()=>w});var r=n(3990),t=n(43),a=n(1046),c=n(2556),s=n(952),l=n(7765),i=n(1105),d=n(6340),u=n(184);function g(e){let{cardId:o}=e;const n=o.replace(/-/g,"/"),r=o.includes("wp")?"wp":"ev",t="".concat("https://www.kavispires.com","/").concat("tdi/images");return(0,u.jsx)(d.Z,{width:100,src:"".concat(t,"/").concat(n,".jpg"),fallback:"".concat(t,"/dmhk/").concat(r,"/000.jpg"),preview:!1})}var p=n(1958),h=n(2999),v=n(2010),f=n(2606);var m=n(763),C=n(2791);var b=n(7689),x=n(3250),j=n(5657);function y(e){let{data:o}=e;const[n,r]=(0,C.useState)(!1),{tags:t,cards:l,tagsArr:i,updateCardTags:d,prepareJson:p,addTagToCard:h}=function(e){const[o,n]=(0,C.useState)({}),[r,t]=(0,C.useState)({});return(0,C.useEffect)((()=>{const o={};e.forEach((e=>{var n;o[e.id]=null!==(n=e.tags)&&void 0!==n?n:[]})),t(o)}),[e]),(0,C.useEffect)((()=>{const e={};Object.entries(r).forEach((o=>{let[n,r]=o;r.forEach((o=>{void 0===e[o]&&(e[o]=[]),e[o].push(n)}))})),n(e)}),[r]),{tags:o,tagsArr:(0,m.sortBy)(Object.keys(o)),cards:r,addTagToCard:(e,o)=>{t((n=>{const r={...n},t=[...r[e]],a=t.indexOf(o);return-1===a?t.push(o):t.splice(a,1),r[e]=t,r}))},updateCardTags:(e,o)=>{t((n=>{const r={...n};return r[e]=o,r}))},prepareJson:()=>{const o={},n={};return e.forEach((e=>{"weapon"===e.type?o[e.id]={...e,tags:r[e.id]}:n[e.id]={...e,tags:r[e.id]}})),{weapons:o,evidence:n}}}}(o),[v,f]=(0,C.useState)(0),[b,x]=(0,C.useState)([]),[j,y]=(0,C.useState)(!1),[w,O]=(0,C.useState)({}),E=o[v];(0,C.useEffect)((()=>{var e,o;x(l&&(null===l||void 0===l||null===(e=l[E.id])||void 0===e?void 0:e.length)>0?l[E.id]:null!==(o=E.tags)&&void 0!==o?o:[])}),[E.id,E.tags]);return(0,u.jsxs)("div",{className:"h-container",children:[(0,u.jsxs)("div",{className:"h-image-container",children:[(0,u.jsx)(g,{cardId:E.id}),(0,u.jsxs)("h3",{children:[(0,u.jsx)("span",{children:E.name.en})," | ",(0,u.jsx)("span",{children:E.name.pt})]})]}),!n&&(0,u.jsx)("div",{children:(0,u.jsx)(k,{tagsArr:i,currentTags:b,cardId:E.id,setCurrentTags:x})}),(0,u.jsx)(Z,{goToCard:e=>{d(E.id,[...b]),f((o=>o+e))},currentCardIndex:v,data:o}),(0,u.jsx)(a.Z,{className:"my-4",children:(0,u.jsx)(c.ZP,{size:"large",type:"primary",onClick:()=>{O(p())},children:"Save"})}),(0,u.jsx)("ul",{className:"all-tags",children:i.map((e=>(0,u.jsxs)(s.Z,{color:b.includes(e)?"yellow":void 0,className:"all-tags__tag",onClick:()=>(e=>{x((o=>{const n=[...o],r=n.indexOf(e);return-1===r?n.push(e):n.splice(r,1),n}))})(e),children:[e," (",t[e].length,")"]},"all-tags-".concat(e))))}),(0,u.jsx)(S,{jsons:w})]})}function k(e){let{tagsArr:o,currentTags:n,cardId:r,setCurrentTags:t}=e;const[a,c]=(0,C.useState)([]);return(0,C.useEffect)((()=>{c([])}),[r]),(0,u.jsxs)(l.Z,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please select",value:n,onChange:e=>t(e),onSearch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c(e.trim().split(" "))},className:"h-select",children:[a.map((e=>(0,u.jsx)(l.Z.Option,{value:e,children:e},"custom-option-".concat(e)))),o.map((e=>(0,u.jsx)(l.Z.Option,{value:e,children:e},"select-option-".concat(e))))]})}function S(e){var o,n;let{jsons:r}=e;const[t,a]=(0,x.Z)(),s=((0,b.s0)(),null!==(o=null===r||void 0===r?void 0:r.weapons)&&void 0!==o?o:{}),l=null!==(n=null===r||void 0===r?void 0:r.evidence)&&void 0!==n?n:{};return(0,u.jsxs)("div",{className:"json-container",children:[(0,u.jsx)(c.ZP,{size:"small",onClick:()=>a(JSON.stringify(s,null,2)),icon:(0,u.jsx)(j.Z,{}),children:"Copy Weapons"}),(0,u.jsx)(c.ZP,{size:"small",onClick:()=>a(JSON.stringify(l,null,2)),icon:(0,u.jsx)(j.Z,{}),children:"Copy Evidence"}),s&&(0,u.jsx)(i.Z.TextArea,{name:"output",id:"",cols:15,rows:10,readOnly:!0,value:JSON.stringify(s,null,4)}),l&&(0,u.jsx)(i.Z.TextArea,{name:"output",id:"",cols:15,rows:10,readOnly:!0,value:JSON.stringify(l,null,4)}),(0,u.jsx)(c.ZP,{size:"small",target:"_blank",href:"",children:"GH Weapons Json"}),(0,u.jsx)(c.ZP,{size:"small",target:"_blank",href:"",children:"GH Evidence Json"})]})}function Z(e){let{goToCard:o,currentCardIndex:n,data:r}=e;return(0,u.jsxs)(a.Z,{className:"margin-2",wrap:!0,children:[(0,u.jsx)(c.ZP,{onClick:()=>o(-n),disabled:10===n,children:"First (0)"}),(0,u.jsxs)(c.ZP,{onClick:()=>o(-10),disabled:9===n,children:["Prev 10 (",n-10,")"]}),(0,u.jsxs)(c.ZP,{onClick:()=>o(-1),disabled:0===n,children:["Prev (",n-1,")"]}),(0,u.jsxs)(c.ZP,{onClick:()=>o(1),disabled:n===r.length-1,children:["Next (",n+1,")"]}),(0,u.jsxs)(c.ZP,{onClick:()=>o(10),disabled:n+10>=r.length-1,children:["Next 10 (",n+10,")"]}),(0,u.jsxs)(c.ZP,{onClick:()=>o(r.length-1-n),disabled:n===r.length-1,children:["Last (",r.length-1,")"]})]})}const w=function(){const{data:e,isLoading:o,isSuccess:n,error:a}=function(){var e,o;const{getUrl:n}=(0,f.n)("tdr"),r=(0,v.a)({queryKey:["dmhk-wp"],queryFn:async()=>{const e=await fetch(n("crime-weapon.json")),o=await e.json();return Object.values(o).map((e=>({...e,tags:(e.tags?e.tags:[]).filter((e=>!!e.trim()))})))}}),t=(0,v.a)({queryKey:["dmhk-ev"],queryFn:async()=>{const e=await fetch(n("crime-evidence.json")),o=await e.json();return Object.values(o).map((e=>({...e,tags:(e.tags?e.tags:[]).filter((e=>!!e.trim()))})))}});return{isLoading:t.isLoading||r.isLoading,isSuccess:t.isSuccess||r.isSuccess,isError:t.isError||r.isError,error:t.error||r.error,data:[...null!==(e=t.data)&&void 0!==e?e:[],...null!==(o=r.data)&&void 0!==o?o:[]]}}();return(0,u.jsx)(p.Xg,{title:"Crimes Hediondos Categorizer",extra:(0,u.jsx)(h.R,{hasResponseData:!!e,isLoading:o,error:a}),children:(0,u.jsxs)(r.Z.Content,{className:"content content--padded",children:[o&&(0,u.jsx)(t.Z,{size:"large"}),n&&e.length>1&&(0,u.jsx)(y,{data:e})]})})}},5657:(e,o,n)=>{n.d(o,{Z:()=>l});var r=n(7462),t=n(2791),a=n(8291),c=n(4186),s=function(e,o){return t.createElement(c.Z,(0,r.Z)({},e,{ref:o,icon:a.Z}))};const l=t.forwardRef(s)},952:(e,o,n)=>{n.d(o,{Z:()=>N});var r=n(2791),t=n(9809),a=n.n(t),c=n(1498),s=n(4466),l=n(922),i=n(1113),d=n(117),u=n(1929),g=n(909),p=n(9391),h=n(7521),v=n(9922),f=n(6562);const m=e=>{const{lineWidth:o,fontSizeIcon:n,calc:r}=e,t=e.fontSizeSM;return(0,v.TS)(e,{tagFontSize:t,tagLineHeight:(0,g.bf)(r(e.lineHeightSM).mul(t).equal()),tagIconSize:r(n).sub(r(o).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},C=e=>({defaultBg:new p.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),b=(0,f.I$)("Tag",(e=>(e=>{const{paddingXXS:o,lineWidth:n,tagPaddingHorizontal:r,componentCls:t,calc:a}=e,c=a(r).sub(n).equal(),s=a(o).sub(n).equal();return{[t]:Object.assign(Object.assign({},(0,h.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:c,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:"".concat((0,g.bf)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,opacity:1,transition:"all ".concat(e.motionDurationMid),textAlign:"start",position:"relative",["&".concat(t,"-rtl")]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},["".concat(t,"-close-icon")]:{marginInlineStart:s,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),"&:hover":{color:e.colorTextHeading}},["&".concat(t,"-has-color")]:{borderColor:"transparent",["&, a, a:hover, ".concat(e.iconCls,"-close, ").concat(e.iconCls,"-close:hover")]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",["&:not(".concat(t,"-checkable-checked):hover")]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},["> ".concat(e.iconCls," + span, > span + ").concat(e.iconCls)]:{marginInlineStart:c}}),["".concat(t,"-borderless")]:{borderColor:"transparent",background:e.tagBorderlessBg}}})(m(e))),C);var x=function(e,o){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&o.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)o.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(e,r[t])&&(n[r[t]]=e[r[t]])}return n};const j=r.forwardRef(((e,o)=>{const{prefixCls:n,style:t,className:c,checked:s,onChange:l,onClick:i}=e,d=x(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:g,tag:p}=r.useContext(u.E_),h=g("tag",n),[v,f,m]=b(h),C=a()(h,"".concat(h,"-checkable"),{["".concat(h,"-checkable-checked")]:s},null===p||void 0===p?void 0:p.className,c,f,m);return v(r.createElement("span",Object.assign({},d,{ref:o,style:Object.assign(Object.assign({},t),null===p||void 0===p?void 0:p.style),className:C,onClick:e=>{null===l||void 0===l||l(!s),null===i||void 0===i||i(e)}})))})),y=j;var k=n(6356);const S=(0,f.bk)(["Tag","preset"],(e=>(e=>(0,k.Z)(e,((o,n)=>{let{textColor:r,lightBorderColor:t,lightColor:a,darkColor:c}=n;return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(o)]:{color:r,background:a,borderColor:t,"&-inverse":{color:e.colorTextLightSolid,background:c,borderColor:c},["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}})))(m(e))),C);const Z=(e,o,n)=>{const r="string"!==typeof(t=n)?t:t.charAt(0).toUpperCase()+t.slice(1);var t;return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(o)]:{color:e["color".concat(n)],background:e["color".concat(r,"Bg")],borderColor:e["color".concat(r,"Border")],["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}},w=(0,f.bk)(["Tag","status"],(e=>{const o=m(e);return[Z(o,"success","Success"),Z(o,"processing","Info"),Z(o,"error","Error"),Z(o,"warning","Warning")]}),C);var O=function(e,o){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&o.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)o.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(e,r[t])&&(n[r[t]]=e[r[t]])}return n};const E=r.forwardRef(((e,o)=>{const{prefixCls:n,className:t,rootClassName:g,style:p,children:h,icon:v,color:f,onClose:m,bordered:C=!0,visible:x}=e,j=O(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:y,direction:k,tag:Z}=r.useContext(u.E_),[E,P]=r.useState(!0),N=(0,c.Z)(j,["closeIcon","closable"]);r.useEffect((()=>{void 0!==x&&P(x)}),[x]);const T=(0,s.o2)(f),I=(0,s.yT)(f),z=T||I,B=Object.assign(Object.assign({backgroundColor:f&&!z?f:void 0},null===Z||void 0===Z?void 0:Z.style),p),L=y("tag",n),[H,R,A]=b(L),q=a()(L,null===Z||void 0===Z?void 0:Z.className,{["".concat(L,"-").concat(f)]:z,["".concat(L,"-has-color")]:f&&!z,["".concat(L,"-hidden")]:!E,["".concat(L,"-rtl")]:"rtl"===k,["".concat(L,"-borderless")]:!C},t,g,R,A),D=e=>{e.stopPropagation(),null===m||void 0===m||m(e),e.defaultPrevented||P(!1)},[,F]=(0,l.Z)((0,l.w)(e),(0,l.w)(Z),{closable:!1,closeIconRender:e=>{const o=r.createElement("span",{className:"".concat(L,"-close-icon"),onClick:D},e);return(0,i.wm)(e,o,(e=>({onClick:o=>{var n;null===(n=null===e||void 0===e?void 0:e.onClick)||void 0===n||n.call(e,o),D(o)},className:a()(null===e||void 0===e?void 0:e.className,"".concat(L,"-close-icon"))})))}}),J="function"===typeof j.onClick||h&&"a"===h.type,W=v||null,M=W?r.createElement(r.Fragment,null,W,h&&r.createElement("span",null,h)):h,_=r.createElement("span",Object.assign({},N,{ref:o,className:q,style:B}),M,F,T&&r.createElement(S,{key:"preset",prefixCls:L}),I&&r.createElement(w,{key:"status",prefixCls:L}));return H(J?r.createElement(d.Z,{component:"Tag"},_):_)})),P=E;P.CheckableTag=y;const N=P}}]);
//# sourceMappingURL=CrimesHediondosCategorizer.87cf162a.chunk.js.map