"use strict";(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[5718],{537:(e,t,s)=>{s.d(t,{Y:()=>l});var i=s(4747),a=s(8027),n=s(2791),r=s(2010),o=s(2592);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{notification:s}=i.Z.useApp(),l=(0,r.a)({queryKey:[e,"history"],queryFn:(0,a.A)(e,"history"),...t});return(0,n.useEffect)((()=>{l.isSuccess&&(0,o.tS)("Loaded daily/history")}),[l.isSuccess]),(0,n.useEffect)((()=>{l.isError&&s.error({message:"Error loading daily/history",placement:"bottomLeft"})}),[l.isError]),l}},4609:(e,t,s)=>{s.d(t,{J:()=>n});var i=s(2791),a=s(6728);function n(e,t){const s=(0,i.useMemo)((()=>{var s;return null!==(s=null===t||void 0===t?void 0:t[e])&&void 0!==s?s:{latestDate:(0,a.hD)(),latestNumber:0,used:"[]"}}),[t,e]);return[(0,i.useMemo)((()=>{var e,t,i;return{latestNumber:null!==(e=null===s||void 0===s?void 0:s.latestNumber)&&void 0!==e?e:0,latestDate:null!==(t=null===s||void 0===s?void 0:s.latestDate)&&void 0!==t?t:(0,a.hD)(),used:JSON.parse(null!==(i=null===s||void 0===s?void 0:s.used)&&void 0!==i?i:"[]")}}),[s]),s]}},9079:(e,t,s)=>{s.d(t,{C:()=>i});const i={SUFFIX_DATA:{pt:"drawingsPT",en:"drawingsEN"},DAILY:{pt:"diario",en:"daily"}}},9825:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var i=s(1790),a=s(945),n=s(1046),r=s(4520),o=s(9263),l=s(2252),d=s(4453),c=s(184);const u=e=>{var t,s;let{drawing:i="",className:a="",width:n=250,height:r,strokeWidth:o="medium",viewBox:l="0 0 500 500"}=e;const d=JSON.parse(i),u=d.map((e=>{let t="";for(let s=0,i=1;i<e.length;s+=2,i+=2)e[s+2]&&e[i+2]&&(t+="M".concat(e[s],",").concat(e[i]," L").concat(e[s+2],",").concat(e[i+2]));return t}));const m=null!==(t=null===(s={small:3,medium:5,large:7})||void 0===s?void 0:s[o])&&void 0!==t?t:5;return(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:l,overflow:"hidden",className:a,style:{width:"".concat(n,"px"),height:"".concat(r||n,"px")},children:[(0,c.jsx)("defs",{}),u.map(((e,t)=>(0,c.jsx)("path",{d:e,fill:"none",stroke:"#000",strokeWidth:m,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10"},"".concat(i,"-").concat(t))))]})};var m=s(2997),h=s(7375),p=s(9631),g=s(2592),f=s(9079),v=s(537),x=s(4747),I=s(8027),j=s(2791),b=s(2010),y=s(7342);var S=s(763),N=s(2606);function w(e,t){var s;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3?arguments[3]:void 0;const{getUrl:n}=(0,N.n)("resources"),r=a?"words-".concat(e,"-letters-selected-").concat(t):"words-".concat(e,"-letters-").concat(t),o=(0,b.a)({queryKey:[r],queryFn:async()=>{const e=await fetch(n("".concat(r,".json")));return await e.json()},enabled:i&&!!e&&!!t}),l=!(0,S.isEmpty)(o.data);return{...o,data:null!==(s=o.data)&&void 0!==s?s:[],hasResponseData:l}}var L=s(5529),D=s(4609),E=s(6728);const q=function(e,t,s){var i;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,n=arguments.length>4?arguments[4]:void 0,r=(0,S.shuffle)((0,S.difference)(e,s,t));const o=n||(null!==(i=r.pop())&&void 0!==i?i:"");n&&(r=(0,S.difference)(r,[n]));const l=[];for(let d=0;d<a;d++){const t=k(e,o,l,d);l.push(t)}return s.push(o,...l),{keyword:o,words:l,letters:C(l,o.length)}},k=(e,t,s,i)=>{const a=(0,S.uniq)([...(0,S.flatMap)(s.map((e=>e.split("")))),...t.split("")]),n=(0,S.shuffle)(e.filter((e=>e[i]===t[i]&&!s.includes(e))));return(0,S.sortBy)(n,(e=>(0,S.intersection)(e.split(""),a).length))[0]},C=(e,t)=>{const s=(0,S.flatMap)(e.map((e=>e.split("")))),i=4===t?[0,5,10,15]:[0,6,12,18,24],a=(0,S.shuffle)(s.filter(((e,t)=>!i.includes(t))));let n=[];for(let o=0;o<s.length;o++){var r;if(i.includes(o))n.push(s[o]);else n.push(null!==(r=a.shift())&&void 0!==r?r:"")}return n},Z=(e,t)=>{const[s,i,a]=e.split("-").map(Number),n={id:e,number:t,type:"controle-de-estoque",language:"pt",title:["Domingo","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xe1bado"][new Date(s,i-1,a).getDay()],goods:[],orders:[]},r=(0,S.sampleSize)(Array(256).fill("").map(((e,t)=>"good-".concat(t+1))),17),o=r.pop();return n.goods=r,n.orders=(0,S.sampleSize)(n.goods,4),n.orders.push(o),n.orders=(0,S.shuffle)(n.orders),n};var A=s(2082),T=s(5850),J=s(6591);const M=(e,t)=>{const s=(0,S.shuffle)(t),i=(0,S.shuffle)((0,T.R9)(38,0)),a=(0,S.sampleSize)(e,3).map((e=>({...e,spriteId:"".concat(i.pop())}))),n=[],r=[],o=[],l=[],d=[],c=[],u=[],m=[];s.forEach((e=>{const t=[J.NL.DETERMINISTIC,J.NL.RELATED],s=e.attributes[a[0].id]===J.NL.DETERMINISTIC,i=t.includes(e.attributes[a[0].id]),h=e.attributes[a[0].id]===J.NL.UNRELATED,p=e.attributes[a[1].id]===J.NL.DETERMINISTIC,g=t.includes(e.attributes[a[1].id]),f=e.attributes[a[1].id]===J.NL.UNRELATED,v=e.attributes[a[2].id]===J.NL.DETERMINISTIC,x=t.includes(e.attributes[a[2].id]),I=e.attributes[a[2].id]===J.NL.UNRELATED;if(h&&f&&I)return m.push(e.id);s&&f&&I&&n.push(e.id),h&&p&&I&&r.push(e.id),h&&f&&v&&o.push(e.id),i&&g&&I&&l.push(e.id),i&&f&&x&&d.push(e.id),h&&g&&x&&c.push(e.id),i&&g&&x&&u.push(e.id)}));const h=a.map((e=>({id:e.id,name:e.name.pt,description:e.description.pt,spriteId:e.spriteId,itemsIds:[]})));h[0].itemsIds=(0,S.sampleSize)(n,n.length>3?3:Math.max(n.length-1,1)),h[1].itemsIds=(0,S.sampleSize)(r,r.length>3?3:Math.max(n.length-1,1)),h[2].itemsIds=(0,S.sampleSize)(o,o.length>3?3:Math.max(n.length-1,1));const p=[];h.forEach((e=>{p.push(...e.itemsIds)}));const g=[];l.length>0&&g.push({spritesIds:[a[0].spriteId,a[1].spriteId],itemId:(0,S.sample)(l)}),d.length>0&&g.push({spritesIds:[a[0].spriteId,a[2].spriteId],itemId:(0,S.sample)(d)}),c.length>0&&g.push({spritesIds:[a[1].spriteId,a[2].spriteId],itemId:(0,S.sample)(c)}),u.length>0&&g.push({spritesIds:a.map((e=>e.spriteId)),itemId:(0,S.sample)(u)});const f=[];n.length>0&&f.push({spritesIds:[a[0].spriteId],itemId:n.filter((e=>!p.includes(e)))[0]}),r.length>0&&f.push({spritesIds:[a[1].spriteId],itemId:r.filter((e=>!p.includes(e)))[0]}),o.length>0&&f.push({spritesIds:[a[2].spriteId],itemId:o.filter((e=>!p.includes(e)))[0]});let v=(0,S.sampleSize)(g,4);v.length<3&&v.push(...(0,S.sampleSize)(f,4-v.length)),v.length<4&&console.log("\ud83d\udd06 Not enough requests for an alien communication, marking as invalid"),v=(0,S.shuffle)(v);const x=v.map((e=>e.itemId)),I={id:"0000-00-00",setId:h.map((e=>e.id)).sort().join("-"),number:0,type:"comunica\xe7\xe3o-alien\xedgena",attributes:h,requests:v,solution:x.join("-"),itemsIds:(0,S.shuffle)([...x,...(0,S.sampleSize)([m[0],m[1],m[2],m[3]],(0,S.random)(1,3))]).filter(Boolean),valid:!1};return I.valid=[3===I.attributes.length,4===I.requests.length,I.itemsIds.length>4,I.attributes.every((e=>e.itemsIds.length>0)),I.requests.every((e=>e.itemId))].every(Boolean),I};function O(e,t,s,i){const a=f.C.DAILY[null!==t&&void 0!==t?t:"pt"],n=(0,v.Y)(a,{enabled:e}),[r,o]=(0,j.useState)([]),l=e=>{o((t=>[...t,e]))};(0,j.useEffect)((()=>{o([])}),[i,t]);const d=function(e,t){var s,i;const{notification:a}=x.Z.useApp(),n=(0,b.a)({queryKey:["data","suffixCounts"],queryFn:(0,I.A)("data","suffixCounts"),enabled:e});(0,j.useEffect)((()=>{n.isSuccess&&(0,g.tS)("Loaded data/suffixCounts")}),[n.isSuccess]),(0,j.useEffect)((()=>{n.isError&&a.error({message:"Error loading data/suffixCounts",placement:"bottomLeft"})}),[n.isError]);const r=f.C.SUFFIX_DATA[null!==t&&void 0!==t?t:"pt"],o=null!==(s=null===(i=n.data)||void 0===i?void 0:i[r])&&void 0!==s?s:0,l="drawings".concat("pt"===t?"PT":"EN"),d=(0,j.useMemo)((()=>new Array(o).fill(0).map(((t,s)=>({queryKey:["data","".concat(l).concat(s+1)],queryFn:(0,I.A)("data","".concat(l).concat(s+1)),enabled:e&&Boolean(o),onSuccess:()=>{a.info({message:"Data Drawings ".concat(l).concat(s+1," loaded"),placement:"bottomLeft"})}})))),[o]);return(0,y.h)({queries:d})}(e,null!==t&&void 0!==t?t:"pt"),c=d.some((e=>e.isLoading)),[u]=(0,D.J)("arte-ruim",n.data),m=(0,j.useMemo)((()=>c||!n.isSuccess?[]:((e,t,s,i,a)=>{console.count("Creating Arte Ruim...");const n=(null!==s&&void 0!==s?s:[]).reduce(((e,s)=>{var a;const n=null!==(a=s.data)&&void 0!==a?a:{};return Object.entries(n).forEach((s=>{var a;let[n,r]=s;const o=null!==(a=r.cardId)&&void 0!==a?a:r.id;return null!==o&&void 0!==o&&o.includes("--")||t.used.includes(o)?e:r.drawing.trim().length<10?(console.log("\ud83d\udd06 Empty drawing",o),e):void(void 0===e[o]?e[o]={id:o,type:"arte-ruim",language:null!==i&&void 0!==i?i:"pt",cardId:o,text:r.text,drawings:[r.drawing],number:0,dataIds:[n]}:(e[o].drawings.push(r.drawing),e[o].dataIds.push(n)))})),e}),{}),r=Object.values(n).filter((e=>{var t;return e.drawings.length>=a&&e.cardId&&!(null!==(t=e.cardId)&&void 0!==t&&t.includes("--"))})),o=(0,S.sampleSize)((0,S.shuffle)(r),e);let l=t.latestDate;return o.map(((e,s)=>{const i=(0,E.ao)(l);return l=i,{...e,id:i,number:t.latestNumber+s+1}}))})(i,u,d,t,s)),[d,t,u,i,s,c,n.isSuccess]),h=(0,L.N)("daily-disc-sets",e),[p]=(0,D.J)("aqui-o",n.data),N=(0,j.useMemo)((()=>h.isSuccess&&n.isSuccess?((e,t,s,i)=>{console.count("Creating Aqui \xd3...");const a=(0,S.shuffle)(Object.values(s).filter((e=>e.itemsIds.filter(Boolean).length>=20)));let n=a.filter((e=>!t.used.includes(e.id)));n.length<e&&(console.log("\ud83d\udd06 Not enough aqui-o sets left, shuffling..."),i("Not enough aqui-o sets left"),n.push(...(0,S.shuffle)(a)));let r=t.latestDate;const o={};for(let l=0;l<e;l++){const e=n[l];e||console.error("No aqui-o sets left");const s=(0,E.ao)(r);r=s,o[s]={id:s,type:"aqui-o",number:t.latestNumber+l+1,setId:e.id,title:e.title,itemsIds:["0",...(0,S.sampleSize)(e.itemsIds,20)]}}return o})(i,p,h.data,l):{}),[h,p,i,n.isSuccess]),k=w(4,t,!0,!0),C=w(5,t,!0,!0),[T]=(0,D.J)("palavreado",n.data),J=(0,j.useMemo)((()=>k.data&&k.data.length&&C.data&&C.data.length&&n.isSuccess?((e,t,s,i)=>{console.count("Creating Palavreado...");let a=t.latestDate;const n=[],r={};for(let o=0;o<e;o++){const e=(0,E.ao)(a),l=(0,E.A5)(e),d=l?5:4;a=e,r[e]={id:e,type:"palavreado",number:t.latestNumber+o+1,...q(l?i:s,[...Object.values(r).map((e=>e.keyword)),...t.used],n,d)}}return r})(i,T,k.data,C.data):{}),[k,C,T,i,n.isSuccess]),O=(0,L.N)("arte-ruim-cards-".concat(t),e),[R]=(0,D.J)("artista",n.data),z=(0,j.useMemo)((()=>{if(!O.isSuccess||!n.isSuccess)return{};const e=m.map((e=>e.cardId));return((e,t,s,i,a)=>{console.count("Creating Artista...");let n=t.latestDate;const r={};for(let o=0;o<e;o++){const e=(0,E.ao)(n),l=Object.keys(null!==i&&void 0!==i?i:{}).filter((e=>!s.used.includes(e)&&!a.includes(e))),d=(0,S.sampleSize)(l,15).map((e=>i[e]));n=e,r[e]={id:e,type:"artista",number:t.latestNumber+o+1,cards:d}}return r})(i,R,u,O.data,e)}),[O,u,R,i,n.isSuccess,m]),B=(0,L.N)("daily-movie-sets",e),[F]=(0,D.J)("filmaco",n.data),P=(0,j.useMemo)((()=>B.isSuccess&&n.isSuccess?((e,t,s)=>{console.count("Creating Filma\xe7o...");const i=(0,S.shuffle)(Object.values(s).filter((e=>e.itemsIds.filter(Boolean).length>0)));let a=i.filter((e=>!t.used.includes(e.id)));a.length<e&&a.push(...(0,S.shuffle)(i));let n=t.latestDate;const r={};for(let o=0;o<e;o++){const e=a[o];if(!e){console.error("No filma\xe7o sets left");break}const s=(0,E.ao)(n);n=s,r[s]={id:s,type:"filmaco",number:t.latestNumber+o+1,setId:e.id,title:e.title,itemsIds:e.itemsIds,year:e.year}}return r})(i,F,B.data):{}),[B,F,i,n.isSuccess]),[U]=(0,D.J)("controle-de-estoque",n.data),Y=(0,j.useMemo)((()=>n.isSuccess?((e,t)=>{console.count("Creating Controle de Estoque...");let s=t.latestDate;const i={};for(let a=0;a<e;a++){const e=(0,E.ao)(s);s=e,i[e]=Z(e,t.latestNumber+a+1)}return i})(i,U):{}),[i,n.isSuccess,U]),[K]=(0,D.J)("teoria-de-conjuntos",n.data),_=(0,L.N)("daily-diagram-items",e),Q=(0,L.N)("daily-diagram-rules",e),X=(0,j.useMemo)((()=>n.isSuccess&&_.isSuccess&&Q.isSuccess?(0,A.h)(i,K,Q.data,_.data):{}),[i,n.isSuccess,K,Q,_]),[W]=(0,D.J)("comunicacao-alienigena",n.data),$=(0,L.N)("items-attributes",e),G=(0,L.N)("items-attribute-values",e),H=(0,j.useMemo)((()=>n.isSuccess&&$.isSuccess&&G.isSuccess?((e,t,s,i,a)=>{console.count("Creating Comunicacao Alienigena...");let n=t.latestDate;const r=(0,S.values)(s).filter((e=>!e.limited&&"sol"!==e.id)),o=(0,S.values)(i).filter((e=>e.complete)),l={};let d=0;for(;(0,S.keys)(l).length<e&&d<100;){const s=M(r,o);if(!s.valid||l[s.setId]||t.used.includes(s.setId)||(l[s.setId]=s),(0,S.keys)(l).length>=e)break;d+=1}console.log("\ud83d\udd06 Generating this batch took ".concat(d," tries")),d>=100&&a("Not enough valid comunicacao alienigena games (over 100 attempts)");const c={};return Object.values(l).forEach(((e,s)=>{const i=(0,E.ao)(n);n=i,c[i]={...e,id:i,number:t.latestNumber+s+1}})),c})(i,W,$.data,G.data,l):{}),[i,n.isSuccess,W,$,G]),V=(0,j.useMemo)((()=>0===m.length?[]:(console.count("Bundling entries..."),m.map((e=>({id:e.id,"arte-ruim":e,"aqui-o":N[e.id],palavreado:J[e.id],artista:z[e.id],filmaco:P[e.id],"controle-de-estoque":Y[e.id],"teoria-de-conjuntos":X[e.id],"comunicacao-alienigena":H[e.id]}))))),[m,N,J,z,P,Y,X,H]);return{isLoading:c||n.isLoading||k.isLoading||C.isLoading||O.isLoading||h.isLoading||B.isLoading||_.isLoading||Q.isLoading||$.isLoading||G.isLoading,entries:V,warnings:r}}var R=s(3713),z=s(8556);function B(e){var t,s;let{language:i,dataLoad:a}=e;const I=i,b=[{title:"Id",dataIndex:"id",key:"id"},{title:"Arte Ruim",dataIndex:"arte-ruim",key:"arte-ruim",render:e=>{let{number:t,cardId:s,text:i,drawings:a}=e;return(0,c.jsxs)(n.Z,{direction:"vertical",children:[(0,c.jsxs)(n.Z,{children:[(0,c.jsxs)("span",{children:["#",t]}),(0,c.jsxs)("span",{children:["CardId: ",s]}),(0,c.jsxs)("span",{children:["Count: ",a.length]})]}),(0,c.jsxs)("div",{children:['"',i.split("").map(((e,t)=>t<2||" "===e?e:"\u23f9")).join(""),'"']}),(0,c.jsx)(n.Z,{wrap:!0,children:a.map((e=>(0,c.jsx)(u,{drawing:e,width:75,height:75,className:"canvas"},e)))})]})}},{title:"Aqui O",dataIndex:"aqui-o",key:"aqui-o",render:e=>{let{number:t,setId:s,title:a,itemsIds:o}=e;return(0,c.jsxs)(n.Z,{direction:"vertical",children:[(0,c.jsxs)("span",{children:["#",t]}),(0,c.jsxs)("span",{children:["SetId: ",s]}),(0,c.jsxs)("span",{children:["Title: ",a[i]]}),(0,c.jsxs)(r.Z,{gap:6,wrap:!0,children:[(0,c.jsx)(m.ck,{id:o[1],width:50}),(0,c.jsx)(m.ck,{id:o[5],width:50}),(0,c.jsx)(m.ck,{id:o[10],width:50})]})]})}},{title:"Palavreado",dataIndex:"palavreado",key:"palavreado",render:e=>{let{number:t,words:s,letters:i,keyword:a}=e;return(0,c.jsxs)(n.Z,{direction:"vertical",children:[(0,c.jsxs)("span",{children:["#",t]}),(0,c.jsxs)("span",{children:["Letters: ",i.length]}),(0,c.jsxs)("span",{children:["Keyword: ",a]}),(0,c.jsx)(n.Z,{direction:"vertical",children:s.map(((e,s)=>(0,c.jsx)("span",{children:e.split("").map(((e,t)=>t===s||" "===e?e:"\u23f9")).join("")},"".concat(t,"-").concat(e))))})]})}},{title:"Filma\xe7o",dataIndex:"filmaco",key:"filmaco",render:e=>{let{number:t,setId:s,year:i,title:a}=e;return(0,c.jsxs)(n.Z,{direction:"vertical",children:[(0,c.jsxs)("span",{children:["#",t]}),(0,c.jsxs)("span",{children:["SetId: ",s]}),(0,c.jsxs)("span",{children:["Year: ",i]}),(0,c.jsxs)("span",{children:["Title:"," ",a.split("").map(((e,t)=>t<1||" "===e?e:"\u23f9")).join("")]})]})}},{title:"Controle de Estoque",dataIndex:"controle-de-estoque",key:"controle-de-estoque",render:e=>{let{number:t,title:s,goods:i}=e;return(0,c.jsxs)(n.Z,{direction:"vertical",children:[(0,c.jsxs)("span",{children:["#",t]}),(0,c.jsxs)("span",{children:["Title: ",s]}),(0,c.jsxs)(r.Z,{gap:6,wrap:!0,children:[(0,c.jsx)(h.y,{id:i[0],width:50}),(0,c.jsx)(h.y,{id:i[1],width:50}),(0,c.jsx)(h.y,{id:i[2],width:50})]})]})}},{title:"Teoria de Conjuntos",dataIndex:"teoria-de-conjuntos",key:"teoria-de-conjuntos",render:e=>{let{number:t,title:s,intersectingThing:i}=e;return(0,c.jsxs)(n.Z,{direction:"vertical",children:[(0,c.jsxs)("span",{children:["#",t]}),(0,c.jsxs)("span",{children:["Title: ",s]}),(0,c.jsx)(r.Z,{gap:6,wrap:!0,children:(0,c.jsx)(m.ck,{id:i.id,width:50})})]})}},{title:"Comunica\xe7\xe3o Alien\xedgena",dataIndex:"comunicacao-alienigena",key:"comunicacao-alienigena",render:e=>e?(0,c.jsxs)(n.Z,{direction:"vertical",children:[(0,c.jsxs)("span",{children:["#",e.number]}),(0,c.jsxs)("span",{children:[e.itemsIds.length," items"]}),(0,c.jsxs)(n.Z,{children:[(0,c.jsx)(n.Z,{direction:"vertical",children:e.attributes.map((e=>(0,c.jsx)(m.o$,{id:"sign-".concat(e.spriteId),width:50},e.spriteId)))}),(0,c.jsx)(n.Z,{direction:"vertical",children:e.itemsIds.map((e=>(0,c.jsx)(m.ck,{id:e,width:50},e)))})]})]}):(0,c.jsx)(o.Z,{message:"No entry",type:"error"})},{title:"Artista",dataIndex:"artista",key:"artista",render:e=>{let{number:t,cards:s}=e;return(0,c.jsxs)(n.Z,{direction:"vertical",style:{maxHeight:200,overflowY:"auto"},children:[(0,c.jsxs)("span",{children:["#",t]}),s.map(((e,t)=>(0,c.jsx)("span",{children:e.text},"".concat(e.id,"-").concat(t))))]})}}],{save:y,isPending:S}=function(e){const{notification:t}=x.Z.useApp(),s=(0,R.NL)(),i=f.C.DAILY[null!==e&&void 0!==e?e:"pt"],[a,n]=(0,j.useState)(!1),r=(0,v.Y)(i,{enabled:Boolean(i)}),o=(0,z.D)({mutationFn:async e=>{var t,s,a,n,o,l,d;const c=e.map((e=>{const t=(0,p.JU)(g.RZ,"".concat(i,"/").concat(e.id));return(0,p.pl)(t,e)})),u=(0,p.JU)(g.RZ,"".concat(i,"/history")),m=r.data;if(!m)throw new Error("No previous history");const h={...m,"arte-ruim":{latestDate:e[e.length-1].id,latestNumber:e[e.length-1]["arte-ruim"].number,used:JSON.stringify((0,T.R1)([...JSON.parse(m["arte-ruim"].used),...e.map((e=>e["arte-ruim"].cardId))]))},"aqui-o":{latestDate:e[e.length-1].id,latestNumber:e[e.length-1]["aqui-o"].number,used:JSON.stringify((0,T.R1)([...JSON.parse(null!==(t=m["aqui-o"].used)&&void 0!==t?t:"[]"),...e.map((e=>e["aqui-o"].setId))]))},palavreado:{latestDate:e[e.length-1].id,latestNumber:e[e.length-1].palavreado.number,used:JSON.stringify((0,T.R1)([...JSON.parse(m.palavreado.used),...e.map((e=>e.palavreado.keyword))]))},artista:{latestDate:e[e.length-1].id,latestNumber:e[e.length-1].artista.number,used:"[]"},filmaco:{latestDate:e[e.length-1].id,latestNumber:e[e.length-1].filmaco.number,used:JSON.stringify((0,T.R1)([...JSON.parse(null!==(s=null===m||void 0===m||null===(a=m.filmaco)||void 0===a?void 0:a.used)&&void 0!==s?s:"[]"),...e.map((e=>e.filmaco.setId))]))},"controle-de-estoque":{latestDate:e[e.length-1].id,latestNumber:e[e.length-1]["controle-de-estoque"].number,used:"[]"},"teoria-de-conjuntos":{latestDate:e[e.length-1].id,latestNumber:e[e.length-1]["teoria-de-conjuntos"].number,used:JSON.stringify((0,T.R1)([...JSON.parse(null!==(n=null===m||void 0===m||null===(o=m["teoria-de-conjuntos"])||void 0===o?void 0:o.used)&&void 0!==n?n:"[]"),...e.map((e=>e["teoria-de-conjuntos"].setId)),...e.map((e=>e["teoria-de-conjuntos"].intersectingThing.id))]))},"comunicacao-alienigena":{latestDate:e[e.length-1].id,latestNumber:e[e.length-1]["comunicacao-alienigena"].number,used:JSON.stringify((0,T.R1)([...JSON.parse(null!==(l=null===m||void 0===m||null===(d=m["comunicacao-alienigena"])||void 0===d?void 0:d.used)&&void 0!==l?l:"[]"),...e.map((e=>e["comunicacao-alienigena"].setId))]))}};return(0,p.pl)(u,h),Promise.all(c)},onSuccess:()=>{t.info({message:"Data saved",placement:"bottomLeft"}),s.invalidateQueries({queryKey:[i,"history"]}),n(!1)},onError:()=>{t.error({message:"Error saving data",placement:"bottomLeft"})}});return{isDirty:a,setIsDirty:n,save:o.mutateAsync,isPending:o.isPending}}(null!==I&&void 0!==I?I:"pt");return(0,c.jsxs)("div",{children:[a.isLoading&&(0,c.jsx)("div",{children:"Loading..."}),a.warnings.map((e=>(0,c.jsx)(o.Z,{message:e,type:"warning",showIcon:!0},e))),(0,c.jsxs)(r.Z,{justify:"space-between",align:"center",children:[(0,c.jsxs)("h1",{children:["Total: ",a.entries.length]}),(0,c.jsx)(l.ZP,{onClick:()=>y(a.entries),loading:S,disabled:0===(null!==(t=a.entries)&&void 0!==t?t:[]).length,type:"primary",size:"large",children:"Save"})]}),(0,c.jsx)(d.Z,{columns:b,dataSource:null!==(s=a.entries)&&void 0!==s?s:[]})]})}var F=s(8357),P=s(7965);function U(e){let{language:t,setLanguage:s,drawingsCount:i,setDrawingsCount:a,batchSize:n,setBatchSize:r}=e;return(0,c.jsxs)(P.Pd,{children:[(0,c.jsx)(F.zE,{label:"Language",value:t,onChange:s,options:[J.k$],placeholder:"Select a language"}),(0,c.jsx)(F.zE,{label:"Minimum Drawings",value:i,onChange:a,options:[2,3,4],placeholder:"Select a number"}),(0,c.jsx)(F.zE,{label:"Batch Size",value:n,onChange:r,options:[3,7,14,21,28],placeholder:"Select a number"})]})}var Y=s(2128),K=s(4562);const _=function(){const[e,t]=(0,j.useState)(""),[s,n]=(0,j.useState)(3),[r,o]=(0,j.useState)(7),l=O(Boolean(e),e,s,r);return(0,c.jsx)(P.Xg,{title:"Daily Setup",children:(0,c.jsxs)(i.Z,{hasSider:!0,children:[(0,c.jsxs)(K.p,{children:[(0,c.jsx)(F.Th,{isLoading:l.isLoading,error:null,hasResponseData:!l.isLoading}),(0,c.jsx)(U,{language:e,setLanguage:t,drawingsCount:s,setDrawingsCount:n,batchSize:r,setBatchSize:o})]}),(0,c.jsx)(i.Z.Content,{className:"content",children:(0,c.jsxs)(Y.T,{isLoading:l.isLoading,error:null,hasResponseData:!l.isLoading,children:[(0,c.jsx)(a.Z.Title,{level:2,children:"Data Population"}),(0,c.jsx)(B,{language:e,dataLoad:l})]})})]})})}}}]);
//# sourceMappingURL=DailySetup.c85e2110.chunk.js.map