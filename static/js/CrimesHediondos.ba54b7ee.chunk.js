/*! For license information please see CrimesHediondos.ba54b7ee.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[1886],{3164:(e,a,n)=>{n.d(a,{__:()=>x,aW:()=>h,js:()=>f,s4:()=>y});var t=n(1413),r=n(4925),l=n(8955),s=n(5458),o=n(6178),i=n(7515),c=n(5922),d=n(7134),u=n(1310),p=n(184);const v=["strong"],m=["value","language"],g=["value"];function x(e){let{strong:a}=e,n=(0,r.Z)(e,v);return(0,p.jsx)(o.Z.Text,(0,t.Z)({strong:null===a||void 0===a||a},n))}function h(e){let{value:a,language:n}=e,l=(0,r.Z)(e,m);return(0,p.jsx)(i.Z,(0,t.Z)({prefix:(0,p.jsx)(u.H,{language:n,width:"1em"}),placeholder:"Value in ".concat(n.toUpperCase()),defaultValue:a[n],size:"small"},l))}function f(e){let{value:a}=e,n=(0,r.Z)(e,g);return(0,p.jsx)(c.Z,(0,t.Z)({checked:a,checkedChildren:(0,p.jsx)(l.Z,{style:{color:"hotpink"}})},n))}function y(e){let{value:a,nsfw:n}=e;const t=(0,d._)();return(0,p.jsx)("span",{children:(0,p.jsx)(i.Z,{prefix:n?(0,p.jsx)(l.Z,{style:{color:"hotPink"}}):(0,p.jsx)(s.Z,{}),placeholder:"Id",variant:"borderless",size:"small",value:a,readOnly:!0,onClick:()=>t(a)})})}},9961:(e,a,n)=>{n.d(a,{m:()=>d});var t=n(1413),r=n(4925),l=n(9475),s=n(3414),o=n(7134),i=n(184);const c=["content","shape","icon","size"];function d(e){let{content:a,shape:n,icon:d,size:u}=e,p=(0,r.Z)(e,c);const v=(0,o._)();return(0,i.jsx)(l.ZP,(0,t.Z)({shape:null!==n&&void 0!==n?n:"circle",icon:null!==d&&void 0!==d?d:(0,i.jsx)(s.Z,{}),size:null!==u&&void 0!==u?u:"small",onClick:()=>v(a)},p))}},4341:(e,a,n)=>{n.d(a,{M:()=>o});var t=n(1413),r=n(4925),l=n(2791);const s=["maxExpandedRows","rowExpandable","defaultExpandAllRows"];function o(e){let{maxExpandedRows:a,rowExpandable:n,defaultExpandAllRows:o}=e,i=(0,r.Z)(e,s);const[c,d]=(0,l.useState)([]);return(0,t.Z)({expandedRowKeys:c,rowExpandable:null!==n&&void 0!==n?n:()=>!0,defaultExpandAllRows:null!==o&&void 0!==o&&o,onExpand:(e,n)=>{const t=[...c];if(!e)return d(t.filter((e=>e!==n.id)));if(a){for(;t.length>=a;)t.shift();t.push(n.id),d(t)}}},i)}},548:(e,a,n)=>{n.d(a,{P:()=>r});var t=n(4766);function r(e){var a,n;let{prefix:r="",defaultCurrent:l=1,defaultPageSize:s=10,pageSizeOptions:o=[10,20,50,100],total:i,showQuickJumper:c}=e;const{queryParams:d,addParam:u}=(0,t.K)();return{current:Number(null!==(a=d.get("".concat(r,"page")))&&void 0!==a?a:String(l)),pageSize:Number(null!==(n=d.get("".concat(r,"pageSize")))&&void 0!==n?n:String(s)),onChange:e=>{u("".concat(r,"page"),e.toString(),String(l))},onShowSizeChange:(e,a)=>{u("".concat(r,"pageSize"),a.toString(),String(s))},defaultCurrent:l,defaultPageSize:s,pageSizeOptions:o,total:i,hideOnSinglePage:!0,showQuickJumper:c}}},4216:(e,a,n)=>{n.r(a),n.d(a,{default:()=>ce});var t=n(1790),r=n(4766),l=n(763),s=n(2791),o=n(7515),i=n(1046),c=n(2786),d=n(952),u=n(9475),p=n(3164),v=n(9961),m=n(7134),g=n(4341),x=n(548),h=n(7557),f=n(5850),y=n(906),j=n(4520),C=n(184);function w(e){let{allTags:a,onSelect:n}=e;return(0,C.jsx)(y.Z,{showSearch:!0,mode:"tags",placeholder:"Add new tag",options:a,style:{width:"200px"},autoClearSearchValue:!0,maxCount:1,onSelect:n,allowClear:!0,defaultActiveFirstOption:!1,size:"small"})}function Z(e){let{onSelect:a}=e;const[n,t]=(0,s.useState)([]);return(0,C.jsxs)(j.Z,{gap:6,children:[(0,C.jsx)(y.Z,{showSearch:!0,mode:"tags",placeholder:"Add new tag",options:[],style:{width:"200px"},autoClearSearchValue:!0,allowClear:!0,value:n,onChange:t,tokenSeparators:[","],onClear:()=>t([]),defaultActiveFirstOption:!1,size:"small"}),(0,C.jsx)(u.ZP,{onClick:()=>{a(n.map((e=>e.trim().toLowerCase()))),t([])},disabled:0===n.length,children:"Add"})]})}function b(e){let{card:a,allTags:n,onUpdateCard:t}=e;const r=e=>{var n;const r=(0,l.cloneDeep)(a);var s,o;null!==(n=r.tags)&&void 0!==n&&n.includes(e)?r.tags=null===(s=r.tags)||void 0===s?void 0:s.filter((a=>a!==e)):r.tags=(0,f.R1)([...null!==(o=r.tags)&&void 0!==o?o:[],e]).sort();t(r)};return(0,C.jsxs)(i.Z,{wrap:!0,children:[(0,C.jsxs)(i.Z,{size:"small",children:["New tag:",(0,C.jsx)(w,{allTags:n,onSelect:r})]}),(0,C.jsxs)(i.Z,{size:"small",children:["All multiple tags:",(0,C.jsx)(Z,{allTags:n,onSelect:e=>{var n;const r=(0,l.cloneDeep)(a);r.tags=(0,f.R1)([...null!==(n=r.tags)&&void 0!==n?n:[],...e]).sort(),t(r)}})]}),(0,C.jsx)("ul",{className:"all-tags",children:n.map((e=>{var n;let{value:t,count:l}=e;return(0,C.jsxs)(d.Z,{color:null!==(n=a.tags)&&void 0!==n&&n.includes(t)?"yellow":void 0,className:"all-tags__tag",onClick:()=>r(t),children:[t," (",l,")"]},"all-tags-".concat(t))}))})]})}var S=n(9228),k=n(3733),E=n(2997);function N(e){let{item:a,cardWidth:n,activeColor:t,isSelected:r=!1,className:l=""}=e;return a.itemId?(0,C.jsxs)("div",{className:(0,k.Z)("crime-item-card",r&&"crime-item-card--selected",l),style:t&&r?{borderColor:"black",backgroundColor:t}:{},children:[(0,C.jsx)(S.Z,{content:(0,C.jsxs)(C.Fragment,{children:[a.name.pt," | ",a.name.en]}),children:(0,C.jsx)(d.Z,{className:"crime-item-card__name",color:"weapon"===a.type?"geekblue":"volcano",style:{maxWidth:"".concat(n,"px")},children:(0,C.jsx)("span",{children:a.name.en})})}),(0,C.jsx)("div",{className:(0,k.Z)("crime-item-card__item-container","crime-item-card__item-container--".concat(a.type)),children:(0,C.jsx)(E.ck,{id:a.itemId,width:.85*n,className:"crime-item-card__item"})})]}):(0,C.jsx)(C.Fragment,{children:a.id})}function z(e){let{rows:a,allTags:n,onUpdateCard:t}=e;const r=(0,m._)(),s=(0,x.P)({total:a.length,showQuickJumper:!0}),f=(e,a,n)=>{const r=(0,l.cloneDeep)(n);r.name[a]=e,t(r)},y=[{title:"Id",dataIndex:"id",key:"id",render:e=>(0,C.jsxs)("span",{children:[e,(0,C.jsx)(v.m,{content:e})]}),sorter:(e,a)=>e.id.localeCompare(a.id)},{title:"Card",dataIndex:"itemId",key:"itemId",render:(e,a)=>(0,C.jsxs)("div",{children:[(0,C.jsx)(N,{item:a,cardWidth:70}),(0,C.jsx)(o.Z,{defaultValue:a.itemId,size:"small",onBlur:e=>{var n,r,s;if(console.log(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value),console.log("onBlur"),null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.value&&(null===e||void 0===e||null===(s=e.target)||void 0===s?void 0:s.value)!==a.itemId){var o;const n=(0,l.cloneDeep)(a);n.itemId=null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value,t(n)}}})]})},{title:"Name",dataIndex:"name",key:"name",sorter:(e,a)=>e.name.en.localeCompare(a.name.en),render:(e,a)=>(0,C.jsxs)(i.Z,{direction:"vertical",style:{minWidth:150},children:[(0,C.jsx)(p.aW,{value:e,language:"en",onPressEnter:e=>{var n;return f((null===(n=e.target)||void 0===n?void 0:n.value)||a.name.en,"en",a)}}),(0,C.jsx)(p.aW,{value:e,language:"pt",onPressEnter:e=>{var n;return f((null===(n=e.target)||void 0===n?void 0:n.value)||a.name.pt,"pt",a)}})]})},{title:"Type",dataIndex:"type",key:"type",render:e=>(0,C.jsx)("span",{children:e}),sorter:(e,a)=>e.type.localeCompare(a.type)},c.Z.EXPAND_COLUMN,{title:"Tags",dataIndex:"tags",key:"tags",render:e=>(0,C.jsx)(i.Z,{size:"small",wrap:!0,children:e.map((e=>(0,C.jsx)(d.Z,{children:e},e)))})},{title:"Verify",dataIndex:"tags",key:"verify",render:e=>e.length>2?(0,C.jsx)(h.Z,{}):""}],j=(0,g.M)({maxExpandedRows:1,expandedRowRender:e=>(0,C.jsx)(b,{card:e,allTags:n,onUpdateCard:t})});return(0,C.jsxs)("div",{className:"my-4",children:[(0,C.jsxs)(i.Z,{className:"mb-4",children:[(0,C.jsx)(u.ZP,{onClick:()=>{r(n.map((e=>e.value)).join(", "))},children:"Copy AllTags"}),(0,C.jsx)(u.ZP,{onClick:()=>{if(s){const{current:e=1,pageSize:n=10}=s,t=a.slice((e-1)*n,e*n),l=[];t.forEach(((e,a)=>{var n;l.push("".concat(a+1,") ").concat(e.name.en," - Current tags: ").concat((null!==(n=e.tags)&&void 0!==n?n:[]).join(", ")))})),console.log(l),r(l.join("\n"))}},children:"Copy Page Cards"})]}),(0,C.jsx)(c.Z,{columns:y,dataSource:a,rowKey:"id",expandable:j,pagination:s})]})}var D=n(6178),O=n(4747),I=n(732),T=n(1752),P=n(2675);function R(e){var a;let{sceneQuery:n,allTags:t,objects:r}=e;const l=(0,m._)(),s=Object.values(null!==(a=n.data)&&void 0!==a?a:[]),o=(0,x.P)({total:s.length,showQuickJumper:!0}),h=[{title:"Id",dataIndex:"id",key:"id",render:e=>(0,C.jsxs)("span",{children:[e,(0,C.jsx)(v.m,{content:e})]}),sorter:(e,a)=>e.id.localeCompare(a.id)},{title:"Title",dataIndex:"title",key:"title",render:(e,a)=>(0,C.jsxs)(i.Z,{direction:"vertical",style:{minWidth:150},children:[(0,C.jsx)(p.aW,{value:a.title,language:"en",readOnly:!0}),(0,C.jsx)(p.aW,{value:a.title,language:"pt",readOnly:!0})]})},{title:"Type",dataIndex:"type",key:"type",render:e=>(0,C.jsx)("span",{children:e}),sorter:(e,a)=>e.type.localeCompare(a.type)},c.Z.EXPAND_COLUMN,{title:"Options",dataIndex:"values",key:"tags",render:(e,a)=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(u.ZP,{onClick:()=>(e=>{const a=[];a.push('"'.concat(e.description.en,'"')),e.values.forEach(((e,n)=>{a.push("".concat(n,") ").concat(e.en))})),l(a.join("\n"))})(a),children:"Copy options"}),(0,C.jsx)("ul",{children:e.map(((e,t)=>{var r,l,s;return(0,C.jsxs)("li",{children:[(0,C.jsxs)(D.Z,{children:[e.en," / ",e.pt," ",(0,C.jsx)(d.Z,{children:null!==(r=null===(l=a.tags)||void 0===l||null===(s=l[t])||void 0===s?void 0:s.length)&&void 0!==r?r:0})]}),(0,C.jsx)(U,{scene:a,valueIndex:t,addEntryToUpdate:n.addEntryToUpdate})]},e.en)}))})]})}],f=(0,g.M)({maxExpandedRows:1,expandedRowRender:e=>(0,C.jsx)(A,{scene:e,objects:r})});return(0,C.jsxs)("div",{className:"my-4",children:[(0,C.jsx)(D.Z.Title,{level:2,className:"my-0",children:"Scenes"}),(0,C.jsx)(i.Z,{className:"mb-4",children:(0,C.jsx)(u.ZP,{onClick:()=>{l(t.map((e=>e.value)).join(", "))},children:"Copy AllTags"})}),(0,C.jsx)(c.Z,{columns:h,dataSource:s,rowKey:"id",expandable:f,pagination:o})]})}function U(e){var a,n,t,r;let{scene:o,valueIndex:i,addEntryToUpdate:c}=e;const[p,v]=(0,P.Z)(!1),[m,g]=(0,s.useState)([]),x=null!==(a=null===o||void 0===o||null===(n=o.tags)||void 0===n?void 0:n[i])&&void 0!==a?a:[],h=()=>{var e;const a=(0,l.cloneDeep)(o);a.tags=null!==(e=a.tags)&&void 0!==e?e:{},a.tags[i]=[...m.filter(Boolean)],console.log(a.tags),c(a.id,a),g([]),v()};return p?(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(j.Z,{gap:6,align:"center",children:[(0,C.jsx)(y.Z,{showSearch:!0,mode:"tags",placeholder:"Add new tag",options:[],style:{minWidth:"200px",maxWidth:"600px"},autoClearSearchValue:!0,allowClear:!0,defaultValue:x,onChange:g,tokenSeparators:[","],onClear:()=>g([]),defaultActiveFirstOption:!1,size:"small"}),(0,C.jsx)(u.ZP,{onClick:h,disabled:0===m.length,children:"Add"}),(0,C.jsx)(u.ZP,{onClick:v,icon:(0,C.jsx)(I.Z,{}),shape:"circle",size:"small",type:"text"})]})}):(0,C.jsxs)(C.Fragment,{children:[null===o||void 0===o||null===(t=o.tags)||void 0===t||null===(r=t[i])||void 0===r?void 0:r.map((e=>(0,C.jsx)(d.Z,{color:"green",children:e},e))),(0,C.jsx)(u.ZP,{shape:"circle",size:"small",onClick:v,icon:(0,C.jsx)(T.Z,{})})]})}function A(e){let{scene:a,objects:n}=e;const{message:t}=O.Z.useApp(),[r,o]=(0,s.useState)(null);return(0,C.jsxs)("div",{className:"full-width",children:[(0,C.jsx)(u.ZP,{onClick:()=>{const e=(0,l.sample)(n);if(!e)return void t.error("No objects to sample from");const r=M(a,e);o({entry:e,likelihood:r})},children:"Sample"}),(0,C.jsxs)("div",{className:"scene-options-sampler mt-4",children:[r&&(0,C.jsx)(N,{item:r.entry,cardWidth:70}),a.values.map(((e,a)=>{var n,t;const l=null!==(n=null===r||void 0===r?void 0:r.likelihood[a])&&void 0!==n?n:0;let s=l>50?"cyan":l>25?"orange":"red";return s=l===Math.max(...Object.values(null!==(t=null===r||void 0===r?void 0:r.likelihood)&&void 0!==t?t:{}))?"green":s,(0,C.jsxs)(i.Z,{direction:"vertical",children:[(0,C.jsxs)(D.Z.Text,{children:[e.en," / ",e.pt]}),(0,C.jsxs)(d.Z,{color:0===l?void 0:s,children:[l,"%"]})]},e.en)}))]})]})}const M=(e,a)=>{var n,t;const r={},l={};return console.log("========="),(null!==(n=a.tags)&&void 0!==n?n:[]).forEach((a=>{var n;l[a]=0,Object.keys(null!==(n=e.tags)&&void 0!==n?n:{}).forEach((n=>{var t,r;(null!==(t=null===(r=e.tags)||void 0===r?void 0:r[n])&&void 0!==t?t:[]).includes(a)&&(l[a]=l[a]+1)}))})),console.log(JSON.parse(JSON.stringify(l))),Object.keys(l).forEach((e=>{const a=Math.max(0,1-.1*l[e]);l[e]=a})),console.log(JSON.parse(JSON.stringify(l))),(null!==(t=a.tags)&&void 0!==t?t:[]).forEach((a=>{var n;Object.keys(null!==(n=e.tags)&&void 0!==n?n:{}).forEach((n=>{var t,s;var o;(null!==(t=null===(s=e.tags)||void 0===s?void 0:s[n])&&void 0!==t?t:[]).includes(a)&&(r[n]=(null!==(o=r[n])&&void 0!==o?o:0)+l[a])}))})),console.log(JSON.parse(JSON.stringify(r))),Object.keys(r).forEach((e=>{var n,t,l;r[e]=Math.floor(Math.min(100,(null!==(n=r[e])&&void 0!==n?n:0)/(null!==(t=null===(l=a.tags)||void 0===l?void 0:l.length)&&void 0!==t?t:1)*100))})),console.log(JSON.parse(JSON.stringify(r))),r};var W=n(1413),_=n(959);function Q(e){let{allTags:a,onUpdateCard:n,card:t,buttonProps:r}=e;const[s,o]=(0,P.Z)(!1),c=(e,a,t)=>{const r=(0,l.cloneDeep)(t);r.name[a]=e,n(r)};return console.log("EditCrimeCardModal",t),(0,C.jsxs)("div",{children:[(0,C.jsx)(u.ZP,(0,W.Z)((0,W.Z)({},r),{},{onClick:o,size:"small",icon:(0,C.jsx)(T.Z,{}),style:{minWidth:100},children:"Edit"})),(0,C.jsx)(_.Z,{title:"Editing ".concat(t.id," (").concat(t.name.en,")"),open:s,onOk:()=>o(!1),onCancel:o,width:1e3,children:s&&(0,C.jsxs)(i.Z,{children:[(0,C.jsxs)(i.Z,{direction:"vertical",style:{minWidth:150},children:[(0,C.jsx)(N,{item:t,cardWidth:100}),(0,C.jsx)(p.aW,{value:t.name,language:"en",onPressEnter:e=>{var a;return c((null===(a=e.target)||void 0===a?void 0:a.value)||t.name.en,"en",t)}}),(0,C.jsx)(p.aW,{value:t.name,language:"pt",onPressEnter:e=>{var a;return c((null===(a=e.target)||void 0===a?void 0:a.value)||t.name.pt,"pt",t)}})]}),(0,C.jsx)(b,{allTags:a,onUpdateCard:n,card:t})]})})]})}function J(e){let{rows:a,weapons:n,evidence:t,onUpdateCard:r,allTags:o}=e;const d=(0,s.useMemo)((()=>{const e={};return a.forEach((a=>{var n;null===(n=a.tags)||void 0===n||n.forEach((n=>{e[n]||(e[n]={id:n,tag:n,count:0,cardsIds:[]}),e[n].count++,e[n].cardsIds.push(a.id)}))})),(0,l.orderBy)(Object.values(e),["tag"],["asc"])}),[a]),u=(0,x.P)({total:d.length,showQuickJumper:!0}),p=(0,g.M)({maxExpandedRows:1,expandRowByClick:!0,expandedRowRender:e=>(0,C.jsx)(i.Z,{size:"small",wrap:!0,children:e.cardsIds.map((e=>{var a;const l=null!==(a=n[e])&&void 0!==a?a:t[e];return(0,C.jsxs)(i.Z,{direction:"vertical",align:"center",children:[(0,C.jsx)(N,{item:l,cardWidth:75}),(0,C.jsx)(Q,{allTags:o,onUpdateCard:r,card:l})]},e)}))})}),v=[{title:"Id",dataIndex:"id",key:"id",render:e=>(0,C.jsx)("span",{children:e}),sorter:(e,a)=>e.id.localeCompare(a.id)},{title:"Tag",dataIndex:"tag",key:"tag",render:e=>(0,C.jsx)("span",{children:e}),sorter:(e,a)=>e.tag.localeCompare(a.tag)},{title:"Count",dataIndex:"count",key:"count",render:e=>(0,C.jsx)("span",{children:e}),sorter:(e,a)=>e.count-a.count}];return(0,C.jsx)("div",{className:"my-4",children:(0,C.jsx)(c.Z,{columns:v,dataSource:d,rowKey:"id",expandable:p,pagination:u})})}function H(e){let{weaponsQuery:a,evidenceQuery:n,scenesQuery:t}=e;const{is:o,queryParams:i}=(0,r.K)(),c=(0,s.useMemo)((()=>[...Object.values(a.data),...Object.values(n.data)]),[a.data,n.data]),d=(0,s.useMemo)((()=>{const e={};return c.forEach((a=>{var n;null===(n=a.tags)||void 0===n||n.forEach((a=>{var n;e[a]=(null!==(n=e[a])&&void 0!==n?n:0)+1}))})),(0,l.orderBy)(Object.entries(e).map((e=>{let[a,n]=e;return{value:a,label:a,count:n}})),["value"],["asc"])}),[c]),u=e=>{if("weapon"===e.type)a.addEntryToUpdate(e.id,e);else{if("evidence"!==e.type)throw new Error("Invalid card type");n.addEntryToUpdate(e.id,e)}};return(0,C.jsxs)(C.Fragment,{children:[(o("display","cards")||!i.has("display"))&&(0,C.jsx)(z,{rows:c,allTags:d,onUpdateCard:u}),o("display","tags")&&(0,C.jsx)(J,{rows:c,weapons:a.data,evidence:n.data,onUpdateCard:u,allTags:d}),o("display","scenes")&&(0,C.jsx)(R,{sceneQuery:t,allTags:d,objects:c})]})}var V=n(7128),L=n(8357),B=n(7018),F=n(7340),K=n(7965),q=n(7460);const X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M870 126H663.8c-17.4 0-32.9 11.9-37 29.3C614.3 208.1 567 246 512 246s-102.3-37.9-114.8-90.7a37.93 37.93 0 00-37-29.3H154a44 44 0 00-44 44v252a44 44 0 0044 44h75v388a44 44 0 0044 44h478a44 44 0 0044-44V466h75a44 44 0 0044-44V170a44 44 0 00-44-44zm-28 268H723v432H301V394H182V198h153.3c28.2 71.2 97.5 120 176.7 120s148.5-48.8 176.7-120H842v196z"}}]},name:"skin",theme:"outlined"};var G=n(4790),Y=function(e,a){return s.createElement(G.Z,(0,q.Z)({},e,{ref:a,icon:X}))};const $=s.forwardRef(Y);const ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 000 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM459.7 834.7L189.3 564.3 589 164.6 836 188l23.4 247-399.7 399.7zM680 256c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm0 120c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]},name:"tag",theme:"outlined"};var ae=function(e,a){return s.createElement(G.Z,(0,q.Z)({},e,{ref:a,icon:ee}))};const ne=s.forwardRef(ae);var te=n(881);function re(e){var a;let{weaponsQuery:n,evidenceQuery:t,scenesQuery:l}=e;const{queryParams:s,addParam:o,addParams:i,is:c}=(0,r.K)();return(0,C.jsxs)(K.Pd,{children:[(0,C.jsxs)(j.Z,{vertical:!0,gap:12,children:[(0,C.jsx)("span",{children:"Weapons"}),(0,C.jsx)(F.k,{isDirty:n.isDirty,onSave:n.save,isSaving:n.isSaving,dirt:JSON.stringify(n.entriesToUpdate)}),(0,C.jsx)(B.o,{data:()=>le(n.data),fileName:"crime-weapons.json",disabled:n.isDirty,block:!0}),(0,C.jsx)("span",{children:"Evidence"}),(0,C.jsx)(F.k,{isDirty:t.isDirty,onSave:t.save,isSaving:t.isSaving,dirt:JSON.stringify(t.entriesToUpdate)}),(0,C.jsx)(B.o,{data:()=>le(t.data),fileName:"crime-evidence.json",disabled:t.isDirty,block:!0}),(0,C.jsx)("span",{children:"Scenes"}),(0,C.jsx)(F.k,{isDirty:l.isDirty,onSave:l.save,isSaving:l.isSaving,dirt:JSON.stringify(l.entriesToUpdate)}),(0,C.jsx)(B.o,{data:()=>le(l.data),fileName:"crime-scenes.json",disabled:l.isDirty,block:!0})]}),(0,C.jsx)(V.Z,{}),(0,C.jsx)(L.H,{label:"Display",value:null!==(a=s.get("display"))&&void 0!==a?a:"listing",onChange:e=>i({display:e,page:1},{page:1}),options:[{title:"Cards",icon:(0,C.jsx)($,{}),value:"cards"},{title:"Tags",icon:(0,C.jsx)(ne,{}),value:"tags"},{title:"Scenes",icon:(0,C.jsx)(te.Z,{}),value:"scenes"}]}),c("display","item")&&(0,C.jsx)(L.Do,{label:"No Groups Only",value:c("emptyOnly"),onChange:e=>o("emptyOnly",e,!1)})]})}function le(e){console.log("Preparing file for download...");const a=(0,l.cloneDeep)(e);return(0,f.Tj)(a)}var se=n(2128),oe=n(8938),ie=n(5529);const ce=function(){const e=(0,oe.i)({tdrResourceName:"crime-weapons",firebaseDataCollectionName:"crimeWeapons",serialize:!0}),a=(0,oe.i)({tdrResourceName:"crime-evidence",firebaseDataCollectionName:"crimeEvidence",serialize:!0}),n=(0,oe.i)({tdrResourceName:"crime-scenes",firebaseDataCollectionName:"crimeScenes",serialize:!0}),r=(0,ie.N)("items");return(0,C.jsx)(K.Xg,{title:"Crimes Hediondos",subtitle:"Categorizer",children:(0,C.jsxs)(t.Z,{hasSider:!0,children:[(0,C.jsx)(K.p3,{children:(0,C.jsx)(re,{weaponsQuery:e,evidenceQuery:a,scenesQuery:n})}),(0,C.jsx)(t.Z.Content,{className:"content",children:(0,C.jsx)(se.T,{isLoading:e.isLoading||a.isLoading||n.isLoading||r.isLoading,error:e.error||a.error||n.error||r.error,hasResponseData:!(0,l.isEmpty)(e.data)&&!(0,l.isEmpty)(a.data)&&!(0,l.isEmpty)(n.data)&&!(0,l.isEmpty)(r.data),children:(0,C.jsx)(H,{weaponsQuery:e,evidenceQuery:a,scenesQuery:n})})})]})})}},881:(e,a,n)=>{n.d(a,{Z:()=>i});var t=n(7460),r=n(2791);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"};var s=n(4790),o=function(e,a){return r.createElement(s.Z,(0,t.Z)({},e,{ref:a,icon:l}))};const i=r.forwardRef(o)},8955:(e,a,n)=>{n.d(a,{Z:()=>i});var t=n(7460),r=n(2791);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M834.1 469.2A347.49 347.49 0 00751.2 354l-29.1-26.7a8.09 8.09 0 00-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 01-47.5 46.1 352.6 352.6 0 00-100.3 121.5A347.75 347.75 0 00160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0075.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 00760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0027.7-136c0-48.8-10-96.2-29.9-140.9z"}}]},name:"fire",theme:"filled"};var s=n(4790),o=function(e,a){return r.createElement(s.Z,(0,t.Z)({},e,{ref:a,icon:l}))};const i=r.forwardRef(o)},5458:(e,a,n)=>{n.d(a,{Z:()=>i});var t=n(7460),r=n(2791);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560zM610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z"}}]},name:"idcard",theme:"outlined"};var s=n(4790),o=function(e,a){return r.createElement(s.Z,(0,t.Z)({},e,{ref:a,icon:l}))};const i=r.forwardRef(o)},6998:(e,a,n)=>{var t=n(2458),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,a){var n,l,s,o,i,c,d=!1;a||(a={}),n=a.debug||!1;try{if(s=t(),o=document.createRange(),i=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(t){if(t.stopPropagation(),a.format)if(t.preventDefault(),"undefined"===typeof t.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var l=r[a.format]||r.default;window.clipboardData.setData(l,e)}else t.clipboardData.clearData(),t.clipboardData.setData(a.format,e);a.onCopy&&(t.preventDefault(),a.onCopy(t.clipboardData))})),document.body.appendChild(c),o.selectNodeContents(c),i.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(a.format||"text",e),a.onCopy&&a.onCopy(window.clipboardData),d=!0}catch(u){n&&console.error("unable to copy using clipboardData: ",u),n&&console.error("falling back to prompt"),l=function(e){var a=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,a)}("message"in a?a.message:"Copy to clipboard: #{key}, Enter"),window.prompt(l,e)}}finally{i&&("function"==typeof i.removeRange?i.removeRange(o):i.removeAllRanges()),c&&document.body.removeChild(c),s()}return d}},3250:(e,a,n)=>{n.d(a,{Z:()=>o});var t=n(6998),r=n.n(t),l=n(2791);const s=function(e){void 0===e&&(e={});var a=(0,l.useState)(e),n=a[0],t=a[1];return[n,(0,l.useCallback)((function(e){t((function(a){return Object.assign({},a,e instanceof Function?e(a):e)}))}),[])]};const o=function(){var e=function(){var e=(0,l.useRef)(!1),a=(0,l.useCallback)((function(){return e.current}),[]);return(0,l.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),a}(),a=s({value:void 0,error:void 0,noUserInteraction:!0}),n=a[0],t=a[1];return[n,(0,l.useCallback)((function(a){var n,l;if(e())try{if("string"!==typeof a&&"number"!==typeof a){var s=new Error("Cannot copy typeof "+typeof a+" to clipboard, must be a string");return void t({value:a,error:s,noUserInteraction:!0})}if(""===a){s=new Error("Cannot copy empty string to clipboard.");return void t({value:a,error:s,noUserInteraction:!0})}l=a.toString(),n=r()(l),t({value:l,error:void 0,noUserInteraction:n})}catch(s){t({value:l,error:s,noUserInteraction:n})}}),[])]}}}]);
//# sourceMappingURL=CrimesHediondos.ba54b7ee.chunk.js.map