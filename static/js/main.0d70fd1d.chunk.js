(this.webpackJsonptdr=this.webpackJsonptdr||[]).push([[0],{152:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(28),s=a.n(c),l=(a(152),a(49)),o=a(19),i=a(4),j=a.p+"static/media/logo.ca29fdd8.svg",u=a(146),d=a(78),b=a(6);function O(e){var t=e.ghost,a=void 0!==t&&t,r=Object(o.e)();return Object(b.jsxs)(u.b,{children:[Object(b.jsx)(l.b,{to:"/arte-ruim/parser",children:Object(b.jsx)(d.a,{disabled:"/arte-ruim/parser"===r.pathname,type:"link",ghost:a,children:"ARPD Parser"})}),Object(b.jsx)(l.b,{to:"/arte-ruim/level4",children:Object(b.jsx)(d.a,{disabled:"/arte-ruim/level4"===r.pathname,type:"link",ghost:a,children:"ARPD Level 4"})}),Object(b.jsx)(l.b,{to:"/resource",children:Object(b.jsx)(d.a,{disabled:"/resource"===r.pathname,type:"link",ghost:a,children:"Resource"})}),Object(b.jsx)(l.b,{to:"/other",children:Object(b.jsx)(d.a,{disabled:"/other"===r.pathname,type:"link",ghost:a,children:"Other"})})]})}var h=a(235);var x=function(){var e=Object(r.useState)(0),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(i.a)(c,2),l=s[0],o=s[1];Object(r.useEffect)((function(){6===a&&o(!0)}),[a]);var u=l?{minHeight:"94vh"}:{};return Object(b.jsx)("div",{className:"home",children:Object(b.jsxs)("header",{className:"home-header",style:u,onClick:function(){n(a+1)},children:[Object(b.jsx)(h.a,{src:j,className:"home-logo",alt:"logo",preview:!1}),l&&Object(b.jsx)(O,{})]})})},v=a(1),m=a(237),p=a(232),f=a(241),g=a(234),N=a(233);function y(e){var t=e.data,a=Object(r.useMemo)((function(){return Object.values(t).reduce((function(e,t){return e["level".concat(t.level)]+=1,e.total+=1,e}),{level0:0,level1:0,level2:0,level3:0,level4:0,total:0})}),[t]),n=a.level0,c=a.level1,s=a.level2,l=a.level3,o=a.level4,i=a.total;return Object(b.jsxs)("div",{className:"",children:[Object(b.jsxs)(m.a.Title,{level:3,children:["Levels (",i,")"]}),Object(b.jsxs)("div",{children:["Level 0: ",n]}),Object(b.jsxs)("div",{children:["Level 1: ",c]}),Object(b.jsxs)("div",{children:["Level 2: ",s]}),Object(b.jsxs)("div",{children:["Level 3: ",l]}),Object(b.jsxs)("div",{children:["Level 4: ",o]})]})}var S=a(139),R=a(240),w=a(79);function L(e){var t=e.loading,a=e.error,r=e.hasResponseData,n=e.children;return t?Object(b.jsx)(S.a,{tip:"Loading",children:n}):a?Object(b.jsx)(p.a.Content,{className:"content",children:Object(b.jsx)(R.a,{message:"Error",description:a.message,type:"error"})}):!1===r?Object(b.jsx)(p.a.Content,{className:"content",children:Object(b.jsx)(w.a,{})}):Object(b.jsx)(b.Fragment,{children:n})}var T=a(243),D=a(236),C=a(238),k=a(85),A=a(96);function E(e,t){var a=Object(o.e)(),n=Object(o.f)(),c=Object(r.useState)({}),s=Object(i.a)(c,2),l=s[0],j=s[1];Object(r.useEffect)((function(){if(a.search&&t){var r,n=new URLSearchParams(a.search),c={},s=Object(A.a)(n.entries());try{for(s.s();!(r=s.n()).done;){var l=r.value;c[l[0]]=l[1]}}catch(o){s.e(o)}finally{s.f()}c.resourceName===(null===e||void 0===e?void 0:e.resourceName)&&c.language===(null===e||void 0===e?void 0:e.language)||(t(c),j(c))}}),[a.search,e,t]);return{params:l,updateQueryParams:function(e){var t=new URLSearchParams;Object.entries(e).forEach((function(e){var a=Object(i.a)(e,2),r=a[0],n=a[1];t.append(r,n)})),j(e),n("".concat(a.pathname,"?").concat(t.toString()))}}}var P=["arte-ruim","arte-ruim-extra","linhas-cruzadas","mente-coletiva","onda-telepatica","polemica-da-vez","single-word","testemunha-ocular","themes","ue-so-isso"],I=["pt","en"];function J(e){var t=e.loading,a=e.error,r=e.hasResponseData;return t?Object(b.jsx)(T.a,{color:"blue",children:"Loading..."}):a?Object(b.jsx)(T.a,{color:"red",children:"Error"}):r?Object(b.jsx)(T.a,{color:"green",children:"Loaded"}):Object(b.jsx)(T.a,{children:"No Data"})}function F(e){var t=e.title,a=e.resourceNames,r=e.updateState,n=e.initialValues,c=void 0===n?{}:n,s=e.loading,l=e.error,i=e.hasResponseData,j=e.values,u=void 0===j?{}:j,h=Object(o.f)(),x=E().updateQueryParams;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(D.a,{title:t,tags:Object(b.jsx)(J,{loading:s,error:l,hasResponseData:i}),onBack:function(){return h(-1)},extra:Object(b.jsx)(O,{})}),Object(b.jsxs)(C.a,{layout:"inline",onFinish:function(e){r(Object(v.a)({},e)),x(Object(v.a)({},e))},size:"small",initialValues:Object(v.a)(Object(v.a)({},c),u),children:[Object(b.jsx)(C.a.Item,{label:"Resource",name:"resourceName",children:Object(b.jsx)(k.a,{style:{minWidth:"150px"},value:u.resourceName,children:a.map((function(e){return Object(b.jsx)(k.a.Option,{value:e,children:e},e)}))})}),Object(b.jsx)(C.a.Item,{label:"Language",name:"language",children:Object(b.jsx)(k.a,{style:{minWidth:"50px"},children:I.map((function(e){return Object(b.jsx)(k.a.Option,{value:e,children:e},e)}))})}),Object(b.jsx)(C.a.Item,{children:Object(b.jsx)(d.a,{type:"primary",htmlType:"submit",children:"Load"})})]})]})}function B(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function z(e){var t=e.response,a=e.property,n=Object(r.useState)({}),c=Object(i.a)(n,2),s=c[0],l=c[1];return Object(b.jsxs)("div",{className:"parser-flex-column",children:[Object(b.jsx)(m.a.Title,{level:2,children:"Search Similar"}),Object(b.jsx)(f.a,{type:"text",onChange:function(e){var r=e.target.value,n=B((void 0===r?"":r).trim().toLowerCase());n&&n.length>=2?l(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r={},n=B(e.trim().toLowerCase());return!n||n.length<2?{}:(Object.values(t).forEach((function(e){B(e[a].toLowerCase()).includes(n)&&(r[e.id]=e[a])})),r)}(n,t,a)):l({})},placeholder:"Type here"}),Object(b.jsx)(f.a.TextArea,{name:"search-results",id:"",cols:10,rows:10,readOnly:!0,value:JSON.stringify(s,null,4)})]})}var U=a(47),V=a(27),G=a.n(V),M=a(242);function Q(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Object(r.useState)(null!==(t=null===n||void 0===n?void 0:n.resourceName)&&void 0!==t?t:null),s=Object(i.a)(c,2),l=s[0],o=s[1],j=Object(r.useState)(null!==(a=n.language)&&void 0!==a?a:"pt"),u=Object(i.a)(j,2),d=u[0],b=u[1],O=Object(r.useState)({}),h=Object(i.a)(O,2),x=h[0],v=h[1],m=Object(M.a)(Object(U.a)(G.a.mark((function t(){var a,r;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e&&l&&d)){t.next=15;break}return"/tdr",t.next=4,fetch("".concat("/tdr","/").concat(l,"-").concat(d,".json"));case 4:if(!(a=t.sent).body){t.next=11;break}return t.next=8,a.json();case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0={};case 12:return r=t.t0,v(r),t.abrupt("return",r);case 15:case"end":return t.stop()}}),t)}))),[l,d]),p=m.value,f=m.loading,g=m.error,N=function(e){e.language&&e.language!==d&&b(e.language),e.resourceName&&e.resourceName!==l&&o(e.resourceName)};return{resourceName:l,setResourceName:o,language:d,setLanguage:b,response:x,loading:f,error:g,hasResponseData:Boolean(p),updateResource:N}}var W=m.a.Text,H=m.a.Title;var q=function(){Object(N.a)("Arte Ruim - Parser");var e=["arte-ruim"],t={language:"pt",resourceName:e[0]},a=Object(r.useState)({}),n=Object(i.a)(a,2),c=n[0],s=n[1],l=Object(r.useState)({}),o=Object(i.a)(l,2),j=o[0],u=o[1],d="text",O=Q(e,t),h=O.resourceName,x=O.language,m=O.loading,S=O.error,R=O.updateResource,w=O.hasResponseData,T=O.response;return Object(r.useEffect)((function(){T&&(u(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",a={},r={};return Object.values(e).forEach((function(e){e[t]||console.error("Property ".concat(t," does not exist in ").concat(e));var n=B(e[t].toLowerCase());a[n]?(void 0===r[n]&&(r[n]=[a[n].id]),r[n].push(e.id)):a[n]=e})),r}(T,d)),s(T))}),[T]),Object(b.jsxs)(p.a,{children:[Object(b.jsx)(F,{title:"Arte Ruim Parser",resourceNames:["arte-ruim"],initialValues:t,updateState:R,hasResponseData:w,loading:m,error:S}),Object(b.jsx)(p.a.Content,{className:"content",children:Object(b.jsx)(L,{loading:m,error:S,hasResponseData:w,children:Object(b.jsxs)("div",{className:"parser-container",children:[Object(b.jsxs)("div",{className:"parser-main",children:[Object(b.jsx)(H,{level:2,children:"Adding Data"}),Object(b.jsx)(W,{children:"Input"}),Object(b.jsx)(f.a.TextArea,{name:"input",id:"",cols:15,rows:5,onChange:function(e){var t=e.target.value.split("\n"),a=Object.values(null!==T&&void 0!==T?T:{}),r=Number(a[a.length-1].id.split("-")[1])||1,n=t.reduce((function(e,t,a){if(t){var n="".concat(h[0],"-").concat(r+a+1,"-").concat(x);e[n]={id:n,text:t,level:0}}return e}),Object(v.a)({},T));s(n)}}),Object(b.jsx)(W,{children:"Output"}),Object(b.jsx)(f.a.TextArea,{name:"output",id:"",cols:15,rows:15,readOnly:!0,value:JSON.stringify(c,null,4)}),Object(b.jsx)(W,{children:"Duplicates"}),Object(b.jsx)(f.a.TextArea,{name:"duplicates",id:"",cols:15,rows:3,readOnly:!0,value:JSON.stringify(j)})]}),Object(b.jsxs)("aside",{className:"parser-controls",children:[Object(b.jsx)(y,{data:T}),Object(b.jsx)(g.a,{}),Object(b.jsx)(z,{response:T,property:d})]})]})})})]})},K=a(239),X=m.a.Text,Y=m.a.Title;var Z=function(){Object(N.a)("Arte Ruim - Level 4");var e=["arte-ruim"],t={language:"pt",resourceName:e[0]},a=Object(r.useState)({}),n=Object(i.a)(a,2),c=n[0],s=n[1],l=Object(r.useState)({}),o=Object(i.a)(l,2),j=o[0],u=o[1],d=Object(r.useState)({}),O=Object(i.a)(d,2),h=O[0],x=O[1],v=Object(r.useState)([]),m=Object(i.a)(v,2),g=m[0],y=m[1],S=Q(e,t),R=S.resourceName,w=S.language,T=S.loading,D=S.error,C=S.updateResource,k=S.hasResponseData,A=S.response,E=Object(M.a)(Object(U.a)(G.a.mark((function e(){var t,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:3000/tdr/resources","/").concat(R,"-group-").concat(w,".json"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),[w]),P=E.value,I=E.loading,J=E.error;return Object(r.useEffect)((function(){if(!T&&!I&&A&&P){var e=function(e,t){var a=Object.values(t).map((function(e){return e.theme})).sort(),r={},n={},c={};return Object.values(t).forEach((function(t){Object.keys(t.cards).forEach((function(t){r[t]?c[t]=e[t].text:r[t]=e[t].text}))})),Object.values(e).forEach((function(e){void 0===r[e.id]&&(n[e.id]=e.text)})),{themes:a,used:r,unused:n,duplicated:c}}(A,P);y(e.themes),s(e.used),u(e.unused),x(e.duplicated)}}),[A,P,T,I]),Object(b.jsxs)(p.a,{children:[Object(b.jsx)(F,{title:"Arte Ruim Level 4",resourceNames:["arte-ruim"],initialValues:t,updateState:C,hasResponseData:k&&Boolean(P),loading:T||I,error:D||J}),Object(b.jsx)(p.a.Content,{className:"content",children:Object(b.jsx)(L,{loading:T||I,error:D||J,hasResponseData:k&&Boolean(P),children:Object(b.jsxs)("div",{className:"parser-container",children:[Object(b.jsxs)("div",{className:"parser-main",children:[Object(b.jsxs)(Y,{level:2,children:["Used in Groups (",Object.keys(c).length,")"]}),Object(b.jsx)(f.a.TextArea,{name:"output",id:"",cols:15,rows:10,readOnly:!0,value:JSON.stringify(c,null,4)}),Object(b.jsxs)(Y,{level:2,children:["Unused in Groups (",Object.keys(j).length,")"]}),Object(b.jsx)(f.a.TextArea,{name:"output",id:"",cols:15,rows:10,readOnly:!0,value:JSON.stringify(j,null,4)}),Object(b.jsxs)(Y,{level:2,children:["In More than One Group (",Object.keys(h).length,")"]}),Object(b.jsx)(f.a.TextArea,{name:"duplicates",id:"",cols:15,rows:5,readOnly:!0,value:JSON.stringify(h,null,4)})]}),Object(b.jsx)("aside",{className:"parser-controls",children:Object(b.jsx)(K.b,{header:Object(b.jsx)(Y,{level:2,children:"Themes"}),bordered:!0,dataSource:g,size:"small",renderItem:function(e){return Object(b.jsxs)(K.b.Item,{children:[Object(b.jsx)(X,{mark:!0})," ",e]})}})})]})})})]})};a(2),m.a.Text,m.a.Title;var $=function(){Object(N.a)("Arte Ruim - Other");var e={},t={},a=function(){var a=[];return Object.values(_).forEach((function(r){var n=B(r.text).toLowerCase();n.includes(" ")&&console.warn("SPACE IN",n),e[n]?t[n]=!0:(e[n]=!0,a.push(r.text.toLowerCase()))})),a.sort((function(e,t){return e.localeCompare(t)})).reduce((function(e,t,a){var r="sw-".concat(a+1,"-pt");return e[r]={id:r,text:t},e}),{})}();return console.log(t),Object(b.jsxs)(p.a,{children:[Object(b.jsx)(D.a,{title:"Other",onBack:function(){}}),Object(b.jsx)(g.a,{}),Object(b.jsx)(p.a.Content,{className:"content",children:Object(b.jsx)("div",{className:"a",children:Object(b.jsx)(f.a.TextArea,{name:"search-results",id:"",cols:"10",rows:"10",readOnly:!0,value:JSON.stringify(a,null,4)})})})]})};var _={},ee=m.a.Text,te=m.a.Title;var ae=function(){Object(N.a)("Resource");var e=Object(r.useState)({}),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Q(P,{}),s=c.resourceName,l=c.language,o=c.loading,j=c.error,u=c.updateResource,d=c.hasResponseData,O=c.response,h=E({resourceName:s,language:l},u).params;return Object(r.useEffect)((function(){O&&n(O)}),[O]),Object(b.jsxs)(p.a,{children:[Object(b.jsx)(F,{title:"Data for ".concat(s,"-").concat(l),resourceNames:P,values:h,updateState:u,hasResponseData:d,loading:o,error:j}),Object(b.jsx)(p.a.Content,{className:"content",children:Object(b.jsx)(L,{loading:o,error:j,hasResponseData:d,children:Object(b.jsxs)("div",{className:"parser-container",children:[Object(b.jsxs)("div",{className:"parser-main",children:[Object(b.jsx)(te,{level:2,children:"Data"}),Object(b.jsx)(ee,{children:"Output"}),Object(b.jsx)(f.a.TextArea,{name:"output",id:"",cols:15,rows:15,readOnly:!0,value:JSON.stringify(a,null,4)})]}),Object(b.jsx)("aside",{className:"parser-controls",children:Object(b.jsx)(z,{response:O,property:"text"})})]})})})]})};var re=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(l.a,{children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",element:Object(b.jsx)(x,{})}),Object(b.jsx)(o.a,{path:"/arte-ruim/parser",element:Object(b.jsx)(q,{})}),Object(b.jsx)(o.a,{path:"/arte-ruim/level4",element:Object(b.jsx)(Z,{})}),Object(b.jsx)(o.a,{path:"/resource",element:Object(b.jsx)(ae,{})}),Object(b.jsx)(o.a,{path:"/other",element:Object(b.jsx)($,{})})]})})})},ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,244)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(re,{})}),document.getElementById("root")),ne()}},[[230,1,2]]]);
//# sourceMappingURL=main.0d70fd1d.chunk.js.map