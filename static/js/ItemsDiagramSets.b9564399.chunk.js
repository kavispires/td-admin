"use strict";(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[9479],{7340:(e,t,n)=>{n.d(t,{k:()=>c});var i=n(2556),s=n(2426),a=n.n(s),l=n(2791),r=n(8211),d=n(4483),o=n(184);function c(e){let{isDirty:t,onSave:n,isSaving:s,dirt:c,interval:u=6e5,...h}=e;const[,m,g]=(0,r.Z)((()=>{t&&n()}),u);return(0,l.useEffect)((()=>{t?(console.log("Save Reset",a()(Date.now()).format("MM/DD/YYYY HH:mm:ss")),g()):m()}),[t,g,m,c]),(0,l.useEffect)((()=>{const e=e=>{if(t){const t="You have unsaved changes, are you sure you want to leave?";return e.returnValue=t,t}};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[t]),(0,o.jsx)(i.ZP,{type:"primary",size:"large",icon:(0,o.jsx)(d.Z,{}),onClick:n,disabled:!t,loading:s,danger:!0,block:!0,...h,children:"Save"})}},6728:(e,t,n)=>{n.d(t,{TI:()=>r,ao:()=>l,hD:()=>a});n(763);var i=n(2426),s=n.n(i);function a(){return s()().subtract(1,"days").format("YYYY-MM-DD")}function l(e){return s()(e,"YYYY-MM-DD").add(1,"days").format("YYYY-MM-DD")}function r(e){return 6===s()(e,"YYYY-MM-DD").day()}},8027:(e,t,n)=>{n.d(t,{A:()=>r,X:()=>d});var i=n(2481),s=n(2748),a=n(2010),l=n(5850);function r(e,t){return async()=>{var n;console.log("%cQuerying ".concat(e,"/").concat(t," from firebase: ").concat((0,l.xE)()),"color: #f0f");const a=(0,i.JU)(s.RZ,"".concat(e,"/").concat(t));return null!==(n=(await(0,i.QT)(a)).data())&&void 0!==n?n:{}}}function d(e,t,n){return(0,a.a)({queryKey:["firebase",e,t],queryFn:r(e,t),...n})}},4766:(e,t,n)=>{n.d(t,{K:()=>a});var i=n(2791),s=n(1087);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,n]=(0,s.lr)(),a=(e,i,s)=>{void 0===i||""===i||i===s?t.delete(e):t.set(e,String(i)),n(t)},l=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.entries(e).forEach((e=>{let[n,s]=e;i[n]===s?t.delete(n):t.set(n,String(s))})),n(t)},r=e=>{t.delete(e),n(t)},d=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return t.get(e)===String(n)};return(0,i.useEffect)((()=>{Object.entries(e).forEach((e=>{let[n,i]=e;t.has(n)||a(n,i)}))}),[]),{addParam:a,addParams:l,removeParam:r,queryParams:t,is:d}}},8938:(e,t,n)=>{n.d(t,{i:()=>u});var i=n(4747),s=n(763),a=n(2791),l=n(3713),r=n(8027),d=n(5529),o=n(2233),c=n(5850);function u(e){let{tdrResourceName:t,firebaseDataCollectionName:n,serialize:u}=e;const{notification:h}=i.Z.useApp(),m=(0,l.NL)(),g=(0,d.N)(t),p=(0,r.X)("tdr",n,{select:u?c.d_:void 0}),[v,j]=(0,a.useState)({}),x=(0,o.B)("tdr",n,{onSuccess:()=>{h.success({message:"".concat(n," updated")}),m.refetchQueries({queryKey:["firebase","tdr",n]}),j({})},onError:e=>{h.error({message:"".concat(n," update failed"),description:e.message})}}),f=(0,a.useMemo)((()=>{var e,i;return g.isLoading||p.isLoading||x.isPending?{}:(console.log("%cMerging ".concat(t,"+").concat(n," data..."),"color: #f0f"),(0,s.cloneDeep)({...null!==(e=g.data)&&void 0!==e?e:{},...null!==(i=p.data)&&void 0!==i?i:{},...v}))}),[t,n,g.data,p.data,g.isLoading,p.isLoading,x.isPending,v]),y=!(0,s.isEmpty)(v),b=p.data;return{data:f,isLoading:g.isLoading||p.isLoading,error:g.error||p.error,firebaseData:b,isSaving:x.isPending,save:()=>{x.mutate(u?(0,c.aS)(v):v)},addEntryToUpdate:(e,t)=>{j((n=>({...n,[e]:t})))},entriesToUpdate:v,isDirty:y}}},5529:(e,t,n)=>{n.d(t,{N:()=>l,Y:()=>r});var i=n(763),s=n(2010),a=n(2606);function l(e){var t;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{getUrl:l}=(0,a.n)("resources"),r=(0,s.a)({queryKey:[e],queryFn:async()=>{const t=await fetch(l("".concat(e,".json")));return await t.json()},enabled:n}),d=!(0,i.isEmpty)(r.data);return{...r,data:null!==(t=r.data)&&void 0!==t?t:{},hasResponseData:d}}function r(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{getUrl:n}=(0,a.n)("resources"),l=(0,s.a)({queryKey:[e],queryFn:async()=>{const t=await fetch(n("".concat(e,".json")));return await t.json()},enabled:t}),r=!(0,i.isEmpty)(l.data);return{...l,data:l.data,hasResponseData:r}}},2233:(e,t,n)=>{n.d(t,{B:()=>r});var i=n(2481),s=n(2748),a=n(8556);function l(e,t,n){console.log("%cUpdating ".concat(e,"/").concat(t," from firebase"),"color: #f00");const a=(0,i.JU)(s.RZ,"".concat(e,"/").concat(t));return(0,i.r7)(a,n)}function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.D)({mutationFn:async n=>l(e,t,n),...n})}},3631:(e,t,n)=>{n.r(t),n.d(t,{ItemsDiagramSets:()=>ne,default:()=>ie});var i=n(3990),s=n(4520),a=n(2128),l=n(3660),r=n(9197),d=n(7128),o=n(6173),c=n(7018),u=n(7340),h=n(1958),m=n(4766),g=n(5850),p=n(184);function v(e){var t;let{data:n,save:i,isDirty:a,isSaving:v,entriesToUpdate:j}=e;const{addParams:x,queryParams:f}=(0,m.K)();return(0,p.jsxs)(h.Pd,{children:[(0,p.jsxs)(s.Z,{vertical:!0,gap:12,children:[(0,p.jsx)(u.k,{isDirty:a,onSave:i,isSaving:v,dirt:JSON.stringify(j)}),(0,p.jsx)(c.o,{data:()=>{return e=n,(0,g.Tj)(e);var e},fileName:"daily-diagram-items.json",disabled:a,block:!0})]}),(0,p.jsx)(d.Z,{}),(0,p.jsx)(o.H,{label:"Display",value:null!==(t=f.get("display"))&&void 0!==t?t:"rule",onChange:e=>x({display:e,page:1},{page:1}),options:[{title:"By Rule",icon:(0,p.jsx)(l.Z,{}),value:"rule"},{title:"By Thing",icon:(0,p.jsx)(r.Z,{}),value:"thing"}]})]})}var j=n(4031),x=n(2791),f=n(5529),y=n(1046),b=n(2556),Z=n(7415),T=n(4747),w=n(5225),E=n(959),k=n(1105),I=n(7305),D=n(5922),S=n(4424),O=n(763);const N="abcdefghijklmnopqrstuvwxyz",C="bcdfghjklmnpqrstvwxyz",M="aeiou",P=/[\xe1\xe9\xed\xf3\xfa\xe3\u1ebd\u0129\xf5\u0169\xe2\xea\xee\xf4\xfb\xe0\xe8\xec\xf2\xf9\xe4\xeb\xef\xf6\xfc]/,z=(0,O.memoize)((e=>(0,g.bU)(e).toLowerCase())),R=e=>z(e).length,L=e=>z(e).split("").filter((e=>M.includes(e))).length,Y=e=>z(e).split("").filter((e=>C.includes(e))).length,F={"ddr-7-pt":e=>N.indexOf(z(e)[0])<N.indexOf(z(e)[1]),"ddr-8-pt":e=>R(e)<=5,"ddr-9-pt":e=>5===R(e),"ddr-10-pt":e=>R(e)>=4&&R(e)<=6,"ddr-11-pt":e=>R(e)>=6&&R(e)<=8,"ddr-12-pt":e=>R(e)>7,"ddr-13-pt":e=>e.split(" ").length>1,"ddr-14-pt":e=>{const t=z(e).split("").filter((e=>M.includes(e)));return new Set(t).size>=2},"ddr-15-pt":e=>new Set(z(e).split("")).size<=4,"ddr-16-pt":e=>Y(e)>L(e),"ddr-17-pt":e=>L(e)>Y(e),"ddr-18-pt":e=>{const t=z(e)[0];return z(e).slice(1).includes(t)},"ddr-19-pt":e=>z(e).split("").some(((t,n)=>z(e).slice(n+1).includes(t))),"ddr-20-pt":e=>z(e).split("").some(((t,n)=>M.includes(t)&&z(e).slice(n+1).includes(t))),"ddr-21-pt":e=>z(e).split("").some(((t,n)=>C.includes(t)&&z(e).slice(n+1).includes(t))),"ddr-22-pt":e=>z(e).split("").some(((t,n)=>M.includes(t)&&M.includes(e[n+1]))),"ddr-23-pt":e=>"abcdefghijklm".includes(z(e)[0]),"ddr-24-pt":e=>"nopqrstuvwxyz".includes(z(e)[0]),"ddr-25-pt":e=>M.includes(z(e)[0]),"ddr-26-pt":e=>C.includes(z(e)[0]),"ddr-27-pt":e=>e.split("").some(((t,n)=>t===e[n+1])),"ddr-28-pt":e=>z(e).includes("a"),"ddr-29-pt":e=>z(e).includes("r"),"ddr-30-pt":e=>z(e).includes("u"),"ddr-31-pt":e=>z(e).includes("q")||z(e).includes("j"),"ddr-32-pt":e=>z(e).includes("c")||z(e).includes("\xe7"),"ddr-33-pt":e=>z(e).includes("m"),"ddr-34-pt":e=>z(e).includes("h"),"ddr-35-pt":e=>z(e).includes("p")||z(e).includes("b"),"ddr-36-pt":e=>z(e).includes("k")||z(e).includes("w")||z(e).includes("y"),"ddr-37-pt":e=>(e=>e.toLowerCase().split("").filter((e=>P.test(e))).length)(e)>0,"ddr-38-pt":e=>!["a","o"].includes(z(e).slice(-1)),"ddr-39-pt":e=>C.includes(z(e).slice(-1)),"ddr-40-pt":e=>"s"===z(e).slice(-1),"ddr-41-pt":e=>{const t=z(e).split("").filter((e=>M.includes(e)));return new Set(t).size===t.length},"ddr-42-pt":e=>{const t=z(e).split("").filter((e=>C.includes(e)));return new Set(t).size===t.length}};var U=n(2997);function q(e){let{addEntryToUpdate:t,availableThings:n,rules:i,width:s}=e;const{notification:a}=T.Z.useApp(),[l,r]=(0,x.useState)(null),d=()=>{var e;r(null!==(e=(0,O.sample)(n))&&void 0!==e?e:null)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(b.ZP,{size:"large",onClick:d,children:"Classify New Item"}),!!l&&(0,p.jsx)(A,{isModalOpen:null!==l,onAddItem:async e=>{if(!l)return;e.name&&e.itemId||a.error({message:"Name and Item ID are required"});const{itemId:n,name:i,updatedAt:s,...o}=e,c={itemId:n,name:i,updatedAt:s,rules:Object.keys(o).filter((e=>!0===o[e]))};t(n,c),console.log("COMPLETED SAVE"),r(null),await(0,g.Dc)(500),d()},handleCancel:()=>r(null),item:l,rules:i,width:.9*s})]})}function A(e){var t;let{isModalOpen:n,onAddItem:i,handleCancel:a,item:l,rules:r,width:d}=e;const o=(0,x.useMemo)((()=>{const e=(e=>{return 1===e.name.pt.split(" ").length?e.name.pt:e.aliasesPt&&null!==(t=e.aliasesPt.find((e=>1===e.split(" ").length)))&&void 0!==t?t:e.name.pt;var t})(l);return{itemId:l.id,name:e,updatedAt:Date.now(),...Object.keys(r).reduce(((t,n)=>(F[n]?t[n]=F[n](e):t[n]=void 0,t)),{})}}),[l,r]),[c]=w.Z.useForm(),u=w.Z.useWatch([],c),h=!u||Object.values(null!==u&&void 0!==u?u:{}).some((e=>void 0===e)),m=w.Z.useWatch("name",c);(0,x.useEffect)((()=>{console.log("Name changed",m),m&&Object.keys(r).forEach((e=>{F[e]?c.setFieldsValue({[e]:F[e](m)}):c.setFieldsValue({[e]:void 0})}))}),[m]);const g=c.getFieldValue("ddr-1-pt");(0,x.useEffect)((()=>{!0===g&&c.setFieldsValue({"ddr-2-pt":!1})}),[g]);const v=c.getFieldValue("ddr-2-pt");(0,x.useEffect)((()=>{!0===v&&c.setFieldsValue({"ddr-1-pt":!1})}),[v]);const j=c.getFieldValue("ddr-3-pt");(0,x.useEffect)((()=>{!0===j&&c.setFieldsValue({"ddr-4-pt":!1})}),[j]);const f=c.getFieldValue("ddr-4-pt");(0,x.useEffect)((()=>{!0===f&&c.setFieldsValue({"ddr-3-pt":!1})}),[f]),(0,x.useEffect)((()=>{(null===m||void 0===m?void 0:m.includes("-"))&&c.setFieldsValue({"ddr-5-pt":!0})}),[m]);return(0,p.jsx)(E.Z,{width:d,title:"Evaluate Random item",open:n,onOk:c.submit,onCancel:a,maskClosable:!1,okButtonProps:{disabled:h,htmlType:"submit",size:"large"},okText:"Add Item",children:(0,p.jsxs)(w.Z,{form:c,name:"new-item-".concat(l.id),onFinish:e=>{console.log("Received values:",e),i(e)},autoComplete:"off",initialValues:o,layout:"vertical",size:"small",labelWrap:!0,children:[(0,p.jsxs)("div",{className:"diagram-container",children:[(0,p.jsx)("div",{children:(0,p.jsx)(U.ck,{id:l.id,width:50})}),(0,p.jsx)(w.Z.Item,{name:"name",label:"Name",children:(0,p.jsx)(k.Z,{})}),(0,p.jsx)(w.Z.Item,{name:"itemId",label:"Item",children:(0,p.jsx)(k.Z,{readOnly:!0})}),(0,p.jsx)(w.Z.Item,{name:"updatedAt",label:"Updated At",children:(0,p.jsx)(k.Z,{readOnly:!0})}),(0,p.jsxs)("div",{children:["Options: ",l.name.pt," ",null===(t=l.aliasesPt)||void 0===t?void 0:t.join(", ")]}),(0,p.jsx)("div",{children:(0,p.jsx)(I.Z,{offsetTop:50,children:(0,p.jsx)(s.Z,{justify:"center",align:"center",children:(0,p.jsx)(b.ZP,{type:"primary",htmlType:"submit",size:"large",disabled:h,children:"Add Item"})})})})]}),(0,p.jsx)("div",{className:"diagram-container",children:Object.values(r).map((e=>e.auto&&F[e.id]?(0,p.jsx)(w.Z.Item,{name:e.id,label:e.title,valuePropName:"checked",children:(0,p.jsx)(D.Z,{checkedChildren:"\u2705",unCheckedChildren:"\u274c",disabled:!0})},e.id):(0,p.jsx)(w.Z.Item,{name:e.id,label:e.title,children:(0,p.jsxs)(S.ZP.Group,{optionType:"button",buttonStyle:"solid",children:[(0,p.jsx)(S.ZP,{value:!0,children:"\u2705"}),(0,p.jsx)(S.ZP,{value:!1,children:"\u274c"})]})},e.id)))})]})})}var V=n(6728);function B(e,t,n,i){const s=(0,O.shuffle)(Object.keys(e).filter((e=>!i.includes(e)))),a=(0,O.sample)(s);if(!a)throw new Error("No available things to choose from");i.push(a);const l=(0,O.capitalize)(e[a].name),r={id:a,name:e[a].name},d=(0,O.sampleSize)(e[a].rules,2),o="".concat(d[0],"-").concat(d[1]);if(2!==d.length)throw new Error("No rules found for this thing");i.push(o);const c=n[d[0]].level+n[d[1]].level-1,u=(0,O.difference)(t[d[0]],t[d[1]]),h=(0,O.difference)(t[d[1]],t[d[0]]),m=(0,O.intersection)(t[d[0]],t[d[1]]),g=u.pop();if(!g)throw new Error("No only in rule 1 things to choose from");const p={id:d[0],text:n[d[0]].title,level:n[d[0]].level,thing:{id:g,name:e[g].name}},v=h.pop();if(!v)throw new Error("No only in rule 2 things to choose from");const j={id:d[1],text:n[d[1]].title,level:n[d[1]].level,thing:{id:v,name:e[v].name}},x=(0,O.sampleSize)(m,4),f=(0,O.sampleSize)(u,8),y=(0,O.sampleSize)(h,8),b={};x.forEach((e=>b[e]=0)),f.forEach((e=>b[e]=1)),y.forEach((e=>b[e]=2));const Z={title:l,level:c,rule1:p,rule2:j,intersectingThing:r,things:(0,O.sampleSize)([...x,...f,...y],8).map((t=>({id:t,name:e[t].name,rule:b[t]})))};return console.log(Z),Z}var _=n(913),K=n(4691);function Q(e){let{itemId:t,name:n,width:i=50}=e;return(0,p.jsxs)(s.Z,{vertical:!0,align:"center",children:[(0,p.jsx)(U.ck,{id:t,width:i}),(0,p.jsx)(j.Z.Text,{code:!0,children:n},t)]})}function W(e){let{game:t}=e;return(0,p.jsxs)(y.Z,{direction:"vertical",align:"center",children:[(0,p.jsx)(j.Z.Title,{level:4,children:"Game Sample"}),(0,p.jsxs)(j.Z.Title,{level:5,children:['"',t.title,'"']}),(0,p.jsx)(_.Z,{value:t.level,count:t.level,disabled:!0}),(0,p.jsx)(j.Z.Paragraph,{style:{maxWidth:"500px"},children:"O c\xedrculo amarelo tem uma regra gramatical secreta e o circulo vermelho tem outra regra gramatical secreta. O quadrado do meio representa a interse\xe7\xe3o entre a regra amarela e a regra vermelha."}),(0,p.jsxs)(y.Z,{children:[(0,p.jsx)("div",{className:"diagram-simulator__rule-1",children:(0,p.jsx)(Q,{itemId:t.rule1.thing.id,name:t.rule1.thing.name})}),(0,p.jsx)("div",{className:"diagram-simulator__rule-intersection",children:(0,p.jsx)(Q,{itemId:t.intersectingThing.id,name:t.intersectingThing.name})}),(0,p.jsx)("div",{className:"diagram-simulator__rule-2",children:(0,p.jsx)(Q,{itemId:t.rule2.thing.id,name:t.rule2.thing.name})})]}),(0,p.jsx)(j.Z.Text,{children:"Coloque os objetos nos c\xedrculos corretos:"}),(0,p.jsx)(y.Z,{className:"space--center",children:t.things.map((e=>(0,p.jsx)(Q,{itemId:e.id,name:e.name},e.id)))}),(0,p.jsx)(K.Z,{items:[{key:"1",label:"Resposta",children:(0,p.jsxs)(y.Z,{direction:"vertical",children:[(0,p.jsx)(j.Z.Text,{strong:!0,children:"Regra Amarela"}),(0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:(0,p.jsx)(j.Z.Text,{children:t.rule1.text})})}),(0,p.jsx)(j.Z.Text,{strong:!0,children:"Regra Vermelha"}),(0,p.jsx)("ul",{children:(0,p.jsx)("li",{children:(0,p.jsx)(j.Z.Text,{children:t.rule2.text})})})]})}]}),(0,p.jsx)("div",{style:{height:"200px"}})]})}function H(e){let{data:t,addEntryToUpdate:n,availableThings:i,rules:s,thingsByRules:a}=e;const[l,{width:r}]=(0,Z.Z)(),[o,c]=(0,x.useState)(null);return(0,p.jsxs)(y.Z,{direction:"vertical",ref:l,children:[(0,p.jsxs)(j.Z.Title,{level:5,children:["Rules By Items (Added: ",Object.keys(t).length," | ",i.length,")"]}),(0,p.jsx)(q,{addEntryToUpdate:n,availableThings:i,rules:s,width:r}),(0,p.jsx)(d.Z,{}),(0,p.jsx)(b.ZP,{size:"large",onClick:()=>{c(Object.values(((e,t,n,i)=>{console.count("Creating Teoria de Conjuntos...");let s=t.latestDate;const a=[...t.used],l=(()=>{const e=Object.values(n).reduce(((e,t)=>(e[t.id]=[],e)),{});return Object.values(i).forEach((t=>{t.rules.forEach((n=>{e[n].push(t.itemId)}))})),e})(),r={};for(let d=0;d<e;d++){const e=(0,V.ao)(s);s=e,r[e]={id:e,type:"teoria-de-conjuntos",number:t.latestNumber+d+1,...B(i,l,n,a)}}return console.log(r),r})(1,{latestDate:"2023/01/01",latestNumber:0,used:[]},s,t))[0])},children:"Simulate"}),o&&(0,p.jsx)(W,{game:o})]})}var J=n(952),X=n(122);function G(e){let{data:t,addEntryToUpdate:n,availableThings:i,rules:s,thingsByRules:a}=e;const[l,{width:r}]=(0,Z.Z)(),o=(0,x.useMemo)((()=>{const e=Object.values(a).map((e=>e.length));return{maxThings:Math.max(...e),minThings:Math.min(...e),averageThings:Math.round(Object.values(a).reduce(((e,t)=>e+t.length),0)/Object.keys(a).length)}}),[a]),c=[{title:"Id",dataIndex:"id",key:"id",sorter:(e,t)=>Number(e.id.split("-")[1])-Number(t.id.split("-")[1]),render:e=>(0,p.jsx)(j.Z.Text,{children:e})},{title:"Rule",dataIndex:"title",key:"title",sorter:(e,t)=>e.title.localeCompare(t.title),render:e=>(0,p.jsx)(j.Z.Text,{children:e})},{title:"Things",dataIndex:"id",key:"id",render:e=>(0,p.jsxs)(y.Z,{size:"small",children:[(0,p.jsx)(J.Z,{children:a[e].length}),(0,p.jsx)(y.Z,{size:"small",wrap:!0,children:a[e].map((e=>(0,p.jsx)(Q,{itemId:e,name:t[e].name},e)))})]})},{title:"Level",dataIndex:"level",key:"level",sorter:(e,t)=>e.level-t.level,render:e=>(0,p.jsx)(_.Z,{value:e,count:3,disabled:!0})}];return(0,p.jsxs)(y.Z,{direction:"vertical",ref:l,children:[(0,p.jsxs)(j.Z.Title,{level:4,children:["Things By Rule (Added: ",Object.keys(t).length," | ",i.length,")"]}),(0,p.jsxs)(y.Z,{split:(0,p.jsx)(d.Z,{type:"vertical"}),children:[(0,p.jsx)(q,{addEntryToUpdate:n,availableThings:i,rules:s,width:r}),(0,p.jsxs)(j.Z.Text,{strong:!0,children:["Average Things: ",(0,p.jsx)(J.Z,{children:o.averageThings})]}),(0,p.jsxs)(j.Z.Text,{strong:!0,children:["Max Things: ",(0,p.jsx)(J.Z,{children:o.maxThings})]}),(0,p.jsxs)(j.Z.Text,{strong:!0,children:["Min Things: ",(0,p.jsx)(J.Z,{children:o.minThings})]})]}),(0,p.jsx)(X.Z,{dataSource:Object.values(s),columns:c})]})}function $(e){let{data:t,addEntryToUpdate:n}=e;const i=(0,f.N)("items"),s=(0,f.N)("daily-diagram-rules"),l=(0,x.useMemo)((()=>{var e;return Object.values(null!==(e=i.data)&&void 0!==e?e:{}).filter((e=>{var n,i,s;if(t&&void 0!==t[e.id])return!1;if(null!==(n=e.decks)&&void 0!==n&&n.includes("thing"))return!0;const a=1===e.name.pt.split(" ").length;return!(null===(i=e.decks)||void 0===i||!i.includes("alien")||!a)||!(null===(s=e.decks)||void 0===s||!s.includes("manufactured")||!a)}))}),[t,i.data]),r=(0,x.useMemo)((()=>{var e;return null!==(e=s.data)&&void 0!==e?e:{}}),[s.data]),d=(0,x.useMemo)((()=>{const e=Object.values(r).reduce(((e,t)=>(e[t.id]=[],e)),{});return Object.values(t).forEach((t=>{t.rules.forEach((n=>{e[n].push(t.itemId)}))})),e}),[t,r]),{is:o,queryParams:c}=(0,m.K)();return i.isLoading||s.isLoading?(0,p.jsx)(j.Z.Text,{children:"Loading..."}):(0,p.jsxs)(a.T,{isLoading:i.isLoading||s.isLoading,hasResponseData:i.hasResponseData||s.hasResponseData,children:[(o("display","rule")||!c.has("display"))&&(0,p.jsx)(G,{data:t,addEntryToUpdate:n,availableThings:l,rules:r,thingsByRules:d}),o("display","thing")&&(0,p.jsx)(H,{data:t,addEntryToUpdate:n,availableThings:l,rules:r,thingsByRules:d})]})}var ee=n(4562),te=n(8938);function ne(){const e=(0,te.i)({tdrResourceName:"daily-diagram-items",firebaseDataCollectionName:"diagramItems",serialize:!0});return(0,p.jsx)(h.Xg,{title:"Items",subtitle:"Quartet Sets",children:(0,p.jsxs)(i.Z,{hasSider:!0,children:[(0,p.jsx)(ee.p,{children:(0,p.jsx)(v,{...e})}),(0,p.jsx)(i.Z.Content,{className:"content",children:(0,p.jsx)(a.T,{isLoading:e.isLoading,error:e.error,hasResponseData:!0,children:(0,p.jsx)(s.Z,{vertical:!0,gap:24,children:(0,p.jsx)($,{...e})})})})]})})}const ie=ne}}]);
//# sourceMappingURL=ItemsDiagramSets.b9564399.chunk.js.map