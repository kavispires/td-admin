/*! For license information please see Suspects.799a1752.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunktdr=self.webpackChunktdr||[]).push([[399],{2999:(e,t,n)=>{n.d(t,{R:()=>i,T:()=>c});var a=n(952),s=n(5225),l=n(1958),r=n(184);function i(e){let{isLoading:t,isIdle:n,error:s,isDirty:l,isError:i,hasResponseData:c}=e;return n?(0,r.jsx)(a.Z,{children:"No Data yet"}):t?(0,r.jsx)(a.Z,{color:"blue",children:"Loading..."}):s||i?(0,r.jsx)(a.Z,{color:"red",children:"Error"}):l?(0,r.jsx)(a.Z,{color:"orange",children:"Modified"}):c?(0,r.jsx)(a.Z,{color:"green",children:"Loaded"}):(0,r.jsx)(a.Z,{children:"No Data"})}function c(e){return(0,r.jsx)(l.Pd,{children:(0,r.jsx)(s.Z.Item,{label:"Status",children:(0,r.jsx)(i,{...e})})})}},8866:(e,t,n)=>{n.d(t,{N:()=>l});var a=n(4031),s=n(184);function l(e){let{children:t,level:n,...l}=e;return(0,s.jsx)(a.Z.Title,{level:null!==n&&void 0!==n?n:3,...l,children:t})}},6173:(e,t,n)=>{n.d(t,{xh:()=>v,H:()=>p,zE:()=>h,Do:()=>m,Th:()=>x.T,F6:()=>l});n(8866);var a=n(3733),s=n(184);const l=e=>{let{children:t,active:n=!1,activeClass:l="",className:r="",hoverType:i="scale",...c}=e;return(0,s.jsx)("button",{className:(0,a.Z)("transparent-button","transparent-button--".concat(i),n&&(l||"transparent-button--active"),r),...c,children:t})};var r=n(5225),i=n(7765),c=n(2326),o=n(5922),d=n(6218),u=n(1431);function h(e){let{label:t,value:n,onChange:a,options:l,placeholder:c}=e;return(0,s.jsx)(r.Z.Item,{label:t,children:(0,s.jsxs)(i.Z,{style:{minWidth:"150px"},onChange:a,value:n,children:[c&&(0,s.jsx)(i.Z.Option,{value:"",disabled:!0,children:"placeholder"}),l.map((e=>"object"===typeof e?(0,s.jsx)(i.Z.Option,{value:e.value,children:e.label},"".concat(t,"-").concat(e.value)):(0,s.jsx)(i.Z.Option,{value:e,children:e},"".concat(t,"-").concat(e))))]})})}function v(e){let{label:t,value:n,onChange:a,min:l=0,max:i=100,step:o}=e;return(0,s.jsx)(r.Z.Item,{label:t,children:(0,s.jsx)(c.Z,{min:l,max:i,value:n,onChange:e=>a(null!==e&&void 0!==e?e:i),style:{minWidth:"150px",width:"100%"},step:o})})}function m(e){let{label:t,value:n,onChange:a,className:l}=e;return(0,s.jsx)(r.Z.Item,{label:t,valuePropName:"checked",className:l,children:(0,s.jsx)(o.Z,{checked:n,onChange:a,size:"small"})})}function p(e){let{value:t,label:n,onChange:a,options:l}=e;return(0,s.jsx)(r.Z.Item,{label:n,children:(0,s.jsx)(d.Z,{block:!0,value:t,onChange:a,options:l.map((e=>({label:(0,s.jsx)(u.Z,{title:e.title,children:e.icon}),value:e.value})))})})}var x=n(2999)},2128:(e,t,n)=>{n.d(t,{T:()=>c});var a=n(43),s=n(3990),l=n(1234),r=n(4664),i=n(184);function c(e){let{isLoading:t,isIdle:n,error:c,hasResponseData:o,children:d}=e;return!n&&t?(0,i.jsx)(a.Z,{tip:"Loading",children:d}):c?(0,i.jsx)(s.Z.Content,{className:"content content-center",children:(0,i.jsx)(l.Z,{message:"Error",description:c.message,type:"error",showIcon:!0})}):n||!1===o?(0,i.jsx)(s.Z.Content,{className:"content content-center",children:(0,i.jsx)(r.Z,{})}):(0,i.jsx)(i.Fragment,{children:d})}},145:(e,t,n)=>{n.d(t,{f:()=>i});var a=n(3733),s=n(6340),l=n(2606),r=n(184);const i=e=>{let{id:t,width:n=200,className:i="",preview:c=!0,fileExtension:o="jpg"}=e;const{getUrl:d}=(0,l.n)("tdi"),u=t.replace(/-/g,"/");return(0,r.jsx)("div",{className:(0,a.Z)("image-card",i),children:(0,r.jsx)(s.Z,{width:n,src:d("".concat(u,".").concat(o)),fallback:d("back/default.jpg"),preview:c})})}},2606:(e,t,n)=>{function a(e){let t="",n="";switch(e){case"tdi":t="https://www.kavispires.com",n="tdi/images";break;case"tdi-data":t="https://www.kavispires.com",n="tdi/data";break;default:t="https://www.kavispires.com",n="tdr/resources"}return{baseUrl:t,getUrl:e=>[t,n,e].join("/")}}n.d(t,{n:()=>a})},9946:(e,t,n)=>{n.d(t,{m:()=>l});var a=n(2791),s=n(7415);function l(e,t){const[n,{width:l}]=(0,s.Z)(),{gap:r=32,minWidth:i=120,maxWidth:c=300,margin:o=0}=null!==t&&void 0!==t?t:{};return[(0,a.useMemo)((()=>{const t=Math.min(Math.max(Math.floor((l-o)/e)-r,i),c);return Number.isNaN(t)?i:t}),[l,e,r,i,c,o]),n]}},4766:(e,t,n)=>{n.d(t,{K:()=>l});var a=n(2791),s=n(1087);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,n]=(0,s.lr)(),l=(e,a,s)=>{void 0===a||""===a||a===s?t.delete(e):t.set(e,String(a)),n(t)},r=e=>{t.delete(e),n(t)};(0,a.useEffect)((()=>{Object.entries(e).forEach((e=>{let[n,a]=e;t.has(n)||l(n,a)}))}),[]);const i=t.toString().split("&").reduce(((e,t)=>{const[n,a]=t.split("=");return n&&void 0!==a&&(e[n]=a),e}),{});return{addParam:l,removeParam:r,queryParams:i}}},5529:(e,t,n)=>{n.d(t,{N:()=>r});var a=n(763),s=n(2010),l=n(2606);function r(e){var t;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{getUrl:r}=(0,l.n)("tdr"),i=(0,s.a)({queryKey:[e],queryFn:async()=>{const t=await fetch(r("".concat(e,".json")));return await t.json()},enabled:n}),c=!(0,a.isEmpty)(i.data);return{...i,data:null!==(t=i.data)&&void 0!==t?t:{},hasResponseData:c}}},2314:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var a=n(7462),s=n(2791);const l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M874 120H622c-3.3 0-6 2.7-6 6v56c0 3.3 2.7 6 6 6h160.4L583.1 387.3c-50-38.5-111-59.3-175.1-59.3-76.9 0-149.3 30-203.6 84.4S120 539.1 120 616s30 149.3 84.4 203.6C258.7 874 331.1 904 408 904s149.3-30 203.6-84.4C666 765.3 696 692.9 696 616c0-64.1-20.8-124.9-59.2-174.9L836 241.9V402c0 3.3 2.7 6 6 6h56c3.3 0 6-2.7 6-6V150c0-16.5-13.5-30-30-30zM408 828c-116.9 0-212-95.1-212-212s95.1-212 212-212 212 95.1 212 212-95.1 212-212 212z"}}]},name:"man",theme:"outlined"};var r=n(4186),i=function(e,t){return s.createElement(r.Z,(0,a.Z)({},e,{ref:t,icon:l}))};const c=s.forwardRef(i);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M712.8 548.8c53.6-53.6 83.2-125 83.2-200.8 0-75.9-29.5-147.2-83.2-200.8C659.2 93.6 587.8 64 512 64s-147.2 29.5-200.8 83.2C257.6 200.9 228 272.1 228 348c0 63.8 20.9 124.4 59.4 173.9 7.3 9.4 15.2 18.3 23.7 26.9 8.5 8.5 17.5 16.4 26.8 23.7 39.6 30.8 86.3 50.4 136.1 57V736H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h114v140c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V812h114c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H550V629.5c61.5-8.2 118.2-36.1 162.8-80.7zM512 556c-55.6 0-107.7-21.6-147.1-60.9C325.6 455.8 304 403.6 304 348s21.6-107.7 60.9-147.1C404.2 161.5 456.4 140 512 140s107.7 21.6 147.1 60.9C698.4 240.2 720 292.4 720 348s-21.6 107.7-60.9 147.1C619.7 534.4 567.6 556 512 556z"}}]},name:"woman",theme:"outlined"};var d=function(e,t){return s.createElement(r.Z,(0,a.Z)({},e,{ref:t,icon:o}))};const u=s.forwardRef(d);var h=n(3990),v=n(4031),m=n(6340),p=n(1046),x=n(952),g=n(2128),j=n(145),f=n(6173),b=n(1958),y=n(184);const w=[{value:"ct",label:"Cartoon"},{value:"ai",label:"AI"},{value:"md",label:"Models"},{value:"wc",label:"Wacky"},{value:"original",label:"Original"}],N=[{value:"id",label:"Id"},{value:"name.pt",label:"Name (PT)"},{value:"name.en",label:"Name (EN)"},{value:"ethnicity",label:"Ethnicity"},{value:"gender",label:"Gender"}];function Z(e){let{selectedVersion:t,setSelectedVersion:n,cardsPerRow:a,setCardsPerRow:s,sortBy:l,setSortBy:r}=e;return(0,y.jsxs)(b.Pd,{children:[(0,y.jsx)(f.zE,{label:"Version",value:t,onChange:n,options:w}),(0,y.jsx)(f.xh,{label:"Cards Per Row",value:a,onChange:s,min:1,max:8}),(0,y.jsx)(f.zE,{label:"Sort By",value:l,onChange:r,options:N})]})}var C=n(763);function E(e){let{data:t}=e;const{ages:n,ethnicities:a,genders:l}=(0,s.useMemo)((()=>{const e={},n={},a={};Object.values(t).forEach((t=>{var s,l,r;e[t.age]=(null!==(s=e[t.age])&&void 0!==s?s:0)+1,n[t.ethnicity]=(null!==(l=n[t.ethnicity])&&void 0!==l?l:0)+1,a[t.gender]=(null!==(r=a[t.gender])&&void 0!==r?r:0)+1}));const s=Object.keys(t).length;return{ages:(0,C.orderBy)(Object.entries(e).map((e=>{let[t,n]=e;return{key:t,label:(0,C.capitalize)(t),value:n,percentage:Math.round(n/s*100)}})),["percentage"],["desc"]),ethnicities:(0,C.orderBy)(Object.entries(n).map((e=>{let[t,n]=e;return{key:t,label:(0,C.capitalize)(t),value:n,percentage:Math.round(n/s*100)}})),["percentage"],["desc"]),genders:(0,C.orderBy)(Object.entries(a).map((e=>{let[t,n]=e;return{key:t,label:(0,C.capitalize)(t),value:n,percentage:Math.round(n/s*100)}})),["percentage"],["desc"])}}),[t]);return(0,y.jsxs)(b.Pd,{children:[(0,y.jsx)("div",{className:"statistic",children:"Stats"}),(0,y.jsx)("div",{className:"statistic__section",children:"Ethnicity"}),(0,y.jsx)("ul",{className:"statistic__list",children:a.map((e=>(0,y.jsxs)("li",{children:[(0,y.jsx)("strong",{children:e.label})," - ",e.percentage,"%"]},e.key)))}),(0,y.jsx)("div",{className:"statistic__section",children:"Gender"}),(0,y.jsx)("ul",{className:"statistic__list",children:l.map((e=>(0,y.jsxs)("li",{children:[(0,y.jsx)("strong",{children:e.label})," - ",e.percentage,"%"]},e.key)))}),(0,y.jsx)("div",{className:"statistic__section",children:"Age"}),(0,y.jsx)("ul",{className:"statistic__list",children:n.map((e=>(0,y.jsxs)("li",{children:[(0,y.jsx)("strong",{children:e.label})," - ",e.percentage,"%"]},e.key)))})]})}var k=n(4562),O=n(9946),P=n(4766),_=n(5529);const z=function(){const e=(0,P.K)({version:"ct"}),{version:t="ct"}=e.queryParams,{isLoading:n,error:a,data:l,hasResponseData:r}=(0,_.N)("suspects"),[i,o]=(0,s.useState)(8),[d,w]=(0,O.m)(i),[N,z]=(0,s.useState)("id"),R=(0,s.useMemo)((()=>(0,C.orderBy)(Object.values(l),[N],["asc"]).map((e=>{const n=e.id.split("-"),a="original"===t?e.id:"".concat(n[0],"-").concat(t,"-").concat(n[1]);return{...e,id:a}}))),[l,t,N]);return(0,y.jsx)(b.Xg,{title:"Images",subtitle:"Suspects",children:(0,y.jsxs)(h.Z,{hasSider:!0,children:[(0,y.jsxs)(k.p,{children:[(0,y.jsx)(f.Th,{hasResponseData:r,isLoading:n,error:a}),(0,y.jsx)(Z,{selectedVersion:t,setSelectedVersion:t=>e.addParam("version",t),cardsPerRow:i,setCardsPerRow:o,sortBy:N,setSortBy:z}),(0,y.jsx)(E,{data:l})]}),(0,y.jsx)(h.Z.Content,{className:"content",children:(0,y.jsxs)(g.T,{isLoading:n,error:a,hasResponseData:r,children:[(0,y.jsxs)(v.Z.Title,{level:2,children:["Deck ",t," (",R.length,")"]}),(0,y.jsx)(m.Z.PreviewGroup,{children:(0,y.jsx)(p.Z,{ref:w,wrap:!0,className:"my-2",children:R.map((e=>(0,y.jsxs)("div",{className:"suspect",style:{width:"".concat(d,"px")},children:[(0,y.jsx)(j.f,{id:e.id,width:d,className:"suspect__image"}),(0,y.jsxs)("div",{className:"suspect__name",children:[(0,y.jsx)("div",{children:(0,y.jsx)(x.Z,{children:e.id})}),(0,y.jsxs)("div",{children:["\ud83c\udde7\ud83c\uddf7 ",e.name.pt]}),(0,y.jsxs)("div",{children:["\ud83c\uddfa\ud83c\uddf8 ",e.name.en]}),(0,y.jsxs)("div",{className:"suspect__info",children:[(0,y.jsxs)("div",{children:["male"===e.gender?(0,y.jsx)(c,{}):(0,y.jsx)(u,{})," ",e.age]}),(0,y.jsx)("div",{children:(0,y.jsx)("em",{children:e.ethnicity})})]})]})]},e.id)))},t)})]})})]})})}},6384:(e,t,n)=>{function a(e){return["small","middle","large"].includes(e)}function s(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}n.d(t,{T:()=>s,n:()=>a})},1046:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(2791),s=n(9809),l=n.n(s),r=n(6927),i=n(6384),c=n(1929),o=n(11);const d=a.createContext({latestIndex:0}),u=d.Provider,h=e=>{let{className:t,index:n,children:s,split:l,style:r}=e;const{latestIndex:i}=a.useContext(d);return null===s||void 0===s?null:a.createElement(a.Fragment,null,a.createElement("div",{className:t,style:r},s),n<i&&l&&a.createElement("span",{className:"".concat(t,"-split")},l))};var v=n(1294),m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n};const p=a.forwardRef(((e,t)=>{var n,s;const{getPrefixCls:o,space:d,direction:p}=a.useContext(c.E_),{size:x=(null===d||void 0===d?void 0:d.size)||"small",align:g,className:j,rootClassName:f,children:b,direction:y="horizontal",prefixCls:w,split:N,style:Z,wrap:C=!1,classNames:E,styles:k}=e,O=m(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[P,_]=Array.isArray(x)?x:[x,x],z=(0,i.n)(_),R=(0,i.n)(P),S=(0,i.T)(_),M=(0,i.T)(P),I=(0,r.Z)(b,{keepEmpty:!0}),T=void 0===g&&"horizontal"===y?"center":g,B=o("space",w),[D,L,V]=(0,v.Z)(B),U=l()(B,null===d||void 0===d?void 0:d.className,L,"".concat(B,"-").concat(y),{["".concat(B,"-rtl")]:"rtl"===p,["".concat(B,"-align-").concat(T)]:T,["".concat(B,"-gap-row-").concat(_)]:z,["".concat(B,"-gap-col-").concat(P)]:R},j,f,V),W=l()("".concat(B,"-item"),null!==(n=null===E||void 0===E?void 0:E.item)&&void 0!==n?n:null===(s=null===d||void 0===d?void 0:d.classNames)||void 0===s?void 0:s.item);let G=0;const q=I.map(((e,t)=>{var n,s;null!==e&&void 0!==e&&(G=t);const l=e&&e.key||"".concat(W,"-").concat(t);return a.createElement(h,{className:W,key:l,index:t,split:N,style:null!==(n=null===k||void 0===k?void 0:k.item)&&void 0!==n?n:null===(s=null===d||void 0===d?void 0:d.styles)||void 0===s?void 0:s.item},e)})),A=a.useMemo((()=>({latestIndex:G})),[G]);if(0===I.length)return null;const F={};return C&&(F.flexWrap="wrap"),!R&&M&&(F.columnGap=P),!z&&S&&(F.rowGap=_),D(a.createElement("div",Object.assign({ref:t,className:U,style:Object.assign(Object.assign(Object.assign({},F),null===d||void 0===d?void 0:d.style),Z)},O),a.createElement(u,{value:A},q)))})),x=p;x.Compact=o.ZP;const g=x},8624:(e,t,n)=>{n.d(t,{ZT:()=>a,jU:()=>s});var a=function(){};var s="undefined"!==typeof window},7415:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(2791),s=n(8624);const l=s.jU?a.useLayoutEffect:a.useEffect;var r={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const i=s.jU&&"undefined"!==typeof window.ResizeObserver?function(){var e=(0,a.useState)(null),t=e[0],n=e[1],s=(0,a.useState)(r),i=s[0],c=s[1],o=(0,a.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,n=t.x,a=t.y,s=t.width,l=t.height,r=t.top,i=t.left,o=t.bottom,d=t.right;c({x:n,y:a,width:s,height:l,top:r,left:i,bottom:o,right:d})}}))}),[]);return l((function(){if(t)return o.observe(t),function(){o.disconnect()}}),[t]),[n,i]}:function(){return[s.ZT,r]}}}]);
//# sourceMappingURL=Suspects.799a1752.chunk.js.map