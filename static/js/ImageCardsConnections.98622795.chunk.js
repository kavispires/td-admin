"use strict";(self.webpackChunktdr=self.webpackChunktdr||[]).push([[286],{8741:(t,e,s)=>{s.r(e),s.d(e,{default:()=>E});var n=s(3990),r=s(4520),i=s(1046),o=s(952),a=s(6402),c=s(2128),u=s(763),h=s(2791),l=s(7415),d=s(7462);const p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm154.7 454.5l-246 178c-5.3 3.8-12.7 0-12.7-6.5v-46.9c0-10.2 4.9-19.9 13.2-25.9L566.6 512 421.2 406.8c-8.3-6-13.2-15.6-13.2-25.9V334c0-6.5 7.4-10.3 12.7-6.5l246 178c4.4 3.2 4.4 9.8 0 13z"}}]},name:"right-circle",theme:"filled"};var f=s(4315),m=function(t,e){return h.createElement(f.Z,(0,d.Z)({},t,{ref:e,icon:p}))};const v=h.forwardRef(m);var g=s(145),b=s(6709),x=s(184);function R(){const{query:{isDirty:t,isSaving:e,save:s,stats:n,data:d,...p},randomGroups:{cardIds:f},showIds:m,cardSize:R}=(0,b.l)(),[j,{width:S}]=(0,l.Z)(),[,w]=(0,h.useMemo)((()=>{const t=Math.floor(S/R)+1;return[t,Math.floor(S/t)]}),[R,S]),M=[{title:"Length",dataIndex:"length",key:"length"},{title:"Relationships",dataIndex:"relationships",key:"relationship",render:(t,e)=>(0,x.jsx)(r.Z,{wrap:"wrap",gap:2,children:t.map((s=>(0,x.jsxs)(i.Z,{children:[(0,x.jsxs)(i.Z,{direction:"vertical",children:[(0,x.jsx)(g.f,{id:s,width:w}),m&&(0,x.jsx)(o.Z,{children:s})]}),t[t.length-1]!==s&&(0,x.jsx)(v,{})]},"".concat(e.origin,"-").concat(s))))})}],C=(0,h.useMemo)((()=>(0,u.orderBy)(f.map((t=>{const e=y(t,d,"longest",10);return{key:t,origin:t,length:e.length,relationships:e}})),["length"],["desc"])),[f,d]);return(0,x.jsx)(c.T,{isLoading:p.isLoading,error:p.error,hasResponseData:!0,children:(0,x.jsx)("div",{ref:j,className:"my-6",children:(0,x.jsx)(a.Z,{dataSource:C,columns:M})})})}const y=(0,u.memoize)(((t,e,s,n)=>{const r=new Set,i=[];let o=[],a=0;for(i.push({currentId:t,path:[],depth:0});i.length>0&&a<100;){a++;const{currentId:t,path:c,depth:u}=i.pop();if(r.add(t),c.push(t),"longest"===s&&c.length>o.length&&(o=[...c]),"shortest"===s&&(0===o.length||c.length<o.length)&&(o=[...c]),"any"===s&&0===o.length&&(o=[...c]),!(u>=n))for(const s of e[t]||[])r.has(s)||i.push({currentId:s,path:[...c],depth:u+1})}return o}));var j=s(2556),S=s(1958),w=s(6173),M=s(7018),C=s(6591),z=s(9936);function Z(){const{query:{isDirty:t,isSaving:e,data:s,isLoading:n,isError:r},showIds:i,setShowIds:o,sampleSize:a,setSampleSize:c,cardSize:h,setCardSize:l,randomGroups:{nextSet:d}}=(0,b.l)();return(0,x.jsxs)(S.p3,{children:[(0,x.jsx)(w.Th,{isLoading:n||e,isDirty:t,isError:r,hasResponseData:!(0,u.isEmpty)(s)}),(0,x.jsxs)(S.Pd,{children:[(0,x.jsx)(w.Do,{label:"Show Ids",value:i,onChange:t=>o(t)}),(0,x.jsx)(w.zE,{onChange:t=>c(t),value:a,options:C.ZI,label:"Sample Size"}),(0,x.jsx)(w.zE,{onChange:t=>l(t),value:h,options:C.Hn,label:"Card Size"}),(0,x.jsx)(j.ZP,{onClick:d,block:!0,type:"primary",children:"New Random Sample"})]}),(0,x.jsx)(S.Pd,{children:(0,x.jsx)(z.A,{})}),(0,x.jsx)(S.Pd,{children:(0,x.jsx)(M.o,{data:s,fileName:"imageCardsRelationships.json",loading:e,disabled:(0,u.isEmpty)(s),block:!0})})]})}const E=function(){return(0,x.jsx)(S.Xg,{title:"Image Cards",subtitle:"Connections",children:(0,x.jsx)(b.P,{children:(0,x.jsxs)(n.Z,{hasSider:!0,children:[(0,x.jsx)(Z,{}),(0,x.jsx)(n.Z.Content,{className:"content",children:(0,x.jsx)(R,{})})]})})})}},8622:(t,e,s)=>{s.d(e,{Z:()=>c});var n=s(7462),r=s(2791);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"};var o=s(4315),a=function(t,e){return r.createElement(o.Z,(0,n.Z)({},t,{ref:e,icon:i}))};const c=r.forwardRef(a)},7136:(t,e,s)=>{s.d(e,{ZT:()=>n,jU:()=>r});var n=function(){};var r="undefined"!==typeof window},7415:(t,e,s)=>{s.d(e,{Z:()=>a});var n=s(2791),r=s(7136);const i=r.jU?n.useLayoutEffect:n.useEffect;var o={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const a=r.jU&&"undefined"!==typeof window.ResizeObserver?function(){var t=(0,n.useState)(null),e=t[0],s=t[1],r=(0,n.useState)(o),a=r[0],c=r[1],u=(0,n.useMemo)((function(){return new window.ResizeObserver((function(t){if(t[0]){var e=t[0].contentRect,s=e.x,n=e.y,r=e.width,i=e.height,o=e.top,a=e.left,u=e.bottom,h=e.right;c({x:s,y:n,width:r,height:i,top:o,left:a,bottom:u,right:h})}}))}),[]);return i((function(){if(e)return u.observe(e),function(){u.disconnect()}}),[e]),[s,a]}:function(){return[r.ZT,o]}},3418:(t,e,s)=>{s.d(e,{D:()=>d});var n=s(2791),r=s(9054),i=s(9538),o=s(5511),a=s(3734);class c extends o.l{constructor(t,e){super(),this.client=t,this.setOptions(e),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;const s=this.options;this.options=this.client.defaultMutationOptions(t),(0,a.VS)(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(e=this.currentMutation)||e.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(null==(t=this.currentMutation)||t.removeObserver(this))}onMutationUpdate(t){this.updateResult();const e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:"undefined"!==typeof t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:(0,r.R)(),e={...t,isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};this.currentResult=e}notify(t){i.V.batch((()=>{var e,s,n,r;if(this.mutateOptions&&this.hasListeners())if(t.onSuccess)null==(e=(s=this.mutateOptions).onSuccess)||e.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(n=(r=this.mutateOptions).onSettled)||n.call(r,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(t.onError){var i,o,a,c;null==(i=(o=this.mutateOptions).onError)||i.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(c=this.mutateOptions).onSettled)||a.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}t.listeners&&this.listeners.forEach((t=>{let{listener:e}=t;e(this.currentResult)}))}))}}var u=s(7413),h=s(6403),l=s(9608);function d(t,e,s){const r=(0,a.lV)(t,e,s),o=(0,h.NL)({context:r.context}),[d]=n.useState((()=>new c(o,r)));n.useEffect((()=>{d.setOptions(r)}),[d,r]);const f=(0,u.$)(n.useCallback((t=>d.subscribe(i.V.batchCalls(t))),[d]),(()=>d.getCurrentResult()),(()=>d.getCurrentResult())),m=n.useCallback(((t,e)=>{d.mutate(t,e).catch(p)}),[d]);if(f.error&&(0,l.L)(d.options.useErrorBoundary,[f.error]))throw f.error;return{...f,mutate:m,mutateAsync:f.mutate}}function p(){}}}]);
//# sourceMappingURL=ImageCardsConnections.98622795.chunk.js.map