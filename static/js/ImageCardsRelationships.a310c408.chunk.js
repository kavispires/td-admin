"use strict";(self.webpackChunktd_admin=self.webpackChunktd_admin||[]).push([[997],{2675:(e,s,t)=>{t.d(s,{m:()=>n});var i=t(1413),a=t(952),r=t(7134),l=t(184);function n(e){const s=(0,r._)();return(0,l.jsx)(a.Z,(0,i.Z)({onClick:()=>{var t,i;return s(null!==(t=null===(i=e.children)||void 0===i?void 0:i.toString())&&void 0!==t?t:"")}},e))}},7166:(e,s,t)=>{t.d(s,{P:()=>n,l:()=>o});var i=t(2791),a=t(2671),r=t(184);const l=(0,i.createContext)({}),n=e=>{let{children:s}=e;const t=(0,a.AZ)(),[n,o]=(0,i.useState)(15),[c,d]=(0,i.useState)(5),[h,u]=(0,i.useState)(150),[x,g]=(0,i.useState)(!1),j=(0,a.IN)(t.data,t.setDirty,n,c);return(0,r.jsx)(l.Provider,{value:{sampleSize:n,setSampleSize:o,tagThreshold:c,setTagThreshold:d,cardSize:h,setCardSize:u,showIds:x,setShowIds:g,randomGroups:j,query:t},children:s})},o=()=>(0,i.useContext)(l)},9936:(e,s,t)=>{t.d(s,{A:()=>o});var i=t(8622),a=t(4790),r=t(7861),l=t(7166),n=t(184);function o(){const{query:{stats:e}}=(0,l.l)();return(0,n.jsx)(a.Z.Item,{label:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{icon:(0,n.jsx)(i.Z,{}),shape:"square",size:"small",style:{marginRight:6}}),"Stats"]}),children:(0,n.jsxs)("ul",{className:"statistic__list",children:[(0,n.jsxs)("li",{children:["Completion: ",Math.floor(100*e.total/2520),"%"]}),(0,n.jsxs)("li",{children:["Total Relationships: ",e.total]}),(0,n.jsxs)("li",{children:["Complete: ",e.complete]}),(0,n.jsxs)("li",{children:["Overdone: ",e.overdone]}),(0,n.jsxs)("li",{children:["Single Match: ",e.single]})]})})}},7134:(e,s,t)=>{t.d(s,{_:()=>n});var i=t(4607),a=t(763),r=t(2791),l=t(3250);function n(){const[e,s]=(0,l.Z)(),{message:t}=i.Z.useApp();return(0,r.useEffect)((()=>{e.value&&(e.value.length>20?t.info("Copied to clipboard: ".concat((0,a.truncate)(e.value,{length:30,omission:"..."}))):t.success("Copied"))}),[e,t]),s}},7131:(e,s,t)=>{t.r(s),t.d(s,{default:()=>A});var i=t(1790),a=t(7166),r=t(4925),l=t(7691),n=t(7106),o=t(398),c=t(4988),d=t(7360),h=t(4057),u=t(6473),x=t(1431),g=t(2402),j=t(3088),m=t(8357),p=t(2675),v=t(2128),S=t(763),y=t(2791),C=t(7415),Z=t(145),f=t(4249),z=t(184);const b=["isDirty","isSaving","save","stats"];function w(){const e=(0,a.l)(),{query:{isDirty:s,isSaving:t,save:i,stats:n},randomGroups:{cardIds:o,cards:c,onSelect:d,selection:h,relate:j,nextSet:w,deselectAll:I,cycles:N},showIds:T,cardSize:_}=e,k=(0,r.Z)(e.query,b),E=(0,y.useRef)(null),[R,{width:A}]=(0,C.Z)(),[M,P]=(0,y.useMemo)((()=>{const e=Math.floor(A/_)+1;return[e,Math.floor(A/e)]}),[_,A]);return(0,z.jsx)(v.T,{isLoading:k.isLoading,error:k.error,hasResponseData:!(0,S.isEmpty)(k.data),children:(0,z.jsx)("div",{ref:R,className:"my-6",children:(0,z.jsxs)(u.Z,{title:"Card Relationship Matching",extra:(0,z.jsxs)(x.Z,{title:"Total cycles",children:[(0,z.jsx)(l.Z,{})," ",N]}),className:"image-card-categorizer-card",ref:E,children:[(0,z.jsx)(g.Z.PreviewGroup,{children:(0,z.jsx)("div",{className:"image-cards-group",style:{gridTemplateColumns:"repeat(".concat(Math.max(M,1),", 1fr)")},children:o.map(((e,s)=>{const t=h.includes(e),i=c[s];return(0,z.jsx)("div",{className:"image-card-card__image",children:(0,z.jsxs)(m.F6,{onClick:()=>d(e),active:t,className:"image-cards-group__button",activeClass:"image-cards-group__button--active",children:[(0,z.jsx)(Z.f,{id:e,width:P-24,preview:!1}),(0,z.jsxs)("div",{children:[T&&(0,z.jsx)(p.m,{children:e}),(0,z.jsx)(f.c,{card:i})]})]})},e)}))})}),(0,z.jsx)(D,{isSaving:t,isDirty:s,selection:h,relate:j,deselectAll:I,onNextSet:()=>{var e;w(),null===(e=E.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}})]})})})}const D=e=>{let{isSaving:s,isDirty:t,selection:i,relate:a,deselectAll:r,onNextSet:l}=e;if(s)return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(j.Z,{icon:(0,z.jsx)(n.Z,{})})});return(0,z.jsxs)(z.Fragment,{children:[t&&(0,z.jsx)(j.Z,{icon:(0,z.jsx)(o.Z,{}),type:"primary",style:{right:234}}),(0,z.jsx)(j.Z,{icon:(0,z.jsx)(c.Z,{}),style:{right:164},onClick:r}),(0,z.jsx)(j.Z,{icon:(0,z.jsx)(d.Z,{}),style:{right:94},type:i.length<2?"default":"primary",badge:{count:i.length,size:"small"},onClick:()=>{i.length<2||a()}}),(0,z.jsx)(j.Z,{icon:(0,z.jsx)(h.Z,{}),style:{right:24},onClick:l})]})};var I=t(4520),N=t(7018),T=t(7340),_=t(7965),k=t(6591),E=t(9936);function R(){const{query:{isDirty:e,isSaving:s,save:t,data:i,isLoading:r,isError:l},randomGroups:{filters:n},showIds:o,setShowIds:c,tagThreshold:d,setTagThreshold:h,sampleSize:u,setSampleSize:x,cardSize:g,setCardSize:j}=(0,a.l)();return(0,z.jsxs)(_.p3,{children:[(0,z.jsx)(_.Pd,{children:(0,z.jsxs)(I.Z,{vertical:!0,gap:6,children:[(0,z.jsx)(T.k,{isDirty:e,dirt:JSON.stringify(i),onSave:()=>t({}),isSaving:s}),(0,z.jsx)(N.o,{data:i,fileName:"imageCardsRelationships.json",loading:s,disabled:(0,S.isEmpty)(i),block:!0})]})}),(0,z.jsx)(m.Th,{isLoading:r||s,isDirty:e,isError:l,hasResponseData:!(0,S.isEmpty)(i)}),(0,z.jsxs)(_.Pd,{children:[(0,z.jsx)(m.Do,{label:"Use Cycles",value:n.useCycles,onChange:()=>n.toggleUseCycles()}),(0,z.jsx)(m.Do,{label:"Show Ids",value:o,onChange:e=>c(e)}),(0,z.jsx)(m.zE,{onChange:e=>h(e),value:d,options:k.VC,label:"Tag Count"}),(0,z.jsx)(m.zE,{onChange:e=>x(e),value:u,options:k.ZI,label:"Sample Size"}),(0,z.jsx)(m.zE,{onChange:e=>j(e),value:g,options:k.Hn,label:"Card Size"})]}),(0,z.jsx)(_.Pd,{children:(0,z.jsx)(E.A,{})})]})}const A=function(){return(0,z.jsx)(_.Xg,{title:"Image Cards",subtitle:"Relationships",children:(0,z.jsx)(a.P,{children:(0,z.jsxs)(i.Z,{hasSider:!0,children:[(0,z.jsx)(R,{}),(0,z.jsx)(i.Z.Content,{className:"content",children:(0,z.jsx)(w,{})})]})})})}}}]);
//# sourceMappingURL=ImageCardsRelationships.a310c408.chunk.js.map